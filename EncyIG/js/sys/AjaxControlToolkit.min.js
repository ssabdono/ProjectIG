//START Common.Common.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedCommon"; function a() { var p = "WatermarkChanged", l = "hiddenInputToUpdateATBuffer_CommonToolkitScripts", g = "HTMLEvents", r = "mousemove", k = "MouseEvents", m = "UIEvents", o = "display", q = "DXImageTransform.Microsoft.Alpha", i = "value", h = "hidden", n = "none", f = "px", e = "element", d = "undefined", c = null, a = false, j = "Sys.Extended.UI.BoxSide", b = true, s = Sys.version; if (!s && !Sys._versionChecked) { Sys._versionChecked = b; throw new Error("AjaxControlToolkit requires ASP.NET Ajax 4.0 scripts. Ensure the correct version of the scripts are referenced. If you are using an ASP.NET ScriptManager, switch to the ToolkitScriptManager in AjaxControlToolkit.dll."); } Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.BoxSide = function () { }; Sys.Extended.UI.BoxSide.prototype = { Top: 0, Right: 1, Bottom: 2, Left: 3 }; Sys.Extended.UI.BoxSide.registerEnum(j, a); Sys.Extended.UI._CommonToolkitScripts = function () { }; Sys.Extended.UI._CommonToolkitScripts.prototype = { _borderStyleNames: ["borderTopStyle", "borderRightStyle", "borderBottomStyle", "borderLeftStyle"], _borderWidthNames: ["borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"], _paddingWidthNames: ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"], _marginWidthNames: ["marginTop", "marginRight", "marginBottom", "marginLeft"], getCurrentStyle: function (b, e, f) { var a = c; if (b) { if (b.currentStyle) a = b.currentStyle[e]; else if (document.defaultView && document.defaultView.getComputedStyle) { var g = document.defaultView.getComputedStyle(b, c); if (g) a = g[e] } if (!a && b.style.getPropertyValue) a = b.style.getPropertyValue(e); else if (!a && b.style.getAttribute) a = b.style.getAttribute(e) } if (!a || a == "" || typeof a === d) if (typeof f != d) a = f; else a = c; return a }, getInheritedBackgroundColor: function (d) { var c = "backgroundColor", a = "#FFFFFF"; if (!d) return a; var b = this.getCurrentStyle(d, c); try { while (!b || b == "" || b == "transparent" || b == "rgba(0, 0, 0, 0)") { d = d.parentNode; if (!d) b = a; else b = this.getCurrentStyle(d, c) } } catch (e) { b = a } return b }, getLocation: function (a) { return Sys.UI.DomElement.getLocation(a) }, setLocation: function (b, a) { Sys.UI.DomElement.setLocation(b, a.x, a.y) }, getContentSize: function (a) { if (!a) throw Error.argumentNull(e); var d = this.getSize(a), c = this.getBorderBox(a), b = this.getPaddingBox(a); return { width: d.width - c.horizontal - b.horizontal, height: d.height - c.vertical - b.vertical } }, getSize: function (a) { if (!a) throw Error.argumentNull(e); return { width: a.offsetWidth, height: a.offsetHeight } }, setContentSize: function (a, c) { var b = "border-box", d = this; if (!a) throw Error.argumentNull(e); if (!c) throw Error.argumentNull("size"); if (d.getCurrentStyle(a, "MozBoxSizing") == b || d.getCurrentStyle(a, "BoxSizing") == b) { var h = d.getBorderBox(a), g = d.getPaddingBox(a); c = { width: c.width + h.horizontal + g.horizontal, height: c.height + h.vertical + g.vertical } } a.style.width = c.width.toString() + f; a.style.height = c.height.toString() + f }, setSize: function (a, b) { if (!a) throw Error.argumentNull(e); if (!b) throw Error.argumentNull("size"); var d = this.getBorderBox(a), c = this.getPaddingBox(a), f = { width: b.width - d.horizontal - c.horizontal, height: b.height - d.vertical - c.vertical }; this.setContentSize(a, f) }, getBounds: function (a) { return Sys.UI.DomElement.getBounds(a) }, setBounds: function (a, b) { if (!a) throw Error.argumentNull(e); if (!b) throw Error.argumentNull("bounds"); this.setSize(a, b); $common.setLocation(a, b) }, getClientBounds: function () { var b, a; if (document.compatMode == "CSS1Compat") { b = document.documentElement.clientWidth; a = document.documentElement.clientHeight } else { b = document.body.clientWidth; a = document.body.clientHeight } return new Sys.UI.Bounds(0, 0, b, a) }, getMarginBox: function (b) { var c = this; if (!b) throw Error.argumentNull(e); var a = { top: c.getMargin(b, Sys.Extended.UI.BoxSide.Top), right: c.getMargin(b, Sys.Extended.UI.BoxSide.Right), bottom: c.getMargin(b, Sys.Extended.UI.BoxSide.Bottom), left: c.getMargin(b, Sys.Extended.UI.BoxSide.Left) }; a.horizontal = a.left + a.right; a.vertical = a.top + a.bottom; return a }, getBorderBox: function (b) { var c = this; if (!b) throw Error.argumentNull(e); var a = { top: c.getBorderWidth(b, Sys.Extended.UI.BoxSide.Top), right: c.getBorderWidth(b, Sys.Extended.UI.BoxSide.Right), bottom: c.getBorderWidth(b, Sys.Extended.UI.BoxSide.Bottom), left: c.getBorderWidth(b, Sys.Extended.UI.BoxSide.Left) }; a.horizontal = a.left + a.right; a.vertical = a.top + a.bottom; return a }, getPaddingBox: function (b) { var c = this; if (!b) throw Error.argumentNull(e); var a = { top: c.getPadding(b, Sys.Extended.UI.BoxSide.Top), right: c.getPadding(b, Sys.Extended.UI.BoxSide.Right), bottom: c.getPadding(b, Sys.Extended.UI.BoxSide.Bottom), left: c.getPadding(b, Sys.Extended.UI.BoxSide.Left) }; a.horizontal = a.left + a.right; a.vertical = a.top + a.bottom; return a }, isBorderVisible: function (b, a) { if (!b) throw Error.argumentNull(e); if (a < Sys.Extended.UI.BoxSide.Top || a > Sys.Extended.UI.BoxSide.Left) throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue, a, j)); var d = this._borderStyleNames[a], c = this.getCurrentStyle(b, d); return c != n }, getMargin: function (b, a) { if (!b) throw Error.argumentNull(e); if (a < Sys.Extended.UI.BoxSide.Top || a > Sys.Extended.UI.BoxSide.Left) throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue, a, j)); var d = this._marginWidthNames[a], c = this.getCurrentStyle(b, d); try { return this.parsePadding(c) } catch (f) { return 0 } }, getBorderWidth: function (c, a) { var b = this; if (!c) throw Error.argumentNull(e); if (a < Sys.Extended.UI.BoxSide.Top || a > Sys.Extended.UI.BoxSide.Left) throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue, a, j)); if (!b.isBorderVisible(c, a)) return 0; var f = b._borderWidthNames[a], d = b.getCurrentStyle(c, f); return b.parseBorderWidth(d) }, getPadding: function (b, a) { if (!b) throw Error.argumentNull(e); if (a < Sys.Extended.UI.BoxSide.Top || a > Sys.Extended.UI.BoxSide.Left) throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue, a, j)); var d = this._paddingWidthNames[a], c = this.getCurrentStyle(b, d); return this.parsePadding(c) }, parseBorderWidth: function (d) { var e = this; if (!e._borderThicknesses) { var c = {}, a = document.createElement("div"); a.style.visibility = h; a.style.position = "absolute"; a.style.fontSize = "1px"; document.body.appendChild(a); var b = document.createElement("div"); b.style.height = "0px"; b.style.overflow = h; a.appendChild(b); var g = a.offsetHeight; b.style.borderTop = "solid black"; b.style.borderTopWidth = "thin"; c.thin = a.offsetHeight - g; b.style.borderTopWidth = "medium"; c.medium = a.offsetHeight - g; b.style.borderTopWidth = "thick"; c.thick = a.offsetHeight - g; a.removeChild(b); document.body.removeChild(a); e._borderThicknesses = c } if (d) { switch (d) { case "thin": case "medium": case "thick": return e._borderThicknesses[d]; case "inherit": return 0 } var i = e.parseUnit(d); Sys.Debug.assert(i.type == f, String.format(Sys.Extended.UI.Resources.Common_InvalidBorderWidthUnit, i.type)); return i.size } return 0 }, parsePadding: function (a) { if (a) { if (a == "inherit") return 0; var b = this.parseUnit(a); b.type !== f && Sys.Debug.fail(String.format(Sys.Extended.UI.Resources.Common_InvalidPaddingUnit, b.type)); return b.size } return 0 }, parseUnit: function (a) { if (!a) throw Error.argumentNull(i); a = a.trim().toLowerCase(); for (var h = a.length, c = -1, g = 0; g < h; g++) { var b = a.substr(g, 1); if ((b < "0" || b > "9") && b != "-" && b != "." && b != ",") break; c = g } if (c == -1) throw Error.create(Sys.Extended.UI.Resources.Common_UnitHasNoDigits); var e, d; if (c < h - 1) e = a.substring(c + 1).trim(); else e = f; d = parseFloat(a.substr(0, c + 1)); if (e == f) d = Math.floor(d); return { size: d, type: e } }, getElementOpacity: function (c) { if (!c) throw Error.argumentNull(e); var d = a, f; if (c.filters) { var h = c.filters; if (h.length !== 0) { var g = h[q]; if (g) { f = g.opacity / 100; d = b } } } else { f = this.getCurrentStyle(c, "opacity", 1); d = b } return d === a ? 1 : parseFloat(f) }, setElementOpacity: function (c, d) { if (!c) throw Error.argumentNull(e); if (c.filters) { var h = c.filters, f = b; if (h.length !== 0) { var g = h[q]; if (g) { f = a; g.opacity = d * 100 } } if (f) c.style.filter = "progid:DXImageTransform.Microsoft.Alpha(opacity=" + d * 100 + ")" } else c.style.opacity = d }, getVisible: function (a) { return a && n != $common.getCurrentStyle(a, o) && h != $common.getCurrentStyle(a, "visibility") }, setVisible: function (a, b) { if (a && b != $common.getVisible(a)) { if (b) if (a.style.removeAttribute) a.style.removeAttribute(o); else a.style.removeProperty(o); else a.style.display = n; a.style.visibility = b ? "visible" : h } }, resolveFunction: function (a) { if (a) if (a instanceof Function) return a; else if (String.isInstanceOfType(a) && a.length > 0) { var b; if ((b = window[a]) instanceof Function) return b; else if ((b = eval(a)) instanceof Function) return b } return c }, addCssClasses: function (c, b) { for (var a = 0; a < b.length; a++) Sys.UI.DomElement.addCssClass(c, b[a]) }, removeCssClasses: function (c, b) { for (var a = 0; a < b.length; a++) Sys.UI.DomElement.removeCssClass(c, b[a]) }, setStyle: function (a, b) { $common.applyProperties(a.style, b) }, removeHandlers: function (c, a) { for (var b in a) $removeHandler(c, b, a[b]) }, overlaps: function (a, b) { return a.x < b.x + b.width && b.x < a.x + a.width && a.y < b.y + b.height && b.y < a.y + a.height }, containsPoint: function (a, b, c) { return b >= a.x && b < a.x + a.width && c >= a.y && c < a.y + a.height }, isKeyDigit: function (a) { return 48 <= a && a <= 57 }, isKeyNavigation: function (a) { return Sys.UI.Key.left <= a && a <= Sys.UI.Key.down }, padLeft: function (d, c, e, b) { return $common._pad(d, c || 2, e || " ", "l", b || a) }, padRight: function (d, c, e, b) { return $common._pad(d, c || 2, e || " ", "r", b || a) }, _pad: function (c, b, h, e, g) { c = c.toString(); var f = c.length, d = new Sys.StringBuilder; e == "r" && d.append(c); while (f < b) { d.append(h); f++ } e == "l" && d.append(c); var a = d.toString(); if (g && a.length > b) if (e == "l") a = a.substr(a.length - b, b); else a = a.substr(0, b); return a }, __DOMEvents: { focusin: { eventGroup: m, init: function (c) { c.initUIEvent("focusin", b, a, window, 1) } }, focusout: { eventGroup: m, init: function (c) { c.initUIEvent("focusout", b, a, window, 1) } }, activate: { eventGroup: m, init: function (a) { a.initUIEvent("activate", b, b, window, 1) } }, focus: { eventGroup: m, init: function (b) { b.initUIEvent("focus", a, a, window, 1) } }, blur: { eventGroup: m, init: function (b) { b.initUIEvent("blur", a, a, window, 1) } }, click: { eventGroup: k, init: function (e, d) { e.initMouseEvent("click", b, b, window, 1, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, dblclick: { eventGroup: k, init: function (e, d) { e.initMouseEvent("click", b, b, window, 2, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, mousedown: { eventGroup: k, init: function (e, d) { e.initMouseEvent("mousedown", b, b, window, 1, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, mouseup: { eventGroup: k, init: function (e, d) { e.initMouseEvent("mouseup", b, b, window, 1, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, mouseover: { eventGroup: k, init: function (e, d) { e.initMouseEvent("mouseover", b, b, window, 1, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, mousemove: { eventGroup: k, init: function (e, d) { e.initMouseEvent(r, b, b, window, 1, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, mouseout: { eventGroup: k, init: function (e, d) { e.initMouseEvent(r, b, b, window, 1, d.screenX || 0, d.screenY || 0, d.clientX || 0, d.clientY || 0, d.ctrlKey || a, d.altKey || a, d.shiftKey || a, d.metaKey || a, d.button || 0, d.relatedTarget || c) } }, load: { eventGroup: g, init: function (b) { b.initEvent("load", a, a) } }, unload: { eventGroup: g, init: function (b) { b.initEvent("unload", a, a) } }, select: { eventGroup: g, init: function (c) { c.initEvent("select", b, a) } }, change: { eventGroup: g, init: function (c) { c.initEvent("change", b, a) } }, submit: { eventGroup: g, init: function (a) { a.initEvent("submit", b, b) } }, reset: { eventGroup: g, init: function (c) { c.initEvent("reset", b, a) } }, resize: { eventGroup: g, init: function (c) { c.initEvent("resize", b, a) } }, scroll: { eventGroup: g, init: function (c) { c.initEvent("scroll", b, a) } } }, tryFireRawEvent: function (c, d) { try { if (c.fireEvent) { c.fireEvent("on" + d.type, d); return b } else if (c.dispatchEvent) { c.dispatchEvent(d); return b } } catch (e) { } return a }, tryFireEvent: function (g, f, e) { try { if (document.createEventObject) { var c = document.createEventObject(); $common.applyProperties(c, e || {}); g.fireEvent("on" + f, c); return b } else if (document.createEvent) { var d = $common.__DOMEvents[f]; if (d) { var c = document.createEvent(d.eventGroup); d.init(c, e || {}); g.dispatchEvent(c); return b } } } catch (c) { } return a }, wrapElement: function (a, b, c) { var d = a.parentNode; d.replaceChild(b, a); (c || b).appendChild(a) }, unwrapElement: function (b, a) { var d = a.parentNode; if (d != c) { $common.removeElement(b); d.replaceChild(b, a) } }, removeElement: function (a) { var b = a.parentNode; b != c && b.removeChild(a) }, applyProperties: function (e, d) { for (var b in d) { var a = d[b]; if (a != c && Object.getType(a) === Object) { var f = e[b]; $common.applyProperties(f, a) } else e[b] = a } }, createElementFromTemplate: function (a, j, e) { if (typeof a.nameTable != d) { var g = a.nameTable; if (String.isInstanceOfType(g)) g = e[g]; if (g != c) e = g } var l = c; if (typeof a.name !== d) l = a.name; var b = document.createElement(a.nodeName); if (typeof a.name !== d && e) e[a.name] = b; if (typeof a.parent !== d && j == c) { var h = a.parent; if (String.isInstanceOfType(h)) h = e[h]; if (h != c) j = h } typeof a.properties !== d && a.properties != c && $common.applyProperties(b, a.properties); typeof a.cssClasses !== d && a.cssClasses != c && $common.addCssClasses(b, a.cssClasses); typeof a.events !== d && a.events != c && $addHandlers(b, a.events); typeof a.visible !== d && a.visible != c && this.setVisible(b, a.visible); j && j.appendChild(b); typeof a.opacity !== d && a.opacity != c && $common.setElementOpacity(b, a.opacity); if (typeof a.children !== d && a.children != c) for (var k = 0; k < a.children.length; k++) { var m = a.children[k]; $common.createElementFromTemplate(m, b, e) } var i = b; if (typeof a.contentPresenter !== d && a.contentPresenter != c) i = e[i]; if (typeof a.content !== d && a.content != c) { var f = a.content; if (String.isInstanceOfType(f)) f = e[f]; if (f.parentNode) $common.wrapElement(f, b, i); else i.appendChild(f) } return b }, prepareHiddenElementForATDeviceUpdate: function () { var a = document.getElementById(l); if (!a) { var a = document.createElement("input"); a.setAttribute("type", h); a.setAttribute(i, "1"); a.setAttribute("id", l); a.setAttribute("name", l); document.forms[0] && document.forms[0].appendChild(a) } }, updateFormToRefreshATDeviceBuffer: function () { var a = document.getElementById(l); if (a) if (a.getAttribute(i) == "1") a.setAttribute(i, "0"); else a.setAttribute(i, "1") }, appendElementToFormOrBody: function (a) { if (document.forms && document.forms[0]) document.forms[0].appendChild(a); else document.body.appendChild(a) }, setText: function (a, b) { if (document.all) a.innerText = b; else a.textContent = b } }; CommonToolkitScripts = Sys.Extended.UI.CommonToolkitScripts = new Sys.Extended.UI._CommonToolkitScripts; $common = CommonToolkitScripts; Sys.UI.DomElement.getVisible = $common.getVisible; Sys.UI.DomElement.setVisible = $common.setVisible; Sys.UI.Control.overlaps = $common.overlaps; Sys.Extended.UI._DomUtility = function () { }; Sys.Extended.UI._DomUtility.prototype = { isDescendant: function (f, e) { for (var d = e.parentNode; d != c; d = d.parentNode) if (d == f) return b; return a }, isDescendantOrSelf: function (c, a) { return c === a ? b : Sys.Extended.UI.DomUtility.isDescendant(c, a) }, isAncestor: function (a, b) { return Sys.Extended.UI.DomUtility.isDescendant(b, a) }, isAncestorOrSelf: function (a, c) { return a === c ? b : Sys.Extended.UI.DomUtility.isDescendant(c, a) }, isSibling: function (f, e) { for (var d = f.parentNode, c = 0; c < d.childNodes.length; c++) if (d.childNodes[c] == e) return b; return a } }; Sys.Extended.UI._DomUtility.registerClass("Sys.Extended.UI._DomUtility"); Sys.Extended.UI.DomUtility = new Sys.Extended.UI._DomUtility; Sys.Extended.UI.TextBoxWrapper = function (d) { var b = this; Sys.Extended.UI.TextBoxWrapper.initializeBase(b, [d]); b._current = d.value; b._watermark = c; b._isWatermarked = a }; Sys.Extended.UI.TextBoxWrapper.prototype = { dispose: function () { this.get_element().TextBoxWrapper = c; Sys.Extended.UI.TextBoxWrapper.callBaseMethod(this, "dispose") }, get_Current: function () { this._current = this.get_element().value; return this._current }, set_Current: function (a) { this._current = a; this._updateElement() }, get_Value: function () { return this.get_IsWatermarked() ? "" : this.get_Current() }, set_Value: function (e) { var d = this; d.set_Current(e); if (!e || 0 == e.length) c != d._watermark && d.set_IsWatermarked(b); else d.set_IsWatermarked(a) }, get_Watermark: function () { return this._watermark }, set_Watermark: function (a) { this._watermark = a; this._updateElement() }, get_IsWatermarked: function () { return this._isWatermarked }, set_IsWatermarked: function (b) { var a = this; if (a._isWatermarked != b) { a._isWatermarked = b; a._updateElement(); a._raiseWatermarkChanged() } }, _updateElement: function () { var a = this, b = a.get_element(); if (a._isWatermarked) { if (b.value != a._watermark) b.value = a._watermark } else if (b.value != a._current) b.value = a._current }, add_WatermarkChanged: function (a) { this.get_events().addHandler(p, a) }, remove_WatermarkChanged: function (a) { this.get_events().removeHandler(p, a) }, _raiseWatermarkChanged: function () { var a = this.get_events().getHandler(p); a && a(this, Sys.EventArgs.Empty) } }; Sys.Extended.UI.TextBoxWrapper.get_Wrapper = function (a) { if (c == a.TextBoxWrapper) a.TextBoxWrapper = new Sys.Extended.UI.TextBoxWrapper(a); return a.TextBoxWrapper }; Sys.Extended.UI.TextBoxWrapper.registerClass("Sys.Extended.UI.TextBoxWrapper", Sys.UI.Behavior); Sys.Extended.UI.TextBoxWrapper.validatorGetValue = function (b) { var a = $get(b); return a && a.TextBoxWrapper ? a.TextBoxWrapper.get_Value() : Sys.Extended.UI.TextBoxWrapper._originalValidatorGetValue(b) }; if (typeof ValidatorGetValue == "function") { Sys.Extended.UI.TextBoxWrapper._originalValidatorGetValue = ValidatorGetValue; ValidatorGetValue = Sys.Extended.UI.TextBoxWrapper.validatorGetValue } if (Sys.CultureInfo && Sys.CultureInfo.prototype._getAbbrMonthIndex) { Sys.CultureInfo.prototype._getAbbrMonthIndex = function (b) { var a = this; if (!a._upperAbbrMonths) a._upperAbbrMonths = a._toUpperArray(a.dateTimeFormat.AbbreviatedMonthNames); return Array.indexOf(a._upperAbbrMonths, a._toUpper(b)) }; Sys.CultureInfo.CurrentCulture._getAbbrMonthIndex = Sys.CultureInfo.prototype._getAbbrMonthIndex; Sys.CultureInfo.InvariantCulture._getAbbrMonthIndex = Sys.CultureInfo.prototype._getAbbrMonthIndex } Sys.Extended.UI.ScrollBars = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.ScrollBars.prototype = { None: 0, Horizontal: 1, Vertical: 2, Both: 3, Auto: 4 }; Sys.Extended.UI.ScrollBars.registerEnum("Sys.Extended.UI.ScrollBars", a) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ComponentModel"], a); else a() })(); var $common, CommonToolkitScripts;
//END Common.Common.js
//START ExtenderBase.BaseScripts.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedBase"; function a() { var b = "undefined", f = "populating", e = "populated", d = "dispose", c = "initialize", a = null, g = this, h = Sys.version; if (!h && !Sys._versionChecked) { Sys._versionChecked = true; throw new Error("AjaxControlToolkit requires ASP.NET Ajax 4.0 scripts. Ensure the correct version of the scripts are referenced. If you are using an ASP.NET ScriptManager, switch to the ToolkitScriptManager in AjaxControlToolkit.dll."); } Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.BehaviorBase = function (c) { var b = this; Sys.Extended.UI.BehaviorBase.initializeBase(b, [c]); b._clientStateFieldID = a; b._pageRequestManager = a; b._partialUpdateBeginRequestHandler = a; b._partialUpdateEndRequestHandler = a }; Sys.Extended.UI.BehaviorBase.prototype = { initialize: function () { Sys.Extended.UI.BehaviorBase.callBaseMethod(this, c) }, dispose: function () { var b = this; Sys.Extended.UI.BehaviorBase.callBaseMethod(b, d); if (b._pageRequestManager) { if (b._partialUpdateBeginRequestHandler) { b._pageRequestManager.remove_beginRequest(b._partialUpdateBeginRequestHandler); b._partialUpdateBeginRequestHandler = a } if (b._partialUpdateEndRequestHandler) { b._pageRequestManager.remove_endRequest(b._partialUpdateEndRequestHandler); b._partialUpdateEndRequestHandler = a } b._pageRequestManager = a } }, get_ClientStateFieldID: function () { return this._clientStateFieldID }, set_ClientStateFieldID: function (a) { if (this._clientStateFieldID != a) { this._clientStateFieldID = a; this.raisePropertyChanged("ClientStateFieldID") } }, get_ClientState: function () { if (this._clientStateFieldID) { var b = document.getElementById(this._clientStateFieldID); if (b) return b.value } return a }, set_ClientState: function (b) { if (this._clientStateFieldID) { var a = document.getElementById(this._clientStateFieldID); if (a) a.value = b } }, registerPartialUpdateEvents: function () { var a = this; if (Sys && Sys.WebForms && Sys.WebForms.PageRequestManager) { a._pageRequestManager = Sys.WebForms.PageRequestManager.getInstance(); if (a._pageRequestManager) { a._partialUpdateBeginRequestHandler = Function.createDelegate(a, a._partialUpdateBeginRequest); a._pageRequestManager.add_beginRequest(a._partialUpdateBeginRequestHandler); a._partialUpdateEndRequestHandler = Function.createDelegate(a, a._partialUpdateEndRequest); a._pageRequestManager.add_endRequest(a._partialUpdateEndRequestHandler) } } }, _partialUpdateBeginRequest: function () { }, _partialUpdateEndRequest: function () { } }; Sys.Extended.UI.BehaviorBase.registerClass("Sys.Extended.UI.BehaviorBase", Sys.UI.Behavior); Sys.Extended.UI.DynamicPopulateBehaviorBase = function (c) { var b = this; Sys.Extended.UI.DynamicPopulateBehaviorBase.initializeBase(b, [c]); b._DynamicControlID = a; b._DynamicContextKey = a; b._DynamicServicePath = a; b._DynamicServiceMethod = a; b._cacheDynamicResults = false; b._dynamicPopulateBehavior = a; b._populatingHandler = a; b._populatedHandler = a }; Sys.Extended.UI.DynamicPopulateBehaviorBase.prototype = { initialize: function () { var a = this; Sys.Extended.UI.DynamicPopulateBehaviorBase.callBaseMethod(a, c); a._populatingHandler = Function.createDelegate(a, a._onPopulating); a._populatedHandler = Function.createDelegate(a, a._onPopulated) }, dispose: function () { var b = this; if (b._populatedHandler) { b._dynamicPopulateBehavior && b._dynamicPopulateBehavior.remove_populated(b._populatedHandler); b._populatedHandler = a } if (b._populatingHandler) { b._dynamicPopulateBehavior && b._dynamicPopulateBehavior.remove_populating(b._populatingHandler); b._populatingHandler = a } if (b._dynamicPopulateBehavior) { b._dynamicPopulateBehavior.dispose(); b._dynamicPopulateBehavior = a } Sys.Extended.UI.DynamicPopulateBehaviorBase.callBaseMethod(b, d) }, populate: function (c) { var b = this; if (b._dynamicPopulateBehavior && b._dynamicPopulateBehavior.get_element() != $get(b._DynamicControlID)) { b._dynamicPopulateBehavior.dispose(); b._dynamicPopulateBehavior = a } if (!b._dynamicPopulateBehavior && b._DynamicControlID && b._DynamicServiceMethod) { b._dynamicPopulateBehavior = $create(Sys.Extended.UI.DynamicPopulateBehavior, { id: b.get_id() + "_DynamicPopulateBehavior", ContextKey: b._DynamicContextKey, ServicePath: b._DynamicServicePath, ServiceMethod: b._DynamicServiceMethod, cacheDynamicResults: b._cacheDynamicResults }, a, a, $get(b._DynamicControlID)); b._dynamicPopulateBehavior.add_populating(b._populatingHandler); b._dynamicPopulateBehavior.add_populated(b._populatedHandler) } b._dynamicPopulateBehavior && b._dynamicPopulateBehavior.populate(c ? c : b._DynamicContextKey) }, _onPopulating: function (b, a) { this.raisePopulating(a) }, _onPopulated: function (b, a) { this.raisePopulated(a) }, get_dynamicControlID: function () { return this._DynamicControlID }, get_DynamicControlID: g.get_dynamicControlID, set_dynamicControlID: function (b) { var a = this; if (a._DynamicControlID != b) { a._DynamicControlID = b; a.raisePropertyChanged("dynamicControlID"); a.raisePropertyChanged("DynamicControlID") } }, set_DynamicControlID: g.set_dynamicControlID, get_dynamicContextKey: function () { return this._DynamicContextKey }, get_DynamicContextKey: g.get_dynamicContextKey, set_dynamicContextKey: function (b) { var a = this; if (a._DynamicContextKey != b) { a._DynamicContextKey = b; a.raisePropertyChanged("dynamicContextKey"); a.raisePropertyChanged("DynamicContextKey") } }, set_DynamicContextKey: g.set_dynamicContextKey, get_dynamicServicePath: function () { return this._DynamicServicePath }, get_DynamicServicePath: g.get_dynamicServicePath, set_dynamicServicePath: function (b) { var a = this; if (a._DynamicServicePath != b) { a._DynamicServicePath = b; a.raisePropertyChanged("dynamicServicePath"); a.raisePropertyChanged("DynamicServicePath") } }, set_DynamicServicePath: g.set_dynamicServicePath, get_dynamicServiceMethod: function () { return this._DynamicServiceMethod }, get_DynamicServiceMethod: g.get_dynamicServiceMethod, set_dynamicServiceMethod: function (b) { var a = this; if (a._DynamicServiceMethod != b) { a._DynamicServiceMethod = b; a.raisePropertyChanged("dynamicServiceMethod"); a.raisePropertyChanged("DynamicServiceMethod") } }, set_DynamicServiceMethod: g.set_dynamicServiceMethod, get_cacheDynamicResults: function () { return this._cacheDynamicResults }, set_cacheDynamicResults: function (a) { if (this._cacheDynamicResults != a) { this._cacheDynamicResults = a; this.raisePropertyChanged("cacheDynamicResults") } }, add_populated: function (a) { this.get_events().addHandler(e, a) }, remove_populated: function (a) { this.get_events().removeHandler(e, a) }, raisePopulated: function (b) { var a = this.get_events().getHandler(e); a && a(this, b) }, add_populating: function (a) { this.get_events().addHandler(f, a) }, remove_populating: function (a) { this.get_events().removeHandler(f, a) }, raisePopulating: function (b) { var a = this.get_events().getHandler(f); a && a(this, b) } }; Sys.Extended.UI.DynamicPopulateBehaviorBase.registerClass("Sys.Extended.UI.DynamicPopulateBehaviorBase", Sys.Extended.UI.BehaviorBase); Sys.Extended.UI.ControlBase = function (c) { var b = this; Sys.Extended.UI.ControlBase.initializeBase(b, [c]); b._clientStateField = a; b._callbackTarget = a; b._onsubmit$delegate = Function.createDelegate(b, b._onsubmit); b._oncomplete$delegate = Function.createDelegate(b, b._oncomplete); b._onerror$delegate = Function.createDelegate(b, b._onerror) }; Sys.Extended.UI.ControlBase.__doPostBack = function (c, b) { if (!Sys.WebForms.PageRequestManager.getInstance().get_isInAsyncPostBack()) for (var a = 0; a < Sys.Extended.UI.ControlBase.onsubmitCollection.length; a++) Sys.Extended.UI.ControlBase.onsubmitCollection[a](); Function.createDelegate(window, Sys.Extended.UI.ControlBase.__doPostBackSaved)(c, b) }; Sys.Extended.UI.ControlBase.prototype = { initialize: function () { var d = this; Sys.Extended.UI.ControlBase.callBaseMethod(d, c); d._clientStateField && d.loadClientState(d._clientStateField.value); if (typeof Sys.WebForms !== b && typeof Sys.WebForms.PageRequestManager !== b) { Array.add(Sys.WebForms.PageRequestManager.getInstance()._onSubmitStatements, d._onsubmit$delegate); if (Sys.Extended.UI.ControlBase.__doPostBackSaved == a || typeof Sys.Extended.UI.ControlBase.__doPostBackSaved == b) { Sys.Extended.UI.ControlBase.__doPostBackSaved = window.__doPostBack; window.__doPostBack = Sys.Extended.UI.ControlBase.__doPostBack; Sys.Extended.UI.ControlBase.onsubmitCollection = [] } Array.add(Sys.Extended.UI.ControlBase.onsubmitCollection, d._onsubmit$delegate) } else $addHandler(document.forms[0], "submit", d._onsubmit$delegate) }, dispose: function () { var a = this; if (typeof Sys.WebForms !== b && typeof Sys.WebForms.PageRequestManager !== b) { Array.remove(Sys.Extended.UI.ControlBase.onsubmitCollection, a._onsubmit$delegate); Array.remove(Sys.WebForms.PageRequestManager.getInstance()._onSubmitStatements, a._onsubmit$delegate) } else $removeHandler(document.forms[0], "submit", a._onsubmit$delegate); Sys.Extended.UI.ControlBase.callBaseMethod(a, d) }, findElement: function (a) { return $get(this.get_id() + "_" + a.split(":").join("_")) }, get_clientStateField: function () { return this._clientStateField }, set_clientStateField: function (b) { var a = this; if (a.get_isInitialized()) throw Error.invalidOperation(Sys.Extended.UI.Resources.ExtenderBase_CannotSetClientStateField); if (a._clientStateField != b) { a._clientStateField = b; a.raisePropertyChanged("clientStateField") } }, loadClientState: function () { }, saveClientState: function () { return a }, _invoke: function (i, f, j) { var c = this; if (!c._callbackTarget) throw Error.invalidOperation(Sys.Extended.UI.Resources.ExtenderBase_ControlNotRegisteredForCallbacks); if (typeof WebForm_DoCallback === b) throw Error.invalidOperation(Sys.Extended.UI.Resources.ExtenderBase_PageNotRegisteredForCallbacks); for (var g = [], d = 0; d < f.length; d++) g[d] = f[d]; var e = c.saveClientState(); if (e != a && !String.isInstanceOfType(e)) throw Error.invalidOperation(Sys.Extended.UI.Resources.ExtenderBase_InvalidClientStateType); var h = Sys.Serialization.JavaScriptSerializer.serialize({ name: i, args: g, state: c.saveClientState() }); WebForm_DoCallback(c._callbackTarget, h, c._oncomplete$delegate, j, c._onerror$delegate, true) }, _oncomplete: function (a, b) { a = Sys.Serialization.JavaScriptSerializer.deserialize(a); if (a.error) throw Error.create(a.error); this.loadClientState(a.state); b(a.result) }, _onerror: function (a) { throw Error.create(a); }, _onsubmit: function () { if (this._clientStateField) this._clientStateField.value = this.saveClientState(); return true } }; Sys.Extended.UI.ControlBase.registerClass("Sys.Extended.UI.ControlBase", Sys.UI.Control) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ComponentModel", "Serialization"], a); else a() })();
Sys.Extended.UI.Resources = {
    "AjaxFileUpload_FileInQueue": "{0} file(s) in queue.", "AjaxFileUpload_AllFilesUploaded": "All Files Uploaded.", "AjaxFileUpload_FileList": "List of Uploaded files:", "PasswordStrength_InvalidWeightingRatios": "Strength Weighting ratios must have 4 elements", "HTMLEditor_toolbar_button_FontSize_defaultValue": "default", "AjaxFileUpload_SelectFileToUpload": "Please select file(s) to upload.", "HTMLEditor_toolbar_button_DesignMode_title": "Design mode", "Animation_ChildrenNotAllowed": "Sys.Extended.UI.Animation.createAnimation cannot add child animations to type \"{0}\" that does not derive from Sys.Extended.UI.Animation.ParentAnimation", "PasswordStrength_RemainingSymbols": "{0} symbol characters", "HTMLEditor_toolbar_button_FixedForeColor_title": "Foreground color", "HTMLEditor_toolbar_popup_LinkProperties_field_URL": "URL", "ExtenderBase_CannotSetClientStateField": "clientStateField can only be set before initialization", "HTMLEditor_toolbar_button_Bold_title": "Bold", "RTE_PreviewHTML": "Preview HTML", "HTMLEditor_toolbar_popup_LinkProperties_button_OK": "OK", "HTMLEditor_toolbar_button_JustifyRight_title": "Justify Right", "RTE_JustifyCenter": "Justify Center", "PasswordStrength_RemainingUpperCase": "{0} more upper case characters", "HTMLEditor_toolbar_popup_LinkProperties_button_Cancel": "Cancel", "Animation_TargetNotFound": "Sys.Extended.UI.Animation.Animation.set_animationTarget requires the ID of a Sys.UI.DomElement or Sys.UI.Control.  No element or control could be found corresponding to \"{0}\"", "AsyncFileUpload_UnhandledException": "Unhandled Exception", "RTE_FontColor": "Font Color", "RTE_LabelColor": "Label Color", "Common_InvalidBorderWidthUnit": "A unit type of \"{0}\"\u0027 is invalid for parseBorderWidth", "HTMLEditor_toolbar_button_JustifyFull_title": "Justify", "RTE_Heading": "Heading", "AsyncFileUpload_ConfirmToSeeErrorPage": "Do you want to see the response page?", "Tabs_PropertySetBeforeInitialization": "{0} cannot be changed before initialization", "HTMLEditor_toolbar_button_StrikeThrough_title": "Strike through", "RTE_OrderedList": "Ordered List", "HTMLEditor_toolbar_button_OnPastePlainText": "Plain text pasting is switched on. Just now: {0}", "HTMLEditor_toolbar_button_RemoveLink_title": "Remove Link", "HTMLEditor_toolbar_button_FontName_defaultValue": "default", "HTMLEditor_toolbar_button_FontName_label": "Font", "ReorderList_DropWatcherBehavior_NoChild": "Could not find child of list with id \"{0}\"", "CascadingDropDown_MethodTimeout": "[Method timeout]", "RTE_Columns": "Columns", "RTE_InsertImage": "Insert Image", "RTE_InsertTable": "Insert Table", "RTE_Values": "Values", "RTE_OK": "OK", "ExtenderBase_PageNotRegisteredForCallbacks": "This Page has not been registered for callbacks", "HTMLEditor_toolbar_button_InsertLink_title": "Insert/Edit URL link", "Animation_NoDynamicPropertyFound": "Sys.Extended.UI.Animation.createAnimation found no property corresponding to \"{0}\" or \"{1}\"", "AjaxFileUpload_WrongFileType": "Can\u0027t add file \u0027{0}\u0027 to upload list. File with type \u0027{1}\u0027 is not allowed", "Animation_InvalidBaseType": "Sys.Extended.UI.Animation.registerAnimation can only register types that inherit from Sys.Extended.UI.Animation.Animation", "RTE_UnorderedList": "Unordered List", "AsyncFileUpload_UnknownServerError": "Unknown Server error", "ResizableControlBehavior_InvalidHandler": "{0} handler not a function, function name, or function text", "Animation_InvalidColor": "Color must be a 7-character hex representation (e.g. #246ACF), not \"{0}\"", "RTE_CellColor": "Cell Color", "PasswordStrength_RemainingMixedCase": "Mixed case characters", "HTMLEditor_toolbar_button_HtmlMode_title": "HTML text", "RTE_Italic": "Italic", "CascadingDropDown_NoParentElement": "Failed to find parent element \"{0}\"", "ValidatorCallout_DefaultErrorMessage": "This control is invalid", "HTMLEditor_toolbar_button_DecreaseIndent_title": "Decrease Indent", "RTE_Indent": "Indent", "ReorderList_DropWatcherBehavior_CallbackError": "Reorder failed, see details below.\\r\\n\\r\\n{0}", "PopupControl_NoDefaultProperty": "No default property supported for control \"{0}\" of type \"{1}\"", "RTE_Normal": "Normal", "PopupExtender_NoParentElement": "Couldn\u0027t find parent element \"{0}\"", "RTE_ViewValues": "View Values", "RTE_Legend": "Legend", "RTE_Labels": "Labels", "RTE_CellSpacing": "Cell Spacing", "PasswordStrength_RemainingNumbers": "{0} more numbers", "HTMLEditor_toolbar_popup_LinkProperties_field_Target": "Target", "HTMLEditor_toolbar_button_PreviewMode_title": "Preview", "RTE_Border": "Border", "RTE_Create": "Create", "RTE_BackgroundColor": "Background Color", "RTE_Cancel": "Cancel", "HTMLEditor_toolbar_button_PasteText_title": "Paste Plain Text", "RTE_JustifyFull": "Justify Full", "RTE_JustifyLeft": "Justify Left", "RTE_Cut": "Cut", "AsyncFileUpload_UploadingProblem": "The requested file uploading problem.", "AjaxFileUpload_Cancelling": "Cancelling...", "ResizableControlBehavior_CannotChangeProperty": "Changes to {0} not supported", "AjaxFileUpload_MaxNumberOfFilesExceeded": "Maximum number of files exceeded", "AjaxFileUpload_UploadError": "An Error occured during file upload.", "RTE_ViewSource": "View Source", "Common_InvalidPaddingUnit": "A unit type of \"{0}\" is invalid for parsePadding", "RTE_Paste": "Paste", "ExtenderBase_ControlNotRegisteredForCallbacks": "This Control has not been registered for callbacks", "Calendar_Today": "Today: {0}", "MultiHandleSlider_CssHeightWidthRequired": "You must specify a CSS width and height for all handle styles as well as the rail.", "Common_DateTime_InvalidFormat": "Invalid format", "HTMLEditor_toolbar_button_Copy_title": "Copy", "ListSearch_DefaultPrompt": "Type to search", "CollapsiblePanel_NoControlID": "Failed to find element \"{0}\"", "RTE_ViewEditor": "View Editor", "HTMLEditor_toolbar_popup_LinkProperties_field_Target_Current": "Current window", "RTE_BarColor": "Bar Color", "AjaxFileUpload_CancellingUpload": "Cancelling upload...", "AsyncFileUpload_InternalErrorMessage": "The AsyncFileUpload control has encountered an error with the uploader in this page. Please refresh the page and try again.", "HTMLEditor_toolbar_button_Underline_title": "Underline", "PasswordStrength_DefaultStrengthDescriptions": "NonExistent;Very Weak;Weak;Poor;Almost OK;Barely Acceptable;Average;Good;Strong;Excellent;Unbreakable!", "HTMLEditor_toolbar_button_SuperScript_title": "Super script", "AjaxFileUpload_UploadingInputFile": "Uploading file: {0}.", "HTMLEditor_toolbar_button_Ltr_title": "Left to right direction", "HTMLEditor_toolbar_button_RemoveAlignment_title": "Remove Alignment", "HTMLEditor_toolbar_button_OrderedList_title": "Ordered List", "HTMLEditor_toolbar_popup_LinkProperties_field_Target_New": "New window", "HTMLEditor_toolbar_popup_LinkProperties_field_Target_Top": "Top window", "HTMLEditor_toolbar_button_JustifyCenter_title": "Justify Center", "AjaxFileUpload_Cancel": "Cancel", "RTE_Inserttexthere": "Insert text here", "Animation_UknownAnimationName": "Sys.Extended.UI.Animation.createAnimation could not find an Animation corresponding to the name \"{0}\"", "ExtenderBase_InvalidClientStateType": "saveClientState must return a value of type String", "HTMLEditor_toolbar_button_JustifyLeft_title": "Justify Left", "Rating_CallbackError": "An unhandled exception has occurred:\\r\\n{0}", "HTMLEditor_toolbar_button_Undo_title": "Undo", "HTMLEditor_toolbar_button_Redo_title": "Redo", "Tabs_OwnerExpected": "owner must be set before initialize", "DynamicPopulate_WebServiceTimeout": "Web service call timed out", "PasswordStrength_RemainingLowerCase": "{0} more lower case characters", "AjaxFileUpload_Canceled": "cancelled", "AjaxFileUpload_UploadCanceled": "File upload cancelled.", "AjaxFileUpload_Upload": "Upload", "HTMLEditor_toolbar_button_BulletedList_title": "Bulleted List", "HTMLEditor_toolbar_button_Paste_title": "Paste", "Animation_MissingAnimationName": "Sys.Extended.UI.Animation.createAnimation requires an object with an AnimationName property", "HTMLEditor_toolbar_button_PasteWord_title": "Paste from MS Word (with cleanup)", "HTMLEditor_toolbar_button_Italic_title": "Italic", "RTE_JustifyRight": "Justify Right", "Tabs_ActiveTabArgumentOutOfRange": "Argument is not a member of the tabs collection", "RTE_CellPadding": "Cell Padding", "HTMLEditor_toolbar_button_ForeColorClear_title": "Clear foreground color", "RTE_ClearFormatting": "Clear Formatting", "AlwaysVisible_ElementRequired": "Sys.Extended.UI.AlwaysVisibleControlBehavior must have an element", "AjaxFileUpload_Remove": "Remove", "HTMLEditor_toolbar_button_SubScript_title": "Sub script", "Slider_NoSizeProvided": "Please set valid values for the height and width attributes in the slider\u0027s CSS classes", "DynamicPopulate_WebServiceError": "Web Service call failed: {0}", "PasswordStrength_StrengthPrompt": "Strength: ", "AjaxFileUpload_Uploading": "Uploading", "HTMLEditor_toolbar_button_Rtl_title": "Right to left direction", "PasswordStrength_RemainingCharacters": "{0} more characters", "HTMLEditor_toolbar_button_BackColorClear_title": "Clear background color", "PasswordStrength_Satisfied": "Nothing more required", "AjaxFileUpload_DefaultError": "File upload error.", "AjaxFileUpload_DropFiles": "Drop files here", "AjaxFileUpload_UploadingHtml5File": "Uploading file: {0} of size {1} bytes.", "RTE_Hyperlink": "Hyperlink", "Animation_NoPropertyFound": "Sys.Extended.UI.Animation.createAnimation found no property corresponding to \"{0}\"", "PasswordStrength_InvalidStrengthDescriptionStyles": "Text Strength description style classes must match the number of text descriptions.", "HTMLEditor_toolbar_button_Use_verb": "Use {0}", "HTMLEditor_toolbar_popup_LinkProperties_field_Target_Parent": "Parent window", "PasswordStrength_GetHelpRequirements": "Get help on password requirements", "AjaxFileUpload_error": "error", "HTMLEditor_toolbar_button_FixedBackColor_title": "Background color", "PasswordStrength_InvalidStrengthDescriptions": "Invalid number of text strength descriptions specified", "AjaxFileUpload_Pending": "pending", "RTE_Underline": "Underline", "HTMLEditor_toolbar_button_IncreaseIndent_title": "Increase Indent", "AsyncFileUpload_ServerResponseError": "Server Response Error", "Tabs_PropertySetAfterInitialization": "{0} cannot be changed after initialization", "RTE_Rows": "Rows", "RTE_Redo": "Redo", "RTE_Size": "Size", "RTE_Undo": "Undo", "RTE_Bold": "Bold", "RTE_Copy": "Copy", "RTE_Font": "Font", "HTMLEditor_toolbar_button_FontSize_label": "Size", "HTMLEditor_toolbar_button_Cut_title": "Cut", "CascadingDropDown_MethodError": "[Method error {0}]", "HTMLEditor_toolbar_button_InsertLink_message_EmptyURL": "URL can not be empty", "AjaxFileUpload_SelectFile": "Select File", "RTE_BorderColor": "Border Color", "HTMLEditor_toolbar_button_RemoveStyles_title": "Remove styles", "RTE_Paragraph": "Paragraph", "RTE_InsertHorizontalRule": "Insert Horizontal Rule", "AjaxFileUpload_UploadedPercentage": "uploaded {0} %", "HTMLEditor_toolbar_button_Paragraph_title": "Make Paragraph", "AjaxFileUpload_Uploaded": "Uploaded", "Common_UnitHasNoDigits": "No digits", "RTE_Outdent": "Outdent", "Common_DateTime_InvalidTimeSpan": "\"{0}\" is not a valid TimeSpan format", "Animation_CannotNestSequence": "Sys.Extended.UI.Animation.SequenceAnimation cannot be nested inside Sys.Extended.UI.Animation.ParallelAnimation", "HTMLEditor_toolbar_button_InsertHR_title": "Insert horizontal rule", "HTMLEditor_toolbar_button_OnPasteFromMSWord": "Pasting from MS Word is switched on. Just now: {0}", "Shared_BrowserSecurityPreventsPaste": "Your browser security settings don\u0027t permit the automatic execution of paste operations. Please use the keyboard shortcut Ctrl+V instead."
};
//END ExtenderBase.BaseScripts.js
//START RoundedCorners.RoundedCornersBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedRoundedCorners"; function a() { var b = null, a = true; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.BoxCorners = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.BoxCorners.prototype = { None: 0, TopLeft: 1, TopRight: 2, BottomRight: 4, BottomLeft: 8, Top: 1 | 2, Right: 2 | 4, Bottom: 4 | 8, Left: 8 | 1, All: 1 | 2 | 4 | 8 }; Sys.Extended.UI.BoxCorners.registerEnum("Sys.Extended.UI.BoxCorners", a); Sys.Extended.UI.RoundedCornersBehavior = function (d) { var c = this; Sys.Extended.UI.RoundedCornersBehavior.initializeBase(c, [d]); c._corners = Sys.Extended.UI.BoxCorners.All; c._radius = 5; c._color = b; c._parentDiv = b; c._originalStyle = b; c._borderColor = b; c._isDirty = a }; Sys.Extended.UI.RoundedCornersBehavior.prototype = { initialize: function () { Sys.Extended.UI.RoundedCornersBehavior.callBaseMethod(this, "initialize"); this.update() }, dispose: function () { this.disposeParentDiv(); Sys.Extended.UI.RoundedCornersBehavior.callBaseMethod(this, "dispose") }, update: function () { var e = "0px", j = "none", f = "1px", i = "solid", h = "px", d = this, c = d.get_element(); if (!c || !d._isDirty || d.get_isUpdating()) return; d.disposeParentDiv(); if (c.style.borderRadius != undefined) { c.style.borderRadius = d._radius + h; if (d._borderColor) { c.style.border = i; c.style.borderWidth = f; c.style.borderColor = d._borderColor } else { c.style.border = j; c.style.borderWidth = e } if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopLeft)) c.style.borderTopLeftRadius = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomLeft)) c.style.borderBottomLeftRadius = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopRight)) c.style.borderTopRightRadius = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomRight)) c.style.borderBottomRightRadius = e } else if (c.style.MozBorderRadius != undefined) { c.style.MozBorderRadius = d._radius + h; if (d._borderColor) { c.style.border = i; c.style.borderWidth = f; c.style.borderColor = d._borderColor } else { c.style.border = j; c.style.borderWidth = e } if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopLeft)) c.style.MozBorderRadiusTopleft = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomLeft)) c.style.MozBorderRadiusBottomleft = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopRight)) c.style.MozBorderRadiusTopright = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomRight)) c.style.MozBorderRadiusBottomright = e } else if (c.style.WebkitBorderRadius != undefined) { c.style.WebkitBorderRadius = d._radius + h; if (d._borderColor) { c.style.border = i; c.style.borderWidth = f; c.style.borderColor = d._borderColor } else { c.style.border = j; c.style.borderWidth = e } if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopLeft)) c.style.WebkitBorderRadiusTopLeft = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomLeft)) c.style.WebkitBorderRadiusBottomLeft = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopRight)) c.style.WebkitBorderRadiusTopRight = e; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomRight)) c.style.WebkitBorderRadiusBottomRight = e } else { var w = d.getBackgroundColor(), r = c.offsetWidth, g = c.cloneNode(false); d.moveChildren(c, g); d._originalStyle = c.style.cssText; c.style.backgroundColor = "transparent"; c.style.verticalAlign = "top"; c.style.padding = "0"; c.style.overflow = ""; c.style.className = ""; if (c.style.height && c.style.height != "auto") c.style.height = parseInt($common.getCurrentStyle(c, "height")) + d._radius * 2 + h; else if (!c.style.width && 0 < r) c.style.width = r + h; g.style.position = ""; g.style.border = ""; g.style.margin = ""; g.style.width = "100%"; if (g.style.overflow == "" && $common.getCurrentStyle(c, "overflow") == "visible") g.style.overflow = "auto"; g.id = ""; g.removeAttribute("control"); if (d._borderColor) { g.style.borderTopStyle = j; g.style.borderBottomStyle = j; g.style.borderLeftStyle = i; g.style.borderRightStyle = i; g.style.borderLeftColor = d._borderColor; g.style.borderRightColor = d._borderColor; g.style.borderLeftWidth = f; g.style.borderRightWidth = f; if (d._radius == 0) { g.style.borderTopStyle = i; g.style.borderBottomStyle = i; g.style.borderTopColor = d._borderColor; g.style.borderBottomColor = d._borderColor; g.style.borderTopWidth = f; g.style.borderBottomWidth = f } } else { g.style.borderTopStyle = j; g.style.borderBottomStyle = j; g.style.borderLeftStyle = j; g.style.borderRightStyle = j } for (var n = b, q = d._radius, u = d._radius, s = 0, p = u; p > 0; p--) { var v = Math.acos(p / q), o = q - Math.round(Math.sin(v) * q), k = document.createElement("DIV"); k.__roundedDiv = a; k.style.backgroundColor = w; k.style.marginLeft = o + h; k.style.marginRight = o - (d._borderColor ? 2 : 0) + h; k.style.height = f; k.style.fontSize = f; k.style.overflow = "hidden"; if (d._borderColor) { k.style.borderLeftStyle = i; k.style.borderRightStyle = i; k.style.borderLeftColor = d._borderColor; k.style.borderRightColor = d._borderColor; var t = Math.max(0, s - o - 1); k.style.borderLeftWidth = t + 1 + h; k.style.borderRightWidth = t + 1 + h; if (p == u) { k.__roundedDivNoBorder = a; k.style.backgroundColor = d._borderColor } } c.insertBefore(k, n); var m = k; k = k.cloneNode(a); k.__roundedDiv = a; c.insertBefore(k, n); var l = k; n = k; s = o; if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopLeft)) { m.style.marginLeft = "0"; if (d._borderColor) m.style.borderLeftWidth = f } if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.TopRight)) { m.style.marginRight = "0"; if (d._borderColor) { m.style.borderRightWidth = f; m.style.marginRight = "-2px" } } if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomLeft)) { l.style.marginLeft = "0"; if (d._borderColor) l.style.borderLeftWidth = f } if (!d.isCornerSet(Sys.Extended.UI.BoxCorners.BottomRight)) { l.style.marginRight = "0"; if (d._borderColor) { l.style.borderRightWidth = f; l.style.marginRight = "-2px" } } } c.insertBefore(g, n); d._parentDiv = g; d._isDirty = false } }, disposeParentDiv: function () { var a = this; if (a._parentDiv) { for (var d = a.get_element(), f = d.childNodes, e = f.length - 1; e >= 0; e--) { var c = f[e]; if (c) { c == a._parentDiv && a.moveChildren(c, d); try { d.removeChild(c) } catch (d) { } } } if (a._originalStyle) { d.style.cssText = a._originalStyle; a._originalStyle = b } a._parentDiv = b } }, getBackgroundColor: function () { return this._color ? this._color : $common.getCurrentStyle(this.get_element(), "backgroundColor") }, moveChildren: function (b, d) { var c = 0; while (b.hasChildNodes()) { var a = b.childNodes[0]; a = b.removeChild(a); d.appendChild(a); c++ } return c }, isCornerSet: function (a) { return (this._corners & a) != Sys.Extended.UI.BoxCorners.None }, setCorner: function (b, c) { var a = this; if (c) a.set_Corners(a._corners | b); else a.set_Corners(a._corners & ~b) }, get_Color: function () { return this._color }, set_Color: function (c) { var b = this; if (c != b._color) { b._color = c; b._isDirty = a; b.update(); b.raisePropertyChanged("Color") } }, get_Radius: function () { return this._radius }, set_Radius: function (c) { var b = this; if (c != b._radius) { b._radius = c; b._isDirty = a; b.update(); b.raisePropertyChanged("Radius") } }, get_Corners: function () { return this._corners }, set_Corners: function (c) { var b = this; if (c != b._corners) { b._corners = c; b._isDirty = a; b.update(); b.raisePropertyChanged("Corners") } }, get_BorderColor: function () { return this._borderColor }, set_BorderColor: function (c) { var b = this; if (c != b._borderColor) { b._borderColor = c; b._isDirty = a; b.update(); b.raisePropertyChanged("BorderColor") } } }; Sys.Extended.UI.RoundedCornersBehavior.registerClass("Sys.Extended.UI.RoundedCornersBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.RoundedCornersBehavior, { name: "rounded" }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedBase", "ExtendedCommon"], a); else a() })();
//END RoundedCorners.RoundedCornersBehavior.js
//START Compat.Timer.Timer.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedTimer"; function a() { var a = "tick", b = "interval", c = Sys.version; if (!c && !Sys._versionChecked) { Sys._versionChecked = true; throw new Error("AjaxControlToolkit requires ASP.NET Ajax 4.0 scripts. Ensure the correct version of the scripts are referenced. If you are using an ASP.NET ScriptManager, switch to the ToolkitScriptManager in AjaxControlToolkit.dll."); } Sys.Timer = function () { var a = this; Sys.Timer.initializeBase(a); a._interval = 1e3; a._enabled = false; a._timer = null }; Sys.Timer.prototype = { get_interval: function () { return this._interval }, set_interval: function (c) { var a = this; if (a._interval !== c) { a._interval = c; a.raisePropertyChanged(b); if (!a.get_isUpdating() && a._timer !== null) { a._stopTimer(); a._startTimer() } } }, get_enabled: function () { return this._enabled }, set_enabled: function (b) { var a = this; if (b !== a.get_enabled()) { a._enabled = b; a.raisePropertyChanged("enabled"); if (!a.get_isUpdating()) if (b) a._startTimer(); else a._stopTimer() } }, add_tick: function (b) { this.get_events().addHandler(a, b) }, remove_tick: function (b) { this.get_events().removeHandler(a, b) }, dispose: function () { this.set_enabled(false); this._stopTimer(); Sys.Timer.callBaseMethod(this, "dispose") }, updated: function () { var a = this; Sys.Timer.callBaseMethod(a, "updated"); if (a._enabled) { a._stopTimer(); a._startTimer() } }, _timerCallback: function () { var b = this.get_events().getHandler(a); b && b(this, Sys.EventArgs.Empty) }, _startTimer: function () { var a = this; a._timer = window.setInterval(Function.createDelegate(a, a._timerCallback), a._interval) }, _stopTimer: function () { window.clearInterval(this._timer); this._timer = null } }; Sys.Timer.descriptor = { properties: [{ name: b, type: Number }, { name: "enabled", type: Boolean }], events: [{ name: a }] }; Sys.Timer.registerClass("Sys.Timer", Sys.Component) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ComponentModel"], a); else a() })();
//END Compat.Timer.Timer.js
//START DropShadow.DropShadowBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var a = null, d = "ExtendedDropShadow", b = a; function c() { var c = "absolute"; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.DropShadowBehavior = function (c) { var b = this; Sys.Extended.UI.DropShadowBehavior.initializeBase(b, [c]); b._opacity = 1; b._width = 5; b._shadowDiv = a; b._trackPosition = a; b._trackPositionDelay = 50; b._timer = a; b._tickHandler = a; b._roundedBehavior = a; b._shadowRoundedBehavior = a; b._rounded = false; b._radius = 5; b._lastX = a; b._lastY = a; b._lastW = a; b._lastH = a }; Sys.Extended.UI.DropShadowBehavior.prototype = { initialize: function () { var a = this; Sys.Extended.UI.DropShadowBehavior.callBaseMethod(a, "initialize"); b = a.get_element(); if ($common.getCurrentStyle(b, "position", b.style.position) != c) b.style.position = "relative"; a._rounded && a.setupRounded(); a._trackPosition && a.startTimer(); a.setShadow() }, dispose: function () { this.stopTimer(); this.disposeShadowDiv(); Sys.Extended.UI.DropShadowBehavior.callBaseMethod(this, "dispose") }, buildShadowDiv: function () { var d = this; b = d.get_element(); if (!d.get_isInitialized() || !b || !d._width) return; if (b.style.boxShadow == undefined && b.style.MozBoxShadow == undefined && b.style.WebkitBoxShadow == undefined) { var e = document.createElement("DIV"); e.style.backgroundColor = "black"; e.style.position = c; if (b.id) e.id = b.id + "_DropShadow"; d._shadowDiv = e; b.parentNode.appendChild(e); if (d._rounded) { d._shadowDiv.style.height = Math.max(0, b.offsetHeight - 2 * d._radius) + "px"; if (!d._shadowRoundedBehavior) d._shadowRoundedBehavior = $create(Sys.Extended.UI.RoundedCornersBehavior, { Radius: d._radius }, a, a, d._shadowDiv); else d._shadowRoundedBehavior.set_Radius(d._radius) } else d._shadowRoundedBehavior && d._shadowRoundedBehavior.set_Radius(0); d._opacity != 1 && d.setupOpacity(); d.setShadow(false, true); d.updateZIndex() } }, disposeShadowDiv: function () { var b = this; if (b._shadowDiv) { b._shadowDiv.parentNode && b._shadowDiv.parentNode.removeChild(b._shadowDiv); b._shadowDiv = a } if (b._shadowRoundedBehavior) { b._shadowRoundedBehavior.dispose(); b._shadowRoundedBehavior = a } }, onTimerTick: function () { this.setShadow() }, startTimer: function () { var a = this; if (!a._timer) { if (!a._tickHandler) a._tickHandler = Function.createDelegate(a, a.onTimerTick); a._timer = new Sys.Timer; a._timer.set_interval(a._trackPositionDelay); a._timer.add_tick(a._tickHandler); a._timer.set_enabled(true) } }, stopTimer: function () { var b = this; if (b._timer) { b._timer.remove_tick(b._tickHandler); b._timer.set_enabled(false); b._timer.dispose(); b._timer = a } }, setShadow: function (h, j) { var c = "px ", a = this; b = a.get_element(); if (!a.get_isInitialized() || !b || !a._width && !h) return; if (b.style.boxShadow == undefined && b.style.MozBoxShadow == undefined && b.style.WebkitBoxShadow == undefined) { var g = a._shadowDiv; !g && a.buildShadowDiv(); var e = { x: b.offsetLeft, y: b.offsetTop }; if (h || a._lastX != e.x || a._lastY != e.y || !g) { a._lastX = e.x; a._lastY = e.y; var f = a.get_Width(); e.x += f; e.y += f; $common.setLocation(a._shadowDiv, e) } var i = b.offsetHeight, f = b.offsetWidth; if (h || i != a._lastH || f != a._lastW || !g) { a._lastW = f; a._lastH = i; if (!a._rounded || !g || j) { a._shadowDiv.style.width = f + "px"; a._shadowDiv.style.height = i + "px" } else { a.disposeShadowDiv(); a.setShadow() } } if (a._shadowDiv) a._shadowDiv.style.visibility = $common.getCurrentStyle(b, "visibility") } else { var d; if (a._opacity == ".25") d = a._width + c + a._width + c + a._width + c + "#D3D3D3"; else if (a._opacity == ".5") d = a._width + c + a._width + c + a._width + c + "#778899"; else if (a._opacity == ".75") d = a._width + c + a._width + c + a._width + c + "#808080"; else d = a._width + c + a._width + c + a._width + c + "#000"; if (b.style.boxShadow != undefined) b.style.boxShadow = d; else if (b.style.MozBoxShadow != undefined) b.style.MozBoxShadow = d; else if (b.style.WebkitBoxShadow != undefined) b.style.WebkitBoxShadow = d } }, setupOpacity: function () { var a = this; a.get_isInitialized() && a._shadowDiv && $common.setElementOpacity(a._shadowDiv, a._opacity) }, setupRounded: function () { var b = this; if (!b._roundedBehavior && b._rounded) b._roundedBehavior = $create(Sys.Extended.UI.RoundedCornersBehavior, a, a, a, b.get_element()); b._roundedBehavior && b._roundedBehavior.set_Radius(b._rounded ? b._radius : 0) }, updateZIndex: function () { var c = this; if (!c._shadowDiv) return; var d = c.get_element(), a = d.style.zIndex, b = c._shadowDiv.style.zIndex; if (b && a && a > b) return; else { a = Math.max(2, a); b = a - 1 } d.style.zIndex = a; c._shadowDiv.style.zIndex = b }, updateRoundedCorners: function () { var a = this; if (a.get_isInitialized()) { a.setupRounded(); a.disposeShadowDiv(); a.setShadow() } }, get_Opacity: function () { return this._opacity }, set_Opacity: function (b) { var a = this; if (a._opacity != b) { a._opacity = b; a.setShadow(); a.setupOpacity(); a.raisePropertyChanged("Opacity") } }, get_Rounded: function () { return this._rounded }, set_Rounded: function (b) { var a = this; if (b != a._rounded) { a._rounded = b; a.updateRoundedCorners(); a.raisePropertyChanged("Rounded") } }, get_Radius: function () { return this._radius }, set_Radius: function (b) { var a = this; if (b != a._radius) { a._radius = b; a.updateRoundedCorners(); a.raisePropertyChanged("Radius") } }, get_Width: function () { return this._width }, set_Width: function (b) { var a = this; if (b != a._width) { a._width = b; a._shadowDiv && $common.setVisible(a._shadowDiv, b > 0); a.setShadow(true); a.raisePropertyChanged("Width") } }, get_TrackPositionDelay: function () { return this._trackPositionDelay }, set_TrackPositionDelay: function (c) { var a = this; if (c != a._trackPositionDelay) { a._trackPositionDelay = c; if (!b) b = a.get_element(); if (b.style.boxShadow == undefined && b.style.MozBoxShadow == undefined && b.style.WebkitBoxShadow == undefined) { if (a._trackPosition) { a.stopTimer(); a.startTimer() } a.raisePropertyChanged("TrackPositionDelay") } } }, get_TrackPosition: function () { return this._trackPosition }, set_TrackPosition: function (c) { var a = this; if (c != a._trackPosition) { a._trackPosition = c; if (!b) b = a.get_element(); if (b.style.boxShadow == undefined && b.style.MozBoxShadow == undefined && b.style.WebkitBoxShadow == undefined) { if (a.get_element()) if (c) a.startTimer(); else a.stopTimer(); a.raisePropertyChanged("TrackPosition") } } } }; Sys.Extended.UI.DropShadowBehavior.registerClass("Sys.Extended.UI.DropShadowBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.DropShadowBehavior, { name: "dropShadow" }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(d, ["ExtendedBase", "ExtendedCommon", "ExtendedTimer", "ExtendedRoundedCorners"], c); else c() })();
//END DropShadow.DropShadowBehavior.js
//START DynamicPopulate.DynamicPopulateBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedDynamicPopulate"; function a() { var d = "populated", c = "populating", b = false, a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.DynamicPopulateBehavior = function (d) { var c = this; Sys.Extended.UI.DynamicPopulateBehavior.initializeBase(c, [d]); c._servicePath = location.pathname; c._serviceMethod = a; c._contextKey = a; c._cacheDynamicResults = b; c._populateTriggerID = a; c._setUpdatingCssClass = a; c._clearDuringUpdate = true; c._customScript = a; c._clickHandler = a; c._callID = 0; c._currentCallID = -1; c._populated = b }; Sys.Extended.UI.DynamicPopulateBehavior.prototype = { initialize: function () { var a = this; Sys.Extended.UI.DynamicPopulateBehavior.callBaseMethod(a, "initialize"); $common.prepareHiddenElementForATDeviceUpdate(); if (a._populateTriggerID) { var b = $get(a._populateTriggerID); if (b) { a._clickHandler = Function.createDelegate(a, a._onPopulateTriggerClick); $addHandler(b, "click", a._clickHandler) } } }, dispose: function () { var b = this; if (b._populateTriggerID && b._clickHandler) { var c = $get(b._populateTriggerID); c && $removeHandler(c, "click", b._clickHandler); b._populateTriggerID = a; b._clickHandler = a } Sys.Extended.UI.DynamicPopulateBehavior.callBaseMethod(b, "dispose") }, populate: function (c) { var a = this; if (a._populated && a._cacheDynamicResults) return; if (a._currentCallID == -1) { var d = new Sys.CancelEventArgs; a.raisePopulating(d); if (d.get_cancel()) return; a._setUpdating(true) } if (a._customScript) { var e = eval(a._customScript); a._setTargetHtml(e); a._setUpdating(b) } else { a._currentCallID = ++a._callID; if (a._servicePath && a._serviceMethod) { Sys.Net.WebServiceProxy.invoke(a._servicePath, a._serviceMethod, b, { contextKey: c ? c : a._contextKey }, Function.createDelegate(a, a._onMethodComplete), Function.createDelegate(a, a._onMethodError), a._currentCallID); $common.updateFormToRefreshATDeviceBuffer() } } }, _onMethodComplete: function (c, a) { if (a != this._currentCallID) return; this._setTargetHtml(c); this._setUpdating(b) }, _onMethodError: function (c, d) { var a = this; if (d != a._currentCallID) return; if (c.get_timedOut()) a._setTargetHtml(Sys.Extended.UI.Resources.DynamicPopulate_WebServiceTimeout); else a._setTargetHtml(String.format(Sys.Extended.UI.Resources.DynamicPopulate_WebServiceError, c.get_statusCode())); a._setUpdating(b) }, _onPopulateTriggerClick: function () { this.populate(this._contextKey) }, _setUpdating: function (b) { var a = this; a.setStyle(b); if (!b) { a._currentCallID = -1; a._populated = true; a.raisePopulated(a, Sys.EventArgs.Empty) } }, _setTargetHtml: function (b) { var a = this.get_element(); if (a) if (a.tagName == "INPUT") a.value = b; else a.innerHTML = b }, setStyle: function (d) { var b = this, c = b.get_element(); if (b._setUpdatingCssClass) if (!d) { c.className = b._oldCss; b._oldCss = a } else { b._oldCss = c.className; c.className = b._setUpdatingCssClass } d && b._clearDuringUpdate && b._setTargetHtml("") }, get_ClearContentsDuringUpdate: function () { return this._clearDuringUpdate }, set_ClearContentsDuringUpdate: function (a) { if (this._clearDuringUpdate != a) { this._clearDuringUpdate = a; this.raisePropertyChanged("ClearContentsDuringUpdate") } }, get_ContextKey: function () { return this._contextKey }, set_ContextKey: function (a) { if (this._contextKey != a) { this._contextKey = a; this.raisePropertyChanged("ContextKey") } }, get_PopulateTriggerID: function () { return this._populateTriggerID }, set_PopulateTriggerID: function (a) { if (this._populateTriggerID != a) { this._populateTriggerID = a; this.raisePropertyChanged("PopulateTriggerID") } }, get_ServicePath: function () { return this._servicePath }, set_ServicePath: function (a) { if (this._servicePath != a) { this._servicePath = a; this.raisePropertyChanged("ServicePath") } }, get_ServiceMethod: function () { return this._serviceMethod }, set_ServiceMethod: function (a) { if (this._serviceMethod != a) { this._serviceMethod = a; this.raisePropertyChanged("ServiceMethod") } }, get_cacheDynamicResults: function () { return this._cacheDynamicResults }, set_cacheDynamicResults: function (a) { if (this._cacheDynamicResults != a) { this._cacheDynamicResults = a; this.raisePropertyChanged("cacheDynamicResults") } }, get_UpdatingCssClass: function () { return this._setUpdatingCssClass }, set_UpdatingCssClass: function (a) { if (this._setUpdatingCssClass != a) { this._setUpdatingCssClass = a; this.raisePropertyChanged("UpdatingCssClass") } }, get_CustomScript: function () { return this._customScript }, set_CustomScript: function (a) { if (this._customScript != a) { this._customScript = a; this.raisePropertyChanged("CustomScript") } }, add_populating: function (a) { this.get_events().addHandler(c, a) }, remove_populating: function (a) { this.get_events().removeHandler(c, a) }, raisePopulating: function (b) { var a = this.get_events().getHandler(c); a && a(this, b) }, add_populated: function (a) { this.get_events().addHandler(d, a) }, remove_populated: function (a) { this.get_events().removeHandler(d, a) }, raisePopulated: function (b) { var a = this.get_events().getHandler(d); a && a(this, b) } }; Sys.Extended.UI.DynamicPopulateBehavior.registerClass("Sys.Extended.UI.DynamicPopulateBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.DynamicPopulateBehavior, { name: "dynamicPopulate" }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedBase", "ExtendedCommon", "Network"], a); else a() })();
//END DynamicPopulate.DynamicPopulateBehavior.js
//START Compat.DragDrop.DragDropScripts.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedDragDrop"; function a() { var m = "keypress", l = "dragleave", k = "dragenter", j = "dragstart", h = "dragover", g = "mousemove", f = "mouseup", i = "initialize", e = false, b = true, d = "dragStop", c = "dragStart", a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.IDragSource = function () { }; Sys.Extended.UI.IDragSource.prototype = { get_dragDataType: function () { throw Error.notImplemented(); }, getDragData: function () { throw Error.notImplemented(); }, get_dragMode: function () { throw Error.notImplemented(); }, onDragStart: function () { throw Error.notImplemented(); }, onDrag: function () { throw Error.notImplemented(); }, onDragEnd: function () { throw Error.notImplemented(); } }; Sys.Extended.UI.IDragSource.registerInterface("Sys.Extended.UI.IDragSource"); Sys.Extended.UI.IDropTarget = function () { }; Sys.Extended.UI.IDropTarget.prototype = { get_dropTargetElement: function () { throw Error.notImplemented(); }, canDrop: function () { throw Error.notImplemented(); }, drop: function () { throw Error.notImplemented(); }, onDragEnterTarget: function () { throw Error.notImplemented(); }, onDragLeaveTarget: function () { throw Error.notImplemented(); }, onDragInTarget: function () { throw Error.notImplemented(); } }; Sys.Extended.UI.IDropTarget.registerInterface("Sys.Extended.UI.IDropTarget"); Sys.Extended.UI.DragMode = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.DragMode.prototype = { Copy: 0, Move: 1 }; Sys.Extended.UI.DragMode.registerEnum("Sys.Extended.UI.DragMode"); Sys.Extended.UI.DragDropEventArgs = function (c, a, b) { this._dragMode = c; this._dataType = a; this._data = b }; Sys.Extended.UI.DragDropEventArgs.prototype = { get_dragMode: function () { return this._dragMode || a }, get_dragDataType: function () { return this._dataType || a }, get_dragData: function () { return this._data || a } }; Sys.Extended.UI.DragDropEventArgs.registerClass("Sys.Extended.UI.DragDropEventArgs"); Sys.Extended.UI._DragDropManager = function () { this._instance = a; this._events = a }; Sys.Extended.UI._DragDropManager.prototype = { add_dragStart: function (a) { this.get_events().addHandler(c, a) }, remove_dragStart: function (a) { this.get_events().removeHandler(c, a) }, get_events: function () { if (!this._events) this._events = new Sys.EventHandlerList; return this._events }, add_dragStop: function (a) { this.get_events().addHandler(d, a) }, remove_dragStop: function (a) { this.get_events().removeHandler(d, a) }, _getInstance: function () { var a = this; if (!a._instance) { if (Sys.Browser.agent === Sys.Browser.InternetExplorer) a._instance = new Sys.Extended.UI.IEDragDropManager; else a._instance = new Sys.Extended.UI.GenericDragDropManager; a._instance.initialize(); a._instance.add_dragStart(Function.createDelegate(a, a._raiseDragStart)); a._instance.add_dragStop(Function.createDelegate(a, a._raiseDragStop)) } return a._instance }, startDragDrop: function (b, c, d, a) { this._getInstance().startDragDrop(b, c, d, a) }, registerDropTarget: function (a) { this._getInstance().registerDropTarget(a) }, unregisterDropTarget: function (a) { this._getInstance().unregisterDropTarget(a) }, dispose: function () { delete this._events; Sys.Application.unregisterDisposableObject(this); Sys.Application.removeComponent(this) }, _raiseDragStart: function (d, b) { var a = this.get_events().getHandler(c); a && a(this, b) }, _raiseDragStop: function (c, b) { var a = this.get_events().getHandler(d); a && a(this, b) } }; Sys.Extended.UI._DragDropManager.registerClass("Sys.Extended.UI._DragDropManager"); Sys.Extended.UI.DragDropManager = new Sys.Extended.UI._DragDropManager; Sys.Extended.UI.IEDragDropManager = function () { var c = this; Sys.Extended.UI.IEDragDropManager.initializeBase(c); c._dropTargets = a; c._radius = 10; c._useBuiltInDragAndDropFunctions = b; c._activeDragVisual = a; c._activeContext = a; c._activeDragSource = a; c._underlyingTarget = a; c._oldOffset = a; c._potentialTarget = a; c._isDragging = e; c._mouseUpHandler = a; c._documentMouseMoveHandler = a; c._documentDragOverHandler = a; c._dragStartHandler = a; c._mouseMoveHandler = a; c._dragEnterHandler = a; c._dragLeaveHandler = a; c._dragOverHandler = a; c._dropHandler = a }; Sys.Extended.UI.IEDragDropManager.prototype = { add_dragStart: function (a) { this.get_events().addHandler(c, a) }, remove_dragStart: function (a) { this.get_events().removeHandler(c, a) }, add_dragStop: function (a) { this.get_events().addHandler(d, a) }, remove_dragStop: function (a) { this.get_events().removeHandler(d, a) }, initialize: function () { var a = this; Sys.Extended.UI.IEDragDropManager.callBaseMethod(a, i); a._mouseUpHandler = Function.createDelegate(a, a._onMouseUp); a._documentMouseMoveHandler = Function.createDelegate(a, a._onDocumentMouseMove); a._documentDragOverHandler = Function.createDelegate(a, a._onDocumentDragOver); a._dragStartHandler = Function.createDelegate(a, a._onDragStart); a._mouseMoveHandler = Function.createDelegate(a, a._onMouseMove); a._dragEnterHandler = Function.createDelegate(a, a._onDragEnter); a._dragLeaveHandler = Function.createDelegate(a, a._onDragLeave); a._dragOverHandler = Function.createDelegate(a, a._onDragOver); a._dropHandler = Function.createDelegate(a, a._onDrop) }, dispose: function () { var b = this; if (b._dropTargets) { for (var c = 0; c < b._dropTargets; c++) b.unregisterDropTarget(b._dropTargets[c]); b._dropTargets = a } Sys.Extended.UI.IEDragDropManager.callBaseMethod(b, "dispose") }, startDragDrop: function (f, e, k, i) { var d = this, m = window._event; if (d._isDragging) return; d._underlyingTarget = a; d._activeDragSource = f; d._activeDragVisual = e; d._activeContext = k; d._useBuiltInDragAndDropFunctions = typeof i != "undefined" ? i : b; var j = { x: m.clientX, y: m.clientY }; e.originalPosition = e.style.position; e.style.position = "absolute"; document._lastPosition = j; e.startingPoint = j; var n = d.getScrollOffset(e, b); e.startingPoint = d.addPoints(e.startingPoint, n); var g = parseInt(e.style.left), h = parseInt(e.style.top); if (isNaN(g)) g = "0"; if (isNaN(h)) h = "0"; e.startingPoint = d.subtractPoints(e.startingPoint, { x: g, y: h }); d._prepareForDomChanges(); f.onDragStart(); var o = new Sys.Extended.UI.DragDropEventArgs(f.get_dragMode(), f.get_dragDataType(), f.getDragData(k)), l = d.get_events().getHandler(c); l && l(d, o); d._recoverFromDomChanges(); d._wireEvents(); d._drag(b) }, _stopDragDrop: function (c) { var b = this, g = window._event; if (b._activeDragSource != a) { b._unwireEvents(); if (!c) c = b._underlyingTarget == a; !c && b._underlyingTarget != a && b._underlyingTarget.drop(b._activeDragSource.get_dragMode(), b._activeDragSource.get_dragDataType(), b._activeDragSource.getDragData(b._activeContext)); b._activeDragSource.onDragEnd(c); var f = b.get_events().getHandler(d); f && f(b, Sys.EventArgs.Empty); b._activeDragVisual.style.position = b._activeDragVisual.originalPosition; b._activeDragSource = a; b._activeContext = a; b._activeDragVisual = a; b._isDragging = e; b._potentialTarget = a; g.preventDefault() } }, _drag: function (h) { var c = this, g = window._event, f = { x: g.clientX, y: g.clientY }; document._lastPosition = f; var i = c.getScrollOffset(c._activeDragVisual, b), d = c.addPoints(c.subtractPoints(f, c._activeDragVisual.startingPoint), i); if (!h && parseInt(c._activeDragVisual.style.left) == d.x && parseInt(c._activeDragVisual.style.top) == d.y) return; $common.setLocation(c._activeDragVisual, d); c._prepareForDomChanges(); c._activeDragSource.onDrag(); c._recoverFromDomChanges(); c._potentialTarget = c._findPotentialTarget(c._activeDragSource, c._activeDragVisual); var e = c._potentialTarget != c._underlyingTarget || c._potentialTarget == a; e && c._underlyingTarget != a && c._leaveTarget(c._activeDragSource, c._underlyingTarget); if (c._potentialTarget != a) if (e) { c._underlyingTarget = c._potentialTarget; c._enterTarget(c._activeDragSource, c._underlyingTarget) } else c._moveInTarget(c._activeDragSource, c._underlyingTarget); else c._underlyingTarget = a }, _wireEvents: function () { var a = this; if (a._useBuiltInDragAndDropFunctions) { $addHandler(document, f, a._mouseUpHandler); $addHandler(document, g, a._documentMouseMoveHandler); $addHandler(document.body, h, a._documentDragOverHandler); $addHandler(a._activeDragVisual, j, a._dragStartHandler); $addHandler(a._activeDragVisual, "dragend", a._mouseUpHandler); $addHandler(a._activeDragVisual, "drag", a._mouseMoveHandler) } else { $addHandler(document, f, a._mouseUpHandler); $addHandler(document, g, a._mouseMoveHandler) } }, _unwireEvents: function () { var a = this; if (a._useBuiltInDragAndDropFunctions) { $removeHandler(a._activeDragVisual, "drag", a._mouseMoveHandler); $removeHandler(a._activeDragVisual, "dragend", a._mouseUpHandler); $removeHandler(a._activeDragVisual, j, a._dragStartHandler); $removeHandler(document.body, h, a._documentDragOverHandler); $removeHandler(document, g, a._documentMouseMoveHandler); $removeHandler(document, f, a._mouseUpHandler) } else { $removeHandler(document, g, a._mouseMoveHandler); $removeHandler(document, f, a._mouseUpHandler) } }, registerDropTarget: function (c) { var b = this; if (b._dropTargets == a) b._dropTargets = []; Array.add(b._dropTargets, c); b._wireDropTargetEvents(c) }, unregisterDropTarget: function (a) { this._unwireDropTargetEvents(a); this._dropTargets && Array.remove(this._dropTargets, a) }, _wireDropTargetEvents: function (c) { var b = this, a = c.get_dropTargetElement(); a._dropTarget = c; $addHandler(a, k, b._dragEnterHandler); $addHandler(a, l, b._dragLeaveHandler); $addHandler(a, h, b._dragOverHandler); $addHandler(a, "drop", b._dropHandler) }, _unwireDropTargetEvents: function (d) { var c = this, b = d.get_dropTargetElement(); if (b._dropTarget) { b._dropTarget = a; $removeHandler(b, k, c._dragEnterHandler); $removeHandler(b, l, c._dragLeaveHandler); $removeHandler(b, h, c._dragOverHandler); $removeHandler(b, "drop", c._dropHandler) } }, _onDragStart: function (e) { window._event = e; document.selection.empty(); var d = e.dataTransfer; if (!d && e.rawEvent) d = e.rawEvent.dataTransfer; var c = this._activeDragSource.get_dragDataType().toLowerCase(), b = this._activeDragSource.getDragData(this._activeContext); if (b) { if (c != "text" && c != "url") { c = "text"; if (b.innerHTML != a) b = b.innerHTML } d.effectAllowed = "move"; d.setData(c, b.toString()) } }, _onMouseUp: function (a) { window._event = a; this._stopDragDrop(e) }, _onDocumentMouseMove: function (a) { window._event = a; this._dragDrop() }, _onDocumentDragOver: function (a) { window._event = a; this._potentialTarget && a.preventDefault() }, _onMouseMove: function (a) { window._event = a; this._drag() }, _onDragEnter: function (c) { window._event = c; if (this._isDragging) c.preventDefault(); else for (var b = Sys.Extended.UI.IEDragDropManager._getDataObjectsForDropTarget(this._getDropTarget(c.target)), a = 0; a < b.length; a++) this._dropTarget.onDragEnterTarget(Sys.Extended.UI.DragMode.Copy, b[a].type, b[a].value) }, _onDragLeave: function (c) { window._event = c; if (this._isDragging) c.preventDefault(); else for (var b = Sys.Extended.UI.IEDragDropManager._getDataObjectsForDropTarget(this._getDropTarget(c.target)), a = 0; a < b.length; a++) this._dropTarget.onDragLeaveTarget(Sys.Extended.UI.DragMode.Copy, b[a].type, b[a].value) }, _onDragOver: function (c) { window._event = c; if (this._isDragging) c.preventDefault(); else for (var b = Sys.Extended.UI.IEDragDropManager._getDataObjectsForDropTarget(this._getDropTarget(c.target)), a = 0; a < b.length; a++) this._dropTarget.onDragInTarget(Sys.Extended.UI.DragMode.Copy, b[a].type, b[a].value) }, _onDrop: function (c) { window._event = c; if (!this._isDragging) for (var b = Sys.Extended.UI.IEDragDropManager._getDataObjectsForDropTarget(this._getDropTarget(c.target)), a = 0; a < b.length; a++) this._dropTarget.drop(Sys.Extended.UI.DragMode.Copy, b[a].type, b[a].value); c.preventDefault() }, _getDropTarget: function (b) { while (b) { if (b._dropTarget != a) return b._dropTarget; b = b.parentNode } return a }, _dragDrop: function () { if (this._isDragging) return; this._isDragging = b; this._activeDragVisual.dragDrop(); document.selection.empty() }, _moveInTarget: function (a, b) { this._prepareForDomChanges(); b.onDragInTarget(a.get_dragMode(), a.get_dragDataType(), a.getDragData(this._activeContext)); this._recoverFromDomChanges() }, _enterTarget: function (a, b) { this._prepareForDomChanges(); b.onDragEnterTarget(a.get_dragMode(), a.get_dragDataType(), a.getDragData(this._activeContext)); this._recoverFromDomChanges() }, _leaveTarget: function (a, b) { this._prepareForDomChanges(); b.onDragLeaveTarget(a.get_dragMode(), a.get_dragDataType(), a.getDragData(this._activeContext)); this._recoverFromDomChanges() }, _findPotentialTarget: function (e) { var c = this, h = window._event; if (c._dropTargets == a) return a; for (var l = e.get_dragDataType(), k = e.get_dragMode(), j = e.getDragData(c._activeContext), f = c.getScrollOffset(document.body, b), m = h.clientX + f.x, n = h.clientY + f.y, i = { x: m - c._radius, y: n - c._radius, width: c._radius * 2, height: c._radius * 2 }, g, d = 0; d < c._dropTargets.length; d++) { g = $common.getBounds(c._dropTargets[d].get_dropTargetElement()); if ($common.overlaps(i, g) && c._dropTargets[d].canDrop(k, l, j)) return c._dropTargets[d] } return a }, _prepareForDomChanges: function () { this._oldOffset = $common.getLocation(this._activeDragVisual) }, _recoverFromDomChanges: function () { var a = this, c = $common.getLocation(a._activeDragVisual); if (a._oldOffset.x != c.x || a._oldOffset.y != c.y) { a._activeDragVisual.startingPoint = a.subtractPoints(a._activeDragVisual.startingPoint, a.subtractPoints(a._oldOffset, c)); scrollOffset = a.getScrollOffset(a._activeDragVisual, b); var d = a.addPoints(a.subtractPoints(document._lastPosition, a._activeDragVisual.startingPoint), scrollOffset); $common.setLocation(a._activeDragVisual, d) } }, addPoints: function (a, b) { return { x: a.x + b.x, y: a.y + b.y } }, subtractPoints: function (a, b) { return { x: a.x - b.x, y: a.y - b.y } }, getScrollOffset: function (c, f) { var d = c.scrollLeft, e = c.scrollTop; if (f) { var b = c.parentNode; while (b != a && b.scrollLeft != a) { d += b.scrollLeft; e += b.scrollTop; if (b == document.body && (d != 0 && e != 0)) break; b = b.parentNode } } return { x: d, y: e } }, getBrowserRectangle: function () { var c = window.innerWidth, b = window.innerHeight; if (c == a) c = document.documentElement.clientWidth; if (b == a) b = document.documentElement.clientHeight; return { x: 0, y: 0, width: c, height: b } }, getNextSibling: function (b) { for (b = b.nextSibling; b != a; b = b.nextSibling) if (b.innerHTML != a) return b; return a }, hasParent: function (b) { return b.parentNode != a && b.parentNode.tagName != a } }; Sys.Extended.UI.IEDragDropManager.registerClass("Sys.Extended.UI.IEDragDropManager", Sys.Component); Sys.Extended.UI.IEDragDropManager._getDataObjectsForDropTarget = function (h) { if (h == a) return []; for (var f = window._event, g = [], c = ["URL", "Text"], d, b = 0; b < c.length; b++) { var e = f.dataTransfer; if (!e && f.rawEvent) e = f.rawEvent.dataTransfer; d = e.getData(c[b]); if (h.canDrop(Sys.Extended.UI.DragMode.Copy, c[b], d)) d && Array.add(g, { type: c[b], value: d }) } return g }; Sys.Extended.UI.GenericDragDropManager = function () { var b = this; Sys.Extended.UI.GenericDragDropManager.initializeBase(b); b._dropTargets = a; b._scrollEdgeConst = 40; b._scrollByConst = 10; b._scroller = a; b._scrollDeltaX = 0; b._scrollDeltaY = 0; b._activeDragVisual = a; b._activeContext = a; b._activeDragSource = a; b._oldOffset = a; b._potentialTarget = a; b._mouseUpHandler = a; b._mouseMoveHandler = a; b._keyPressHandler = a; b._scrollerTickHandler = a }; Sys.Extended.UI.GenericDragDropManager.prototype = { initialize: function () { var a = this; Sys.Extended.UI.GenericDragDropManager.callBaseMethod(a, i); a._mouseUpHandler = Function.createDelegate(a, a._onMouseUp); a._mouseMoveHandler = Function.createDelegate(a, a._onMouseMove); a._keyPressHandler = Function.createDelegate(a, a._onKeyPress); a._scrollerTickHandler = Function.createDelegate(a, a._onScrollerTick); a._scroller = new Sys.Timer; a._scroller.set_interval(10); a._scroller.add_tick(a._scrollerTickHandler) }, startDragDrop: function (b, c, d) { var a = this; a._activeDragSource = b; a._activeDragVisual = c; a._activeContext = d; Sys.Extended.UI.GenericDragDropManager.callBaseMethod(a, "startDragDrop", [b, c, d]) }, _stopDragDrop: function (a) { this._scroller.set_enabled(e); Sys.Extended.UI.GenericDragDropManager.callBaseMethod(this, "_stopDragDrop", [a]) }, _drag: function (a) { Sys.Extended.UI.GenericDragDropManager.callBaseMethod(this, "_drag", [a]); this._autoScroll() }, _wireEvents: function () { $addHandler(document, f, this._mouseUpHandler); $addHandler(document, g, this._mouseMoveHandler); $addHandler(document, m, this._keyPressHandler) }, _unwireEvents: function () { $removeHandler(document, m, this._keyPressHandler); $removeHandler(document, g, this._mouseMoveHandler); $removeHandler(document, f, this._mouseUpHandler) }, _wireDropTargetEvents: function () { }, _unwireDropTargetEvents: function () { }, _onMouseUp: function (a) { window._event = a; this._stopDragDrop(e) }, _onMouseMove: function (a) { window._event = a; this._drag() }, _onKeyPress: function (a) { window._event = a; var c = a.keyCode ? a.keyCode : a.rawEvent.keyCode; c == 27 && this._stopDragDrop(b) }, _autoScroll: function () { var a = this, d = window._event, c = a.getBrowserRectangle(); if (c.width > 0) { a._scrollDeltaX = a._scrollDeltaY = 0; if (d.clientX < c.x + a._scrollEdgeConst) a._scrollDeltaX = -a._scrollByConst; else if (d.clientX > c.width - a._scrollEdgeConst) a._scrollDeltaX = a._scrollByConst; if (d.clientY < c.y + a._scrollEdgeConst) a._scrollDeltaY = -a._scrollByConst; else if (d.clientY > c.height - a._scrollEdgeConst) a._scrollDeltaY = a._scrollByConst; if (a._scrollDeltaX != 0 || a._scrollDeltaY != 0) a._scroller.set_enabled(b); else a._scroller.set_enabled(e) } }, _onScrollerTick: function () { var d = document.body.scrollLeft, f = document.body.scrollTop; window.scrollBy(this._scrollDeltaX, this._scrollDeltaY); var c = document.body.scrollLeft, e = document.body.scrollTop, a = this._activeDragVisual, b = { x: parseInt(a.style.left) + (c - d), y: parseInt(a.style.top) + (e - f) }; $common.setLocation(a, b) } }; Sys.Extended.UI.GenericDragDropManager.registerClass("Sys.Extended.UI.GenericDragDropManager", Sys.Extended.UI.IEDragDropManager) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedTimer", "ExtendedCommon"], a); else a() })();
//END Compat.DragDrop.DragDropScripts.js
//START DragPanel.FloatingBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedFloating"; function a() { Sys.Extended.UI.FloatingBehavior = function (n) { var f = "_floatingObject", e = "location", d = "mousedown", b = null, c = "move", a = this; Sys.Extended.UI.FloatingBehavior.initializeBase(a, [n]); var h, g, j, l, k, i = Function.createDelegate(a, m); a.add_move = function (a) { this.get_events().addHandler(c, a) }; a.remove_move = function (a) { this.get_events().removeHandler(c, a) }; a.get_handle = function () { return h }; a.set_handle = function (a) { h != b && $removeHandler(h, d, i); h = a; $addHandler(h, d, i) }; a.get_profileProperty = function () { return l }; a.set_profileProperty = function (a) { l = a }; a.get_profileComponent = function () { return k }; a.set_profileComponent = function (a) { k = a }; a.get_location = function () { return g }; a.set_location = function (a) { if (g != a) { g = a; this.get_isInitialized() && $common.setLocation(this.get_element(), g); this.raisePropertyChanged(e) } }; a.initialize = function () { Sys.Extended.UI.FloatingBehavior.callBaseMethod(this, "initialize"); Sys.Extended.UI.DragDropManager.registerDropTarget(this); var a = this.get_element(); if (!g) g = $common.getLocation(a); a.style.position = "fixed"; $common.setLocation(a, g) }; a.dispose = function () { Sys.Extended.UI.DragDropManager.unregisterDropTarget(this); h && i && $removeHandler(h, d, i); i = b; Sys.Extended.UI.FloatingBehavior.callBaseMethod(this, "dispose") }; a.checkCanDrag = function (a) { var d = ["input", "button", "select", "textarea", "label"], c = a.tagName; return c.toLowerCase() == "a" && a.href != b && a.href.length > 0 ? false : Array.indexOf(d, c.toLowerCase()) > -1 ? false : true }; function m(a) { window._event = a; var b = this.get_element(); if (this.checkCanDrag(a.target)) { j = $common.getLocation(b); a.preventDefault(); this.startDragDrop(b) } } a.get_dragDataType = function () { return f }; a.getDragData = function () { return b }; a.get_dragMode = function () { return Sys.Extended.UI.DragMode.Move }; a.onDragStart = function () { }; a.onDrag = function () { }; a.onDragEnd = function (b) { var a = this; if (!b) { var f = a.get_events().getHandler(c); if (f) { var d = new Sys.CancelEventArgs; f(a, d); b = d.get_cancel() } } var h = a.get_element(); if (b) $common.setLocation(h, j); else { g = $common.getLocation(h); a.raisePropertyChanged(e) } }; a.startDragDrop = function (a) { Sys.Extended.UI.DragDropManager.startDragDrop(this, a, b) }; a.get_dropTargetElement = function () { return document.body }; a.canDrop = function (b, a) { return a == f }; a.drop = function () { }; a.onDragEnterTarget = function () { }; a.onDragLeaveTarget = function () { }; a.onDragInTarget = function () { } }; Sys.Extended.UI.FloatingBehavior.registerClass("Sys.Extended.UI.FloatingBehavior", Sys.Extended.UI.BehaviorBase, Sys.Extended.UI.IDragSource, Sys.Extended.UI.IDropTarget, Sys.IDisposable); Sys.registerComponent(Sys.Extended.UI.FloatingBehavior, { name: "draggable" }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedBase", "ExtendedCommon", "ExtendedDragDrop"], a); else a() })();
//END DragPanel.FloatingBehavior.js
//START Animation.Animations.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedAnimations"; function a() { var k = "unit", x = "endValue", w = "startValue", h = "style", y = "property", v = "forceLayoutInIE", u = "maximumOpacity", t = "minimumOpacity", j = "px", q = "height", p = "width", g = "onEnd", d = "onStart", i = "animations", o = "step", n = "ended", m = "started", s = "percentComplete", r = "isActive", f = "isPlaying", e = 100, b = false, c = true, l = "dispose", a = null; Type.registerNamespace("Sys.Extended.UI.Animation"); $AA = Sys.Extended.UI.Animation; $AA.registerAnimation = function (c, b) { if (b && (b === $AA.Animation || b.inheritsFrom && b.inheritsFrom($AA.Animation))) { if (!$AA.__animations) $AA.__animations = {}; $AA.__animations[c.toLowerCase()] = b; b.play = function () { var c = new b; b.apply(c, arguments); c.initialize(); var d = Function.createDelegate(c, function () { c.remove_ended(d); d = a; c.dispose() }); c.add_ended(d); c.play() } } else throw Error.argumentType("type", b, $AA.Animation, Sys.Extended.UI.Resources.Animation_InvalidBaseType); }; $AA.buildAnimation = function (b, d) { if (!b || b === "") return a; var c; b = "(" + b + ")"; if (!Sys.Debug.isDebug) try { c = Sys.Serialization.JavaScriptSerializer.deserialize(b) } catch (e) { } else c = Sys.Serialization.JavaScriptSerializer.deserialize(b); return $AA.createAnimation(c, d) }; $AA.createAnimation = function (d, l) { var a = "obj"; if (!d || !d.AnimationName) throw Error.argument(a, Sys.Extended.UI.Resources.Animation_MissingAnimationName); var c = $AA.__animations[d.AnimationName.toLowerCase()]; if (!c) throw Error.argument("type", String.format(Sys.Extended.UI.Resources.Animation_UknownAnimationName, d.AnimationName)); var e = new c; l && e.set_target(l); if (d.AnimationChildren && d.AnimationChildren.length) if ($AA.ParentAnimation.isInstanceOfType(e)) for (var k = 0; k < d.AnimationChildren.length; k++) { var m = $AA.createAnimation(d.AnimationChildren[k]); m && e.add(m) } else throw Error.argument(a, String.format(Sys.Extended.UI.Resources.Animation_ChildrenNotAllowed, c.getName())); var h = c.__animationProperties; if (!h) { c.__animationProperties = {}; c.resolveInheritance(); for (var j in c.prototype) if (j.startsWith("set_")) c.__animationProperties[j.substr(4).toLowerCase()] = j; delete c.__animationProperties.id; h = c.__animationProperties } for (var f in d) { var g = f.toLowerCase(); if (g == "animationname" || g == "animationchildren") continue; var i = d[f], b = h[g]; if (b && String.isInstanceOfType(b) && e[b]) if (!Sys.Debug.isDebug) try { e[b](i) } catch (n) { } else e[b](i); else if (g.endsWith("script")) { b = h[g.substr(0, f.length - 6)]; if (b && String.isInstanceOfType(b) && e[b]) e.DynamicProperties[b] = i; else if (Sys.Debug.isDebug) throw Error.argument(a, String.format(Sys.Extended.UI.Resources.Animation_NoDynamicPropertyFound, f, f.substr(0, f.length - 5))); } else if (Sys.Debug.isDebug) throw Error.argument(a, String.format(Sys.Extended.UI.Resources.Animation_NoPropertyFound, f)); } return e }; $AA.Animation = function (d, c, e) { var b = this; $AA.Animation.initializeBase(b); b._duration = 1; b._fps = 25; b._target = a; b._tickHandler = a; b._timer = a; b._percentComplete = 0; b._percentDelta = a; b._owner = a; b._parentAnimation = a; b.DynamicProperties = {}; d && b.set_target(d); c && b.set_duration(c); e && b.set_fps(e) }; $AA.Animation.prototype = { dispose: function () { var b = this; if (b._timer) { b._timer.dispose(); b._timer = a } b._tickHandler = a; b._target = a; $AA.Animation.callBaseMethod(b, l) }, play: function () { var a = this; if (!a._owner) { var d = c; if (!a._timer) { d = b; if (!a._tickHandler) a._tickHandler = Function.createDelegate(a, a._onTimerTick); a._timer = new Sys.Timer; a._timer.add_tick(a._tickHandler); a.onStart(); a._timer.set_interval(1e3 / a._fps); a._percentDelta = e / (a._duration * a._fps); a._updatePercentComplete(0, c) } a._timer.set_enabled(c); a.raisePropertyChanged(f); !d && a.raisePropertyChanged(r) } }, pause: function () { var a = this; if (!a._owner) if (a._timer) { a._timer.set_enabled(b); a.raisePropertyChanged(f) } }, stop: function (c) { var b = this; if (!b._owner) { var d = b._timer; b._timer = a; if (d) { d.dispose(); if (b._percentComplete !== e) { b._percentComplete = e; b.raisePropertyChanged(s); if (c || c === undefined) b.onStep(e) } b.onEnd(); b.raisePropertyChanged(f); b.raisePropertyChanged(r) } } }, onStart: function () { var a = this; a.raiseStarted(); for (var b in a.DynamicProperties) try { a[b](eval(a.DynamicProperties[b])) } catch (c) { if (Sys.Debug.isDebug) throw c; } }, onStep: function (a) { this.setValue(this.getAnimatedValue(a)); this.raiseStep() }, onEnd: function () { this.raiseEnded() }, getAnimatedValue: function () { throw Error.notImplemented(); }, setValue: function () { throw Error.notImplemented(); }, interpolate: function (a, c, b) { return a + (c - a) * (b / e) }, _onTimerTick: function () { this._updatePercentComplete(this._percentComplete + this._percentDelta, c) }, _updatePercentComplete: function (a, d) { var c = this; if (a > e) a = e; c._percentComplete = a; c.raisePropertyChanged(s); if (d) c.onStep(a); a === e && c.stop(b) }, setOwner: function (a) { this._owner = a }, raiseStarted: function () { var a = this.get_events().getHandler(m); a && a(this, Sys.EventArgs.Empty) }, add_started: function (a) { this.get_events().addHandler(m, a) }, remove_started: function (a) { this.get_events().removeHandler(m, a) }, raiseEnded: function () { var a = this.get_events().getHandler(n); a && a(this, Sys.EventArgs.Empty) }, add_ended: function (a) { this.get_events().addHandler(n, a) }, remove_ended: function (a) { this.get_events().removeHandler(n, a) }, raiseStep: function () { var a = this.get_events().getHandler(o); a && a(this, Sys.EventArgs.Empty) }, add_step: function (a) { this.get_events().addHandler(o, a) }, remove_step: function (a) { this.get_events().removeHandler(o, a) }, get_target: function () { var a = this; return !a._target && a._parentAnimation ? a._parentAnimation.get_target() : a._target }, set_target: function (a) { if (this._target != a) { this._target = a; this.raisePropertyChanged("target") } }, set_animationTarget: function (d) { var c = a, b = $get(d); if (b) c = b; else { var e = $find(d); if (e) { b = e.get_element(); if (b) c = b } } if (c) this.set_target(c); else throw Error.argument("id", String.format(Sys.Extended.UI.Resources.Animation_TargetNotFound, d)); }, get_duration: function () { return this._duration }, set_duration: function (b) { var a = this; b = a._getFloat(b); if (a._duration != b) { a._duration = b; a.raisePropertyChanged("duration") } }, get_fps: function () { return this._fps }, set_fps: function (b) { var a = this; b = a._getInteger(b); if (a.fps != b) { a._fps = b; a.raisePropertyChanged("fps") } }, get_isActive: function () { return this._timer !== a }, get_isPlaying: function () { return this._timer !== a && this._timer.get_enabled() }, get_percentComplete: function () { return this._percentComplete }, _getBoolean: function (a) { return String.isInstanceOfType(a) ? Boolean.parse(a) : a }, _getInteger: function (a) { return String.isInstanceOfType(a) ? parseInt(a) : a }, _getFloat: function (a) { return String.isInstanceOfType(a) ? parseFloat(a) : a }, _getEnum: function (a, b) { return String.isInstanceOfType(a) && b && b.parse ? b.parse(a) : a } }; $AA.Animation.registerClass("Sys.Extended.UI.Animation.Animation", Sys.Component); $AA.registerAnimation("animation", $AA.Animation); $AA.ParentAnimation = function (d, c, e, a) { $AA.ParentAnimation.initializeBase(this, [d, c, e]); this._animations = []; if (a && a.length) for (var b = 0; b < a.length; b++) this.add(a[b]) }; $AA.ParentAnimation.prototype = { initialize: function () { var a = this; $AA.ParentAnimation.callBaseMethod(a, "initialize"); if (a._animations) for (var c = 0; c < a._animations.length; c++) { var b = a._animations[c]; b && !b.get_isInitialized && b.initialize() } }, dispose: function () { this.clear(); this._animations = a; $AA.ParentAnimation.callBaseMethod(this, l) }, get_animations: function () { return this._animations }, add: function (b) { var a = this; if (a._animations) { if (b) b._parentAnimation = a; Array.add(a._animations, b); a.raisePropertyChanged(i) } }, remove: function (a) { if (this._animations) { a && a.dispose(); Array.remove(this._animations, a); this.raisePropertyChanged(i) } }, removeAt: function (c) { var a = this; if (a._animations) { var b = a._animations[c]; b && b.dispose(); Array.removeAt(a._animations, c); a.raisePropertyChanged(i) } }, clear: function () { var b = this; if (b._animations) { for (var c = b._animations.length - 1; c >= 0; c--) { b._animations[c].dispose(); b._animations[c] = a } Array.clear(b._animations); b._animations = []; b.raisePropertyChanged(i) } } }; $AA.ParentAnimation.registerClass("Sys.Extended.UI.Animation.ParentAnimation", $AA.Animation); $AA.registerAnimation("parent", $AA.ParentAnimation); $AA.ParallelAnimation = function (c, b, d, a) { $AA.ParallelAnimation.initializeBase(this, [c, b, d, a]) }; $AA.ParallelAnimation.prototype = { add: function (a) { $AA.ParallelAnimation.callBaseMethod(this, "add", [a]); a.setOwner(this) }, onStart: function () { $AA.ParallelAnimation.callBaseMethod(this, d); for (var b = this.get_animations(), a = 0; a < b.length; a++) b[a].onStart() }, onStep: function (c) { for (var b = this.get_animations(), a = 0; a < b.length; a++) b[a].onStep(c) }, onEnd: function () { for (var b = this.get_animations(), a = 0; a < b.length; a++) b[a].onEnd(); $AA.ParallelAnimation.callBaseMethod(this, g) } }; $AA.ParallelAnimation.registerClass("Sys.Extended.UI.Animation.ParallelAnimation", $AA.ParentAnimation); $AA.registerAnimation("parallel", $AA.ParallelAnimation); $AA.SequenceAnimation = function (g, f, h, e, d) { var c = this; $AA.SequenceAnimation.initializeBase(c, [g, f, h, e]); c._handler = a; c._paused = b; c._playing = b; c._index = 0; c._remainingIterations = 0; c._iterations = d !== undefined ? d : 1 }; $AA.SequenceAnimation.prototype = { dispose: function () { this._handler = a; $AA.SequenceAnimation.callBaseMethod(this, l) }, stop: function () { var a = this; if (a._playing) { var c = a.get_animations(); if (a._index < c.length) { c[a._index].remove_ended(a._handler); for (var d = a._index; d < c.length; d++) c[d].stop() } a._playing = b; a._paused = b; a.raisePropertyChanged(f); a.onEnd() } }, pause: function () { var b = this; if (b.get_isPlaying()) { var d = b.get_animations()[b._index]; d != a && d.pause(); b._paused = c; b.raisePropertyChanged(f) } }, play: function () { var d = this, g = d.get_animations(); if (!d._playing) { d._playing = c; if (d._paused) { d._paused = b; var h = g[d._index]; if (h != a) { h.play(); d.raisePropertyChanged(f) } } else { d.onStart(); d._index = 0; var e = g[d._index]; if (e) { e.add_ended(d._handler); e.play(); d.raisePropertyChanged(f) } else d.stop() } } }, onStart: function () { var a = this; $AA.SequenceAnimation.callBaseMethod(a, d); a._remainingIterations = a._iterations - 1; if (!a._handler) a._handler = Function.createDelegate(a, a._onEndAnimation) }, _onEndAnimation: function () { var a = this, b = a.get_animations(), c = b[a._index++]; c && c.remove_ended(a._handler); if (a._index < b.length) { var e = b[a._index]; e.add_ended(a._handler); e.play() } else if (a._remainingIterations >= 1 || a._iterations <= 0) { a._remainingIterations--; a._index = 0; var d = b[0]; d.add_ended(a._handler); d.play() } else a.stop() }, onStep: function () { throw Error.invalidOperation(Sys.Extended.UI.Resources.Animation_CannotNestSequence); }, onEnd: function () { this._remainingIterations = 0; $AA.SequenceAnimation.callBaseMethod(this, g) }, get_isActive: function () { return c }, get_isPlaying: function () { return this._playing && !this._paused }, get_iterations: function () { return this._iterations }, set_iterations: function (b) { var a = this; b = a._getInteger(b); if (a._iterations != b) { a._iterations = b; a.raisePropertyChanged("iterations") } }, get_isInfinite: function () { return this._iterations <= 0 } }; $AA.SequenceAnimation.registerClass("Sys.Extended.UI.Animation.SequenceAnimation", $AA.ParentAnimation); $AA.registerAnimation("sequence", $AA.SequenceAnimation); $AA.SelectionAnimation = function (d, c, e, b) { $AA.SelectionAnimation.initializeBase(this, [d, c, e, b]); this._selectedIndex = -1; this._selected = a }; $AA.SelectionAnimation.prototype = { getSelectedIndex: function () { throw Error.notImplemented(); }, onStart: function () { var a = this; $AA.SelectionAnimation.callBaseMethod(a, d); var b = a.get_animations(); a._selectedIndex = a.getSelectedIndex(); if (a._selectedIndex >= 0 && a._selectedIndex < b.length) { a._selected = b[a._selectedIndex]; if (a._selected) { a._selected.setOwner(a); a._selected.onStart() } } }, onStep: function (a) { if (this._selected) this._selected.onStep(a) }, onEnd: function () { var b = this; if (b._selected) { b._selected.onEnd(); b._selected.setOwner(a) } b._selected = a; b._selectedIndex = a; $AA.SelectionAnimation.callBaseMethod(b, g) } }; $AA.SelectionAnimation.registerClass("Sys.Extended.UI.Animation.SelectionAnimation", $AA.ParentAnimation); $AA.registerAnimation("selection", $AA.SelectionAnimation); $AA.ConditionAnimation = function (d, c, e, b, a) { $AA.ConditionAnimation.initializeBase(this, [d, c, e, b]); this._conditionScript = a }; $AA.ConditionAnimation.prototype = { getSelectedIndex: function () { var a = -1; if (this._conditionScript && this._conditionScript.length > 0) try { a = eval(this._conditionScript) ? 0 : 1 } catch (b) { } return a }, get_conditionScript: function () { return this._conditionScript }, set_conditionScript: function (a) { if (this._conditionScript != a) { this._conditionScript = a; this.raisePropertyChanged("conditionScript") } } }; $AA.ConditionAnimation.registerClass("Sys.Extended.UI.Animation.ConditionAnimation", $AA.SelectionAnimation); $AA.registerAnimation("condition", $AA.ConditionAnimation); $AA.CaseAnimation = function (d, c, e, b, a) { $AA.CaseAnimation.initializeBase(this, [d, c, e, b]); this._selectScript = a }; $AA.CaseAnimation.prototype = { getSelectedIndex: function () { var a = -1; if (this._selectScript && this._selectScript.length > 0) try { var b = eval(this._selectScript); if (b !== undefined) a = b } catch (c) { } return a }, get_selectScript: function () { return this._selectScript }, set_selectScript: function (a) { if (this._selectScript != a) { this._selectScript = a; this.raisePropertyChanged("selectScript") } } }; $AA.CaseAnimation.registerClass("Sys.Extended.UI.Animation.CaseAnimation", $AA.SelectionAnimation); $AA.registerAnimation("case", $AA.CaseAnimation); $AA.FadeEffect = function () { throw Error.invalidOperation(); }; $AA.FadeEffect.prototype = { FadeIn: 0, FadeOut: 1 }; $AA.FadeEffect.registerEnum("Sys.Extended.UI.Animation.FadeEffect", b); $AA.FadeAnimation = function (j, i, k, h, g, f, e) { var d = this; $AA.FadeAnimation.initializeBase(d, [j, i, k]); d._effect = h !== undefined ? h : $AA.FadeEffect.FadeIn; d._max = f !== undefined ? f : 1; d._min = g !== undefined ? g : 0; d._start = d._min; d._end = d._max; d._layoutCreated = b; d._forceLayoutInIE = e === undefined || e === a ? c : e; d._currentTarget = a; d._resetOpacities() }; $AA.FadeAnimation.prototype = { _resetOpacities: function () { var a = this; if (a._effect == $AA.FadeEffect.FadeIn) { a._start = a._min; a._end = a._max } else { a._start = a._max; a._end = a._min } }, _createLayout: function () { var a = this, b = a._currentTarget; if (b) { a._originalWidth = $common.getCurrentStyle(b, p); var d = $common.getCurrentStyle(b, q); a._originalBackColor = $common.getCurrentStyle(b, "backgroundColor"); if ((!a._originalWidth || a._originalWidth == "" || a._originalWidth == "auto") && (!d || d == "" || d == "auto")) b.style.width = b.offsetWidth + j; if (!a._originalBackColor || a._originalBackColor == "" || a._originalBackColor == "transparent" || a._originalBackColor == "rgba(0, 0, 0, 0)") b.style.backgroundColor = $common.getInheritedBackgroundColor(b); a._layoutCreated = c } }, onStart: function () { var a = this; $AA.FadeAnimation.callBaseMethod(a, d); a._currentTarget = a.get_target(); a.setValue(a._start); a._forceLayoutInIE && !a._layoutCreated && Sys.Browser.agent == Sys.Browser.InternetExplorer && a._createLayout() }, getAnimatedValue: function (a) { return this.interpolate(this._start, this._end, a) }, setValue: function (a) { this._currentTarget && $common.setElementOpacity(this._currentTarget, a) }, get_effect: function () { return this._effect }, set_effect: function (b) { var a = this; b = a._getEnum(b, $AA.FadeEffect); if (a._effect != b) { a._effect = b; a._resetOpacities(); a.raisePropertyChanged("effect") } }, get_minimumOpacity: function () { return this._min }, set_minimumOpacity: function (b) { var a = this; b = a._getFloat(b); if (a._min != b) { a._min = b; a._resetOpacities(); a.raisePropertyChanged(t) } }, get_maximumOpacity: function () { return this._max }, set_maximumOpacity: function (b) { var a = this; b = a._getFloat(b); if (a._max != b) { a._max = b; a._resetOpacities(); a.raisePropertyChanged(u) } }, get_forceLayoutInIE: function () { return this._forceLayoutInIE }, set_forceLayoutInIE: function (b) { var a = this; b = a._getBoolean(b); if (a._forceLayoutInIE != b) { a._forceLayoutInIE = b; a.raisePropertyChanged(v) } }, set_startValue: function (a) { a = this._getFloat(a); this._start = a } }; $AA.FadeAnimation.registerClass("Sys.Extended.UI.Animation.FadeAnimation", $AA.Animation); $AA.registerAnimation("fade", $AA.FadeAnimation); $AA.FadeInAnimation = function (e, d, f, c, b, a) { $AA.FadeInAnimation.initializeBase(this, [e, d, f, $AA.FadeEffect.FadeIn, c, b, a]) }; $AA.FadeInAnimation.prototype = { onStart: function () { var a = this; $AA.FadeInAnimation.callBaseMethod(a, d); a._currentTarget && a.set_startValue($common.getElementOpacity(a._currentTarget)) } }; $AA.FadeInAnimation.registerClass("Sys.Extended.UI.Animation.FadeInAnimation", $AA.FadeAnimation); $AA.registerAnimation("fadeIn", $AA.FadeInAnimation); $AA.FadeOutAnimation = function (e, d, f, c, b, a) { $AA.FadeOutAnimation.initializeBase(this, [e, d, f, $AA.FadeEffect.FadeOut, c, b, a]) }; $AA.FadeOutAnimation.prototype = { onStart: function () { var a = this; $AA.FadeOutAnimation.callBaseMethod(a, d); a._currentTarget && a.set_startValue($common.getElementOpacity(a._currentTarget)) } }; $AA.FadeOutAnimation.registerClass("Sys.Extended.UI.Animation.FadeOutAnimation", $AA.FadeAnimation); $AA.registerAnimation("fadeOut", $AA.FadeOutAnimation); $AA.PulseAnimation = function (d, c, e, i, h, g, f) { var b = this; $AA.PulseAnimation.initializeBase(b, [d, c, e, a, i !== undefined ? i : 3]); b._out = new $AA.FadeOutAnimation(d, c, e, h, g, f); b.add(b._out); b._in = new $AA.FadeInAnimation(d, c, e, h, g, f); b.add(b._in) }; $AA.PulseAnimation.prototype = { get_minimumOpacity: function () { return this._out.get_minimumOpacity() }, set_minimumOpacity: function (b) { var a = this; b = a._getFloat(b); a._out.set_minimumOpacity(b); a._in.set_minimumOpacity(b); a.raisePropertyChanged(t) }, get_maximumOpacity: function () { return this._out.get_maximumOpacity() }, set_maximumOpacity: function (b) { var a = this; b = a._getFloat(b); a._out.set_maximumOpacity(b); a._in.set_maximumOpacity(b); a.raisePropertyChanged(u) }, get_forceLayoutInIE: function () { return this._out.get_forceLayoutInIE() }, set_forceLayoutInIE: function (b) { var a = this; b = a._getBoolean(b); a._out.set_forceLayoutInIE(b); a._in.set_forceLayoutInIE(b); a.raisePropertyChanged(v) }, set_duration: function (a) { var b = this; a = b._getFloat(a); $AA.PulseAnimation.callBaseMethod(b, "set_duration", [a]); b._in.set_duration(a); b._out.set_duration(a) }, set_fps: function (a) { var b = this; a = b._getInteger(a); $AA.PulseAnimation.callBaseMethod(b, "set_fps", [a]); b._in.set_fps(a); b._out.set_fps(a) } }; $AA.PulseAnimation.registerClass("Sys.Extended.UI.Animation.PulseAnimation", $AA.SequenceAnimation); $AA.registerAnimation("pulse", $AA.PulseAnimation); $AA.PropertyAnimation = function (f, d, g, e, c) { var b = this; $AA.PropertyAnimation.initializeBase(b, [f, d, g]); b._property = e; b._propertyKey = c; b._currentTarget = a }; $AA.PropertyAnimation.prototype = { onStart: function () { $AA.PropertyAnimation.callBaseMethod(this, d); this._currentTarget = this.get_target() }, setValue: function (c) { var a = this, b = a._currentTarget; if (b && a._property && a._property.length > 0) if (a._propertyKey && a._propertyKey.length > 0 && b[a._property]) b[a._property][a._propertyKey] = c; else b[a._property] = c }, getValue: function () { var b = this, d = b.get_target(); if (d && b._property && b._property.length > 0) { var c = d[b._property]; if (c) return b._propertyKey && b._propertyKey.length > 0 ? c[b._propertyKey] : c } return a }, get_property: function () { return this._property }, set_property: function (a) { if (this._property != a) { this._property = a; this.raisePropertyChanged(y) } }, get_propertyKey: function () { return this._propertyKey }, set_propertyKey: function (a) { if (this._propertyKey != a) { this._propertyKey = a; this.raisePropertyChanged("propertyKey") } } }; $AA.PropertyAnimation.registerClass("Sys.Extended.UI.Animation.PropertyAnimation", $AA.Animation); $AA.registerAnimation(y, $AA.PropertyAnimation); $AA.DiscreteAnimation = function (e, c, f, d, b, a) { $AA.DiscreteAnimation.initializeBase(this, [e, c, f, d, b]); this._values = a && a.length ? a : [] }; $AA.DiscreteAnimation.prototype = { getAnimatedValue: function (a) { var b = Math.floor(this.interpolate(0, this._values.length - 1, a)); return this._values[b] }, get_values: function () { return this._values }, set_values: function (a) { if (this._values != a) { this._values = a; this.raisePropertyChanged("values") } } }; $AA.DiscreteAnimation.registerClass("Sys.Extended.UI.Animation.DiscreteAnimation", $AA.PropertyAnimation); $AA.registerAnimation("discrete", $AA.DiscreteAnimation); $AA.InterpolatedAnimation = function (f, d, g, a, b, c, e) { $AA.InterpolatedAnimation.initializeBase(this, [f, d, g, a !== undefined ? a : h, b]); this._startValue = c; this._endValue = e }; $AA.InterpolatedAnimation.prototype = { get_startValue: function () { return this._startValue }, set_startValue: function (b) { var a = this; b = a._getFloat(b); if (a._startValue != b) { a._startValue = b; a.raisePropertyChanged(w) } }, get_endValue: function () { return this._endValue }, set_endValue: function (b) { var a = this; b = a._getFloat(b); if (a._endValue != b) { a._endValue = b; a.raisePropertyChanged(x) } } }; $AA.InterpolatedAnimation.registerClass("Sys.Extended.UI.Animation.InterpolatedAnimation", $AA.PropertyAnimation); $AA.registerAnimation("interpolated", $AA.InterpolatedAnimation); $AA.ColorAnimation = function (i, f, j, h, d, e, g) { var c = this; $AA.ColorAnimation.initializeBase(c, [i, f, j, h, d, e, g]); c._start = a; c._end = a; c._interpolateRed = b; c._interpolateGreen = b; c._interpolateBlue = b }; $AA.ColorAnimation.prototype = { onStart: function () { var a = this; $AA.ColorAnimation.callBaseMethod(a, d); a._start = $AA.ColorAnimation.getRGB(a.get_startValue()); a._end = $AA.ColorAnimation.getRGB(a.get_endValue()); a._interpolateRed = a._start.Red != a._end.Red; a._interpolateGreen = a._start.Green != a._end.Green; a._interpolateBlue = a._start.Blue != a._end.Blue }, getAnimatedValue: function (b) { var a = this, e = a._start.Red, d = a._start.Green, c = a._start.Blue; if (a._interpolateRed) e = Math.round(a.interpolate(e, a._end.Red, b)); if (a._interpolateGreen) d = Math.round(a.interpolate(d, a._end.Green, b)); if (a._interpolateBlue) c = Math.round(a.interpolate(c, a._end.Blue, b)); return $AA.ColorAnimation.toColor(e, d, c) }, set_startValue: function (a) { if (this._startValue != a) { this._startValue = a; this.raisePropertyChanged(w) } }, set_endValue: function (a) { if (this._endValue != a) { this._endValue = a; this.raisePropertyChanged(x) } } }; $AA.ColorAnimation.getRGB = function (a) { if (!a || a.length != 7) throw String.format(Sys.Extended.UI.Resources.Animation_InvalidColor, a); return { Red: parseInt(a.substr(1, 2), 16), Green: parseInt(a.substr(3, 2), 16), Blue: parseInt(a.substr(5, 2), 16) } }; $AA.ColorAnimation.toColor = function (f, d, e) { var c = f.toString(16), b = d.toString(16), a = e.toString(16); if (c.length == 1) c = "0" + c; if (b.length == 1) b = "0" + b; if (a.length == 1) a = "0" + a; return "#" + c + b + a }; $AA.ColorAnimation.registerClass("Sys.Extended.UI.Animation.ColorAnimation", $AA.InterpolatedAnimation); $AA.registerAnimation("color", $AA.ColorAnimation); $AA.LengthAnimation = function (h, e, i, g, c, d, f, b) { $AA.LengthAnimation.initializeBase(this, [h, e, i, g, c, d, f]); this._unit = b != a ? b : j }; $AA.LengthAnimation.prototype = { getAnimatedValue: function (b) { var a = this, c = a.interpolate(a.get_startValue(), a.get_endValue(), b); return Math.round(c) + a._unit }, get_unit: function () { return this._unit }, set_unit: function (a) { if (this._unit != a) { this._unit = a; this.raisePropertyChanged(k) } } }; $AA.LengthAnimation.registerClass("Sys.Extended.UI.Animation.LengthAnimation", $AA.InterpolatedAnimation); $AA.registerAnimation("length", $AA.LengthAnimation); $AA.MoveAnimation = function (e, d, f, g, j, i, k) { var b = this; $AA.MoveAnimation.initializeBase(b, [e, d, f, a]); b._horizontal = g ? g : 0; b._vertical = j ? j : 0; b._relative = i === undefined ? c : i; b._horizontalAnimation = new $AA.LengthAnimation(e, d, f, h, "left", a, a, k); b._verticalAnimation = new $AA.LengthAnimation(e, d, f, h, "top", a, a, k); b.add(b._verticalAnimation); b.add(b._horizontalAnimation) }; $AA.MoveAnimation.prototype = { onStart: function () { var a = this; $AA.MoveAnimation.callBaseMethod(a, d); var b = a.get_target(); a._horizontalAnimation.set_startValue(b.offsetLeft); a._horizontalAnimation.set_endValue(a._relative ? b.offsetLeft + a._horizontal : a._horizontal); a._verticalAnimation.set_startValue(b.offsetTop); a._verticalAnimation.set_endValue(a._relative ? b.offsetTop + a._vertical : a._vertical) }, get_horizontal: function () { return this._horizontal }, set_horizontal: function (b) { var a = this; b = a._getFloat(b); if (a._horizontal != b) { a._horizontal = b; a.raisePropertyChanged("horizontal") } }, get_vertical: function () { return this._vertical }, set_vertical: function (b) { var a = this; b = a._getFloat(b); if (a._vertical != b) { a._vertical = b; a.raisePropertyChanged("vertical") } }, get_relative: function () { return this._relative }, set_relative: function (b) { var a = this; b = a._getBoolean(b); if (a._relative != b) { a._relative = b; a.raisePropertyChanged("relative") } }, get_unit: function () { this._horizontalAnimation.get_unit() }, set_unit: function (b) { var a = this, c = a._horizontalAnimation.get_unit(); if (c != b) { a._horizontalAnimation.set_unit(b); a._verticalAnimation.set_unit(b); a.raisePropertyChanged(k) } } }; $AA.MoveAnimation.registerClass("Sys.Extended.UI.Animation.MoveAnimation", $AA.ParallelAnimation); $AA.registerAnimation("move", $AA.MoveAnimation); $AA.ResizeAnimation = function (d, c, e, i, g, f) { var b = this; $AA.ResizeAnimation.initializeBase(b, [d, c, e, a]); b._width = i; b._height = g; b._horizontalAnimation = new $AA.LengthAnimation(d, c, e, h, p, a, a, f); b._verticalAnimation = new $AA.LengthAnimation(d, c, e, h, q, a, a, f); b.add(b._horizontalAnimation); b.add(b._verticalAnimation) }; $AA.ResizeAnimation.prototype = { onStart: function () { var b = this; $AA.ResizeAnimation.callBaseMethod(b, d); var c = b.get_target(); b._horizontalAnimation.set_startValue(c.offsetWidth); b._verticalAnimation.set_startValue(c.offsetHeight); b._horizontalAnimation.set_endValue(b._width !== a && b._width !== undefined ? b._width : c.offsetWidth); b._verticalAnimation.set_endValue(b._height !== a && b._height !== undefined ? b._height : c.offsetHeight) }, get_width: function () { return this._width }, set_width: function (b) { var a = this; b = a._getFloat(b); if (a._width != b) { a._width = b; a.raisePropertyChanged(p) } }, get_height: function () { return this._height }, set_height: function (b) { var a = this; b = a._getFloat(b); if (a._height != b) { a._height = b; a.raisePropertyChanged(q) } }, get_unit: function () { this._horizontalAnimation.get_unit() }, set_unit: function (b) { var a = this, c = a._horizontalAnimation.get_unit(); if (c != b) { a._horizontalAnimation.set_unit(b); a._verticalAnimation.set_unit(b); a.raisePropertyChanged(k) } } }; $AA.ResizeAnimation.registerClass("Sys.Extended.UI.Animation.ResizeAnimation", $AA.ParallelAnimation); $AA.registerAnimation("resize", $AA.ResizeAnimation); $AA.ScaleAnimation = function (i, g, k, c, e, h, f, d) { var b = this; $AA.ScaleAnimation.initializeBase(b, [i, g, k]); b._scaleFactor = c !== undefined ? c : 1; b._unit = e !== undefined ? e : j; b._center = h; b._scaleFont = f; b._fontUnit = d !== undefined ? d : "pt"; b._element = a; b._initialHeight = a; b._initialWidth = a; b._initialTop = a; b._initialLeft = a; b._initialFontSize = a }; $AA.ScaleAnimation.prototype = { getAnimatedValue: function (a) { return this.interpolate(1, this._scaleFactor, a) }, onStart: function () { var a = this; $AA.ScaleAnimation.callBaseMethod(a, d); a._element = a.get_target(); if (a._element) { a._initialHeight = a._element.offsetHeight; a._initialWidth = a._element.offsetWidth; if (a._center) { a._initialTop = a._element.offsetTop; a._initialLeft = a._element.offsetLeft } if (a._scaleFont) a._initialFontSize = parseFloat($common.getCurrentStyle(a._element, "fontSize")) } }, setValue: function (b) { var a = this; if (a._element) { var e = Math.round(a._initialWidth * b), d = Math.round(a._initialHeight * b); a._element.style.width = e + a._unit; a._element.style.height = d + a._unit; if (a._center) { a._element.style.top = a._initialTop + Math.round((a._initialHeight - d) / 2) + a._unit; a._element.style.left = a._initialLeft + Math.round((a._initialWidth - e) / 2) + a._unit } if (a._scaleFont) { var c = a._initialFontSize * b; if (a._fontUnit == j || a._fontUnit == "pt") c = Math.round(c); a._element.style.fontSize = c + a._fontUnit } } }, onEnd: function () { var b = this; b._element = a; b._initialHeight = a; b._initialWidth = a; b._initialTop = a; b._initialLeft = a; b._initialFontSize = a; $AA.ScaleAnimation.callBaseMethod(b, g) }, get_scaleFactor: function () { return this._scaleFactor }, set_scaleFactor: function (b) { var a = this; b = a._getFloat(b); if (a._scaleFactor != b) { a._scaleFactor = b; a.raisePropertyChanged("scaleFactor") } }, get_unit: function () { return this._unit }, set_unit: function (a) { if (this._unit != a) { this._unit = a; this.raisePropertyChanged(k) } }, get_center: function () { return this._center }, set_center: function (b) { var a = this; b = a._getBoolean(b); if (a._center != b) { a._center = b; a.raisePropertyChanged("center") } }, get_scaleFont: function () { return this._scaleFont }, set_scaleFont: function (b) { var a = this; b = a._getBoolean(b); if (a._scaleFont != b) { a._scaleFont = b; a.raisePropertyChanged("scaleFont") } }, get_fontUnit: function () { return this._fontUnit }, set_fontUnit: function (a) { if (this._fontUnit != a) { this._fontUnit = a; this.raisePropertyChanged("fontUnit") } } }; $AA.ScaleAnimation.registerClass("Sys.Extended.UI.Animation.ScaleAnimation", $AA.Animation); $AA.registerAnimation("scale", $AA.ScaleAnimation); $AA.Action = function (b, a, c) { $AA.Action.initializeBase(this, [b, a, c]); a === undefined && this.set_duration(0) }; $AA.Action.prototype = { onEnd: function () { this.doAction(); $AA.Action.callBaseMethod(this, g) }, doAction: function () { throw Error.notImplemented(); }, getAnimatedValue: function () { }, setValue: function () { } }; $AA.Action.registerClass("Sys.Extended.UI.Animation.Action", $AA.Animation); $AA.registerAnimation("action", $AA.Action); $AA.EnableAction = function (d, b, e, a) { $AA.EnableAction.initializeBase(this, [d, b, e]); this._enabled = a !== undefined ? a : c }; $AA.EnableAction.prototype = { doAction: function () { var a = this.get_target(); if (a) a.disabled = !this._enabled }, get_enabled: function () { return this._enabled }, set_enabled: function (b) { var a = this; b = a._getBoolean(b); if (a._enabled != b) { a._enabled = b; a.raisePropertyChanged("enabled") } } }; $AA.EnableAction.registerClass("Sys.Extended.UI.Animation.EnableAction", $AA.Action); $AA.registerAnimation("enableAction", $AA.EnableAction); $AA.HideAction = function (c, a, d, b) { $AA.HideAction.initializeBase(this, [c, a, d]); this._visible = b }; $AA.HideAction.prototype = { doAction: function () { var a = this.get_target(); a && $common.setVisible(a, this._visible) }, get_visible: function () { return this._visible }, set_visible: function (a) { if (this._visible != a) { this._visible = a; this.raisePropertyChanged("visible") } } }; $AA.HideAction.registerClass("Sys.Extended.UI.Animation.HideAction", $AA.Action); $AA.registerAnimation("hideAction", $AA.HideAction); $AA.StyleAction = function (c, b, e, a, d) { $AA.StyleAction.initializeBase(this, [c, b, e]); this._attribute = a; this._value = d }; $AA.StyleAction.prototype = { doAction: function () { var a = this.get_target(); if (a) a.style[this._attribute] = this._value }, get_attribute: function () { return this._attribute }, set_attribute: function (a) { if (this._attribute != a) { this._attribute = a; this.raisePropertyChanged("attribute") } }, get_value: function () { return this._value }, set_value: function (a) { if (this._value != a) { this._value = a; this.raisePropertyChanged("value") } } }; $AA.StyleAction.registerClass("Sys.Extended.UI.Animation.StyleAction", $AA.Action); $AA.registerAnimation("styleAction", $AA.StyleAction); $AA.OpacityAction = function (c, a, d, b) { $AA.OpacityAction.initializeBase(this, [c, a, d]); this._opacity = b }; $AA.OpacityAction.prototype = { doAction: function () { var a = this.get_target(); a && $common.setElementOpacity(a, this._opacity) }, get_opacity: function () { return this._opacity }, set_opacity: function (b) { var a = this; b = a._getFloat(b); if (a._opacity != b) { a._opacity = b; a.raisePropertyChanged("opacity") } } }; $AA.OpacityAction.registerClass("Sys.Extended.UI.Animation.OpacityAction", $AA.Action); $AA.registerAnimation("opacityAction", $AA.OpacityAction); $AA.ScriptAction = function (c, a, d, b) { $AA.ScriptAction.initializeBase(this, [c, a, d]); this._script = b }; $AA.ScriptAction.prototype = { doAction: function () { try { eval(this._script) } catch (a) { } }, get_script: function () { return this._script }, set_script: function (a) { if (this._script != a) { this._script = a; this.raisePropertyChanged("script") } } }; $AA.ScriptAction.registerClass("Sys.Extended.UI.Animation.ScriptAction", $AA.Action); $AA.registerAnimation("scriptAction", $AA.ScriptAction) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedCommon", "ExtendedTimer"], a); else a() })(); var $AA;
//END Animation.Animations.js
//START Animation.AnimationBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedAnimationBehavior"; function a() { var c = "mouseout", b = "mouseover", a = null; Type.registerNamespace("Sys.Extended.UI.Animation"); Sys.Extended.UI.Animation.AnimationBehavior = function (c) { var b = this; Sys.Extended.UI.Animation.AnimationBehavior.initializeBase(b, [c]); b._onLoad = a; b._onClick = a; b._onMouseOver = a; b._onMouseOut = a; b._onHoverOver = a; b._onHoverOut = a; b._onClickHandler = a; b._onMouseOverHandler = a; b._onMouseOutHandler = a }; Sys.Extended.UI.Animation.AnimationBehavior.prototype = { initialize: function () { var a = this; Sys.Extended.UI.Animation.AnimationBehavior.callBaseMethod(a, "initialize"); var d = a.get_element(); if (d) { a._onClickHandler = Function.createDelegate(a, a.OnClick); $addHandler(d, "click", a._onClickHandler); a._onMouseOverHandler = Function.createDelegate(a, a.OnMouseOver); $addHandler(d, b, a._onMouseOverHandler); a._onMouseOutHandler = Function.createDelegate(a, a.OnMouseOut); $addHandler(d, c, a._onMouseOutHandler) } }, dispose: function () { var d = this, e = d.get_element(); if (e) { if (d._onClickHandler) { $removeHandler(e, "click", d._onClickHandler); d._onClickHandler = a } if (d._onMouseOverHandler) { $removeHandler(e, b, d._onMouseOverHandler); d._onMouseOverHandler = a } if (d._onMouseOutHandler) { $removeHandler(e, c, d._onMouseOutHandler); d._onMouseOutHandler = a } } d._onLoad = a; d._onClick = a; d._onMouseOver = a; d._onMouseOut = a; d._onHoverOver = a; d._onHoverOut = a; Sys.Extended.UI.Animation.AnimationBehavior.callBaseMethod(d, "dispose") }, get_OnLoad: function () { return this._onLoad ? this._onLoad.get_json() : a }, set_OnLoad: function (b) { var a = this; if (!a._onLoad) { a._onLoad = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onLoad.initialize() } a._onLoad.set_json(b); a.raisePropertyChanged("OnLoad"); a._onLoad.play() }, get_OnLoadBehavior: function () { return this._onLoad }, get_OnClick: function () { return this._onClick ? this._onClick.get_json() : a }, set_OnClick: function (b) { var a = this; if (!a._onClick) { a._onClick = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onClick.initialize() } a._onClick.set_json(b); a.raisePropertyChanged("OnClick") }, get_OnClickBehavior: function () { return this._onClick }, OnClick: function () { this._onClick && this._onClick.play() }, get_OnMouseOver: function () { return this._onMouseOver ? this._onMouseOver.get_json() : a }, set_OnMouseOver: function (b) { var a = this; if (!a._onMouseOver) { a._onMouseOver = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onMouseOver.initialize() } a._onMouseOver.set_json(b); a.raisePropertyChanged("OnMouseOver") }, get_OnMouseOverBehavior: function () { return this._onMouseOver }, OnMouseOver: function () { var a = this; if (a._mouseHasEntered) return; a._onMouseOver && a._onMouseOver.play(); if (a._onHoverOver) { a._onHoverOut && a._onHoverOut.quit(); a._onHoverOver.play() } a._mouseHasEntered = true }, get_OnMouseOut: function () { return this._onMouseOut ? this._onMouseOut.get_json() : a }, set_OnMouseOut: function (b) { var a = this; if (!a._onMouseOut) { a._onMouseOut = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onMouseOut.initialize() } a._onMouseOut.set_json(b); a.raisePropertyChanged("OnMouseOut") }, get_OnMouseOutBehavior: function () { return this._onMouseOut }, OnMouseOut: function (e) { var a = this, d = e.rawEvent, b = a.get_element(), f = e.target; if (f.nodeName !== b.nodeName) return; var c = d.relatedTarget || d.toElement; if (b != c && !a._isChild(b, c)) { a._mouseHasEntered = false; a._onMouseOut && a._onMouseOut.play(); if (a._onHoverOut) { a._onHoverOver && a._onHoverOver.quit(); a._onHoverOut.play() } } }, _isChild: function (b, a) { var c = document.body; while (a && b != a && c != a) try { a = a.parentNode } catch (d) { return false } return b == a }, get_OnHoverOver: function () { return this._onHoverOver ? this._onHoverOver.get_json() : a }, set_OnHoverOver: function (b) { var a = this; if (!a._onHoverOver) { a._onHoverOver = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onHoverOver.initialize() } a._onHoverOver.set_json(b); a.raisePropertyChanged("OnHoverOver") }, get_OnHoverOverBehavior: function () { return this._onHoverOver }, get_OnHoverOut: function () { return this._onHoverOut ? this._onHoverOut.get_json() : a }, set_OnHoverOut: function (b) { var a = this; if (!a._onHoverOut) { a._onHoverOut = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onHoverOut.initialize() } a._onHoverOut.set_json(b); a.raisePropertyChanged("OnHoverOut") }, get_OnHoverOutBehavior: function () { return this._onHoverOut } }; Sys.Extended.UI.Animation.AnimationBehavior.registerClass("Sys.Extended.UI.Animation.AnimationBehavior", Sys.Extended.UI.BehaviorBase); Sys.Extended.UI.Animation.GenericAnimationBehavior = function (b) { Sys.Extended.UI.Animation.GenericAnimationBehavior.initializeBase(this, [b]); this._json = a; this._animation = a }; Sys.Extended.UI.Animation.GenericAnimationBehavior.prototype = { dispose: function () { this.disposeAnimation(); Sys.Extended.UI.Animation.GenericAnimationBehavior.callBaseMethod(this, "dispose") }, disposeAnimation: function () { this._animation && this._animation.dispose(); this._animation = a }, play: function () { var a = this; if (a._animation && !a._animation.get_isPlaying()) { a.stop(); a._animation.play() } }, stop: function () { if (this._animation) this._animation.get_isPlaying() && this._animation.stop(true) }, quit: function () { if (this._animation) this._animation.get_isPlaying() && this._animation.stop(false) }, get_json: function () { return this._json }, set_json: function (c) { var a = this; if (a._json != c) { a._json = c; a.raisePropertyChanged("json"); a.disposeAnimation(); var b = a.get_element(); if (b) { a._animation = Sys.Extended.UI.Animation.buildAnimation(a._json, b); a._animation && a._animation.initialize(); a.raisePropertyChanged("animation") } } }, get_animation: function () { return this._animation } }; Sys.Extended.UI.Animation.GenericAnimationBehavior.registerClass("Sys.Extended.UI.Animation.GenericAnimationBehavior", Sys.Extended.UI.BehaviorBase) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedAnimations", "ExtendedBase"], a); else a() })();
//END Animation.AnimationBehavior.js
//START ModalPopup.ModalPopupBehavior.js
// (c) 2010 CodePlex Foundation
Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.ModalPopupRepositionMode = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.ModalPopupRepositionMode.prototype = { None: 0, RepositionOnWindowResize: 1, RepositionOnWindowScroll: 2, RepositionOnWindowResizeAndScroll: 3 }; Sys.Extended.UI.ModalPopupRepositionMode.registerEnum("Sys.Extended.UI.ModalPopupRepositionMode"); Sys.Extended.UI.ModalPopupBehavior = function (d) { var c = false, b = null, a = this; Sys.Extended.UI.ModalPopupBehavior.initializeBase(a, [d]); a._PopupControlID = b; a._PopupDragHandleControlID = b; a._BackgroundCssClass = b; a._DropShadow = c; a._Drag = c; a._OkControlID = b; a._CancelControlID = b; a._OnOkScript = b; a._OnCancelScript = b; a._xCoordinate = -1; a._yCoordinate = -1; a._repositionMode = Sys.Extended.UI.ModalPopupRepositionMode.RepositionOnWindowResizeAndScroll; a._onShown = new Sys.Extended.UI.Animation.GenericAnimationBehavior(d); a._onHidden = new Sys.Extended.UI.Animation.GenericAnimationBehavior(d); a._onShowing = new Sys.Extended.UI.Animation.GenericAnimationBehavior(d); a._onHiding = new Sys.Extended.UI.Animation.GenericAnimationBehavior(d); a._backgroundElement = b; a._foregroundElement = b; a._relativeOrAbsoluteParentElement = b; a._popupElement = b; a._dragHandleElement = b; a._showHandler = b; a._okHandler = b; a._cancelHandler = b; a._scrollHandler = b; a._resizeHandler = b; a._windowHandlersAttached = c; a._dropShadowBehavior = b; a._dragBehavior = b; a._isIE6 = c; a._saveTabIndexes = []; a._saveDesableSelect = []; a._tagWithTabIndex = ["A", "AREA", "BUTTON", "INPUT", "OBJECT", "SELECT", "TEXTAREA", "IFRAME"]; a._isAnimationJustEnded = c; a._hidingAnimationEndedHandler = b; a._showingAnimationEndedHandler = b }; Sys.Extended.UI.ModalPopupBehavior.prototype = { initialize: function () { var b = "click", a = this; Sys.Extended.UI.ModalPopupBehavior.callBaseMethod(a, "initialize"); a._isIE6 = Sys.Browser.agent == Sys.Browser.InternetExplorer && Sys.Browser.version < 7; if (a._PopupDragHandleControlID) a._dragHandleElement = $get(a._PopupDragHandleControlID); a._popupElement = $get(a._PopupControlID); if (a._DropShadow) { a._foregroundElement = document.createElement("div"); a._foregroundElement.id = a.get_id() + "_foregroundElement"; a._popupElement.parentNode.appendChild(a._foregroundElement); a._foregroundElement.appendChild(a._popupElement) } else a._foregroundElement = a._popupElement; a._backgroundElement = document.createElement("div"); a._backgroundElement.id = a.get_id() + "_backgroundElement"; a._backgroundElement.style.display = "none"; a._backgroundElement.style.position = "fixed"; a._backgroundElement.style.left = "0px"; a._backgroundElement.style.top = "0px"; a._backgroundElement.style.zIndex = 1e4; if (a._BackgroundCssClass) a._backgroundElement.className = a._BackgroundCssClass; a._foregroundElement.parentNode.appendChild(a._backgroundElement); a._foregroundElement.style.display = "none"; a._foregroundElement.style.position = "fixed"; a._foregroundElement.style.zIndex = $common.getCurrentStyle(a._backgroundElement, "zIndex", a._backgroundElement.style.zIndex) + 1; a._showHandler = Function.createDelegate(a, a._onShow); $addHandler(a.get_element(), b, a._showHandler); if (a._OkControlID) { a._okHandler = Function.createDelegate(a, a._onOk); $addHandler($get(a._OkControlID), b, a._okHandler) } if (a._CancelControlID) { a._cancelHandler = Function.createDelegate(a, a._onCancel); $addHandler($get(a._CancelControlID), b, a._cancelHandler) } a._scrollHandler = Function.createDelegate(a, a._onLayout); a._resizeHandler = Function.createDelegate(a, a._onLayout); a.registerPartialUpdateEvents(); a._resetAnimationsTarget(); if (a._onHiding.get_animation()) { a._hidingAnimationEndedHandler = Function.createDelegate(a, function () { this._isAnimationJustEnded = true; this.hide() }); a._onHiding.get_animation().add_ended(a._hidingAnimationEndedHandler) } if (a._onShowing.get_animation()) { a._showingAnimationEndedHandler = Function.createDelegate(a, function () { this._isAnimationJustEnded = true; this.show() }); a._onShowing.get_animation().add_ended(a._showingAnimationEndedHandler) } }, dispose: function () { var c = "click", b = null, a = this; a._hideImplementation(); if (a._foregroundElement && a._foregroundElement.parentNode) { a._foregroundElement.parentNode.removeChild(a._backgroundElement); if (a._DropShadow) { a._foregroundElement.parentNode.appendChild(a._popupElement); a._foregroundElement.parentNode.removeChild(a._foregroundElement) } } a._scrollHandler = b; a._resizeHandler = b; if (a._cancelHandler && $get(a._CancelControlID)) { $removeHandler($get(a._CancelControlID), c, a._cancelHandler); a._cancelHandler = b } if (a._okHandler && $get(a._OkControlID)) { $removeHandler($get(a._OkControlID), c, a._okHandler); a._okHandler = b } if (a._showHandler) { $removeHandler(a.get_element(), c, a._showHandler); a._showHandler = b } a._hidingAnimationEndedHandler && a._onHiding.get_animation().remove_ended(a._hidingAnimationEndedHandler); a._showingAnimationEndedHandler && a._onShowing.get_animation().remove_ended(a._showingAnimationEndedHandler); Sys.Extended.UI.ModalPopupBehavior.callBaseMethod(a, "dispose") }, _attachPopup: function () { var b = null, a = this; if (a._DropShadow && !a._dropShadowBehavior) a._dropShadowBehavior = $create(Sys.Extended.UI.DropShadowBehavior, {}, b, b, a._popupElement); if (a._dragHandleElement && !a._dragBehavior) a._dragBehavior = $create(Sys.Extended.UI.FloatingBehavior, { handle: a._dragHandleElement }, b, b, a._foregroundElement); $addHandler(window, "resize", a._resizeHandler); $addHandler(window, "scroll", a._scrollHandler); a._windowHandlersAttached = true }, _detachPopup: function () { var a = this; if (a._windowHandlersAttached) { a._scrollHandler && $removeHandler(window, "scroll", a._scrollHandler); a._resizeHandler && $removeHandler(window, "resize", a._resizeHandler); a._windowHandlersAttached = false } if (a._dragBehavior) { a._dragBehavior.dispose(); a._dragBehavior = null } if (a._dropShadowBehavior) { a._dropShadowBehavior.dispose(); a._dropShadowBehavior = null } }, _onShow: function (a) { if (!this.get_element().disabled) { this.show(); a.preventDefault(); return false } }, _onOk: function (c) { var a = this, b = $get(a._OkControlID); if (b && !b.disabled) { a.hide() && a._OnOkScript && window.setTimeout(a._OnOkScript, 0); c.preventDefault(); return false } }, _onCancel: function (c) { var a = this, b = $get(a._CancelControlID); if (b && !b.disabled) { a.hide() && a._OnCancelScript && window.setTimeout(a._OnCancelScript, 0); c.preventDefault(); return false } }, _onLayout: function (c) { var b = this, a = b.get_repositionMode(); if ((a === Sys.Extended.UI.ModalPopupRepositionMode.RepositionOnWindowScroll || a === Sys.Extended.UI.ModalPopupRepositionMode.RepositionOnWindowResizeAndScroll) && c.type === "scroll") b._layout(); else if ((a === Sys.Extended.UI.ModalPopupRepositionMode.RepositionOnWindowResize || a === Sys.Extended.UI.ModalPopupRepositionMode.RepositionOnWindowResizeAndScroll) && c.type === "resize") b._layout(); else b._layoutBackgroundElement() }, show: function () { var c = "absolute", a = this; if (!a._isAnimationJustEnded) { var d = new Sys.CancelEventArgs; a.raiseShowing(d); if (d.get_cancel()) return; else if (a._onShowing.get_animation()) { a._onShowing.play(); return } } else a._isAnimationJustEnded = false; a.populate(); a._attachPopup(); a._backgroundElement.style.display = ""; a._foregroundElement.style.display = ""; a._popupElement.style.display = ""; if (a._isIE6) { a._foregroundElement.style.position = c; a._backgroundElement.style.position = c; var b = a._foregroundElement.parentNode; while (b && b != document.documentElement) if (b.style.position != "relative" && b.style.position != c) b = b.parentNode; else { a._relativeOrAbsoluteParentElement = b; break } } a.disableTab(); a._layout(); a._layout(); a.raiseShown(Sys.EventArgs.Empty); a._onShown.play() }, disableTab: function () { var c = this, d = 0, a, f = []; Array.clear(c._saveTabIndexes); for (var e = 0; e < c._tagWithTabIndex.length; e++) { a = c._foregroundElement.getElementsByTagName(c._tagWithTabIndex[e]); for (var b = 0; b < a.length; b++) { f[d] = a[b]; d++ } } d = 0; for (var e = 0; e < c._tagWithTabIndex.length; e++) { a = document.getElementsByTagName(c._tagWithTabIndex[e]); for (var b = 0; b < a.length; b++) if (Array.indexOf(f, a[b]) == -1) { c._saveTabIndexes[d] = { tag: a[b], index: a[b].tabIndex }; a[b].tabIndex = "-1"; d++ } } d = 0; if (Sys.Browser.agent === Sys.Browser.InternetExplorer && Sys.Browser.version < 7) { for (var g = [], e = 0; e < c._tagWithTabIndex.length; e++) { a = c._foregroundElement.getElementsByTagName("SELECT"); for (var b = 0; b < a.length; b++) { g[d] = a[b]; d++ } } d = 0; Array.clear(c._saveDesableSelect); a = document.getElementsByTagName("SELECT"); for (var b = 0; b < a.length; b++) if (Array.indexOf(g, a[b]) == -1) { c._saveDesableSelect[d] = { tag: a[b], visib: $common.getCurrentStyle(a[b], "visibility") }; a[b].style.visibility = "hidden"; d++ } } }, restoreTab: function () { var a = this; for (var b = 0; b < a._saveTabIndexes.length; b++) a._saveTabIndexes[b].tag.tabIndex = a._saveTabIndexes[b].index; Array.clear(a._saveTabIndexes); if (Sys.Browser.agent === Sys.Browser.InternetExplorer && Sys.Browser.version < 7) { for (var c = 0; c < a._saveDesableSelect.length; c++) a._saveDesableSelect[c].tag.style.visibility = a._saveDesableSelect[c].visib; Array.clear(a._saveDesableSelect) } }, hide: function () { var a = this; if (!a._isAnimationJustEnded) { var b = new Sys.CancelEventArgs; a.raiseHiding(b); if (b.get_cancel()) return false; else if (a._onHiding.get_animation()) { a._onHiding.play(); return true } } else a._isAnimationJustEnded = false; a._hideImplementation(); a.raiseHidden(Sys.EventArgs.Empty); a._onHidden.play(); return true }, _hideImplementation: function () { var a = this; a._backgroundElement.style.display = "none"; a._foregroundElement.style.display = "none"; a.restoreTab(); a._detachPopup() }, _layout: function () { var b = "px", g = "absolute", a = this, e = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft, f = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop, h = $common.getClientBounds(), l = h.width, k = h.height; a._layoutBackgroundElement(); var c = 0, d = 0; if (a._xCoordinate < 0) { var j = a._foregroundElement.offsetWidth ? a._foregroundElement.offsetWidth : a._foregroundElement.scrollWidth; c = (l - j) / 2; if (a._foregroundElement.style.position == g) c += e; a._foregroundElement.style.left = c + b } else if (a._isIE6) { a._foregroundElement.style.left = a._xCoordinate + e + b; c = a._xCoordinate + e } else { a._foregroundElement.style.left = a._xCoordinate + b; c = a._xCoordinate } if (a._yCoordinate < 0) { var i = a._foregroundElement.offsetHeight ? a._foregroundElement.offsetHeight : a._foregroundElement.scrollHeight; d = (k - i) / 2; if (a._foregroundElement.style.position == g) d += f; a._foregroundElement.style.top = d + b } else if (a._isIE6) { a._foregroundElement.style.top = a._yCoordinate + f + b; d = a._yCoordinate + f } else { a._foregroundElement.style.top = a._yCoordinate + b; d = a._yCoordinate } a._layoutForegroundElement(c, d); if (a._dropShadowBehavior) { a._dropShadowBehavior.setShadow(); window.setTimeout(Function.createDelegate(a, a._fixupDropShadowBehavior), 0) } a._layoutBackgroundElement() }, _layoutForegroundElement: function (d, e) { var a = this; if (a._isIE6 && a._relativeOrAbsoluteParentElement) { var c = $common.getLocation(a._foregroundElement), b = $common.getLocation(a._relativeOrAbsoluteParentElement), f = c.x; if (f != d) a._foregroundElement.style.left = d - b.x + "px"; var g = c.y; if (g != e) a._foregroundElement.style.top = e - b.y + "px" } }, _layoutBackgroundElement: function () { var b = "px", a = this; if (a._isIE6) { var c = $common.getLocation(a._backgroundElement), d = c.x; if (d != 0) a._backgroundElement.style.left = -d + b; var e = c.y; if (e != 0) a._backgroundElement.style.top = -e + b } var f = $common.getClientBounds(), h = f.width, g = f.height; a._backgroundElement.style.width = Math.max(Math.max(document.documentElement.scrollWidth, document.body.scrollWidth), h) + b; a._backgroundElement.style.height = Math.max(Math.max(document.documentElement.scrollHeight, document.body.scrollHeight), g) + b }, _fixupDropShadowBehavior: function () { this._dropShadowBehavior && this._dropShadowBehavior.setShadow() }, _partialUpdateEndRequest: function (d, b) { var a = this; Sys.Extended.UI.ModalPopupBehavior.callBaseMethod(a, "_partialUpdateEndRequest", [d, b]); if (a.get_element()) { var c = b.get_dataItems()[a.get_element().id]; if ("show" == c) a.show(); else "hide" == c && a.hide() } a._layout() }, _onPopulated: function (b, a) { Sys.Extended.UI.ModalPopupBehavior.callBaseMethod(this, "_onPopulated", [b, a]); this._layout() }, _replaceAnimationTarget: function (a, c) { var b = this, d = b[a].get_json(); b[a] = new Sys.Extended.UI.Animation.GenericAnimationBehavior(c); b[a].set_json(d); b[a].initialize() }, _resetAnimationsTarget: function () { var a = this, b = $get(a.get_PopupControlID()); a._replaceAnimationTarget("_onShowing", b); a._replaceAnimationTarget("_onShown", b); a._replaceAnimationTarget("_onHiding", b); a._replaceAnimationTarget("_onHidden", b) }, get_PopupControlID: function () { return this._PopupControlID }, set_PopupControlID: function (a) { if (this._PopupControlID != a) { this._PopupControlID = a; this.raisePropertyChanged("PopupControlID") } }, get_X: function () { return this._xCoordinate }, set_X: function (a) { if (this._xCoordinate != a) { this._xCoordinate = a; this.raisePropertyChanged("X") } }, get_Y: function () { return this._yCoordinate }, set_Y: function (a) { if (this._yCoordinate != a) { this._yCoordinate = a; this.raisePropertyChanged("Y") } }, get_PopupDragHandleControlID: function () { return this._PopupDragHandleControlID }, set_PopupDragHandleControlID: function (a) { if (this._PopupDragHandleControlID != a) { this._PopupDragHandleControlID = a; this.raisePropertyChanged("PopupDragHandleControlID") } }, get_BackgroundCssClass: function () { return this._BackgroundCssClass }, set_BackgroundCssClass: function (a) { if (this._BackgroundCssClass != a) { this._BackgroundCssClass = a; this.raisePropertyChanged("BackgroundCssClass") } }, get_DropShadow: function () { return this._DropShadow }, set_DropShadow: function (a) { if (this._DropShadow != a) { this._DropShadow = a; this.raisePropertyChanged("DropShadow") } }, get_Drag: function () { return this._Drag }, set_Drag: function (a) { if (this._Drag != a) { this._Drag = a; this.raisePropertyChanged("Drag") } }, get_OkControlID: function () { return this._OkControlID }, set_OkControlID: function (a) { if (this._OkControlID != a) { this._OkControlID = a; this.raisePropertyChanged("OkControlID") } }, get_CancelControlID: function () { return this._CancelControlID }, set_CancelControlID: function (a) { if (this._CancelControlID != a) { this._CancelControlID = a; this.raisePropertyChanged("CancelControlID") } }, get_OnOkScript: function () { return this._OnOkScript }, set_OnOkScript: function (a) { if (this._OnOkScript != a) { this._OnOkScript = a; this.raisePropertyChanged("OnOkScript") } }, get_OnCancelScript: function () { return this._OnCancelScript }, set_OnCancelScript: function (a) { if (this._OnCancelScript != a) { this._OnCancelScript = a; this.raisePropertyChanged("OnCancelScript") } }, get_repositionMode: function () { return this._repositionMode }, set_repositionMode: function (a) { if (this._repositionMode !== a) { this._repositionMode = a; this.raisePropertyChanged("RepositionMode") } }, get_OnShowing: function () { return this._onShowing.get_json() }, set_OnShowing: function (a) { this._onShowing.set_json(a); this.raisePropertyChanged("OnShowing") }, get_OnShown: function () { return this._onShown.get_json() }, set_OnShown: function (a) { this._onShown.set_json(a); this.raisePropertyChanged("OnShown") }, get_OnHiding: function () { return this._onHiding.get_json() }, set_OnHiding: function (a) { this._onHiding.set_json(a); this.raisePropertyChanged("OnHiding") }, get_OnHidden: function () { return this._onHidden.get_json() }, set_OnHidden: function (a) { this._onHidden.set_json(a); this.raisePropertyChanged("OnHidden") }, add_showing: function (a) { this.get_events().addHandler("showing", a) }, remove_showing: function (a) { this.get_events().removeHandler("showing", a) }, raiseShowing: function (b) { var a = this.get_events().getHandler("showing"); a && a(this, b) }, add_shown: function (a) { this.get_events().addHandler("shown", a) }, remove_shown: function (a) { this.get_events().removeHandler("shown", a) }, raiseShown: function (b) { var a = this.get_events().getHandler("shown"); a && a(this, b) }, add_hiding: function (a) { this.get_events().addHandler("hiding", a) }, remove_hiding: function (a) { this.get_events().removeHandler("hiding", a) }, raiseHiding: function (b) { var a = this.get_events().getHandler("hiding"); a && a(this, b) }, add_hidden: function (a) { this.get_events().addHandler("hidden", a) }, remove_hidden: function (a) { this.get_events().removeHandler("hidden", a) }, raiseHidden: function (b) { var a = this.get_events().getHandler("hidden"); a && a(this, b) } }; Sys.Extended.UI.ModalPopupBehavior.registerClass("Sys.Extended.UI.ModalPopupBehavior", Sys.Extended.UI.DynamicPopulateBehaviorBase); Sys.Extended.UI.ModalPopupBehavior.invokeViaServer = function (b, c) { var a = $find(b); if (a) if (c) a.show(); else a.hide() };
//END ModalPopup.ModalPopupBehavior.js
//START AlwaysVisibleControl.AlwaysVisibleControlBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedAlwaysVisible"; function a() { var d = "repositioned", c = "repositioning", a = null, b = false; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.HorizontalSide = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.HorizontalSide.prototype = { Left: 0, Center: 1, Right: 2 }; Sys.Extended.UI.HorizontalSide.registerEnum("Sys.Extended.UI.HorizontalSide", b); Sys.Extended.UI.VerticalSide = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.VerticalSide.prototype = { Top: 0, Middle: 1, Bottom: 2 }; Sys.Extended.UI.VerticalSide.registerEnum("Sys.Extended.UI.VerticalSide", b); Sys.Extended.UI.AlwaysVisibleControlBehavior = function (d) { var c = this; Sys.Extended.UI.AlwaysVisibleControlBehavior.initializeBase(c, [d]); c._horizontalOffset = 0; c._horizontalSide = Sys.Extended.UI.HorizontalSide.Left; c._verticalOffset = 0; c._verticalSide = Sys.Extended.UI.VerticalSide.Top; c._scrollEffectDuration = .1; c._repositionHandler = a; c._animate = b; c._animation = a }; Sys.Extended.UI.AlwaysVisibleControlBehavior.prototype = { initialize: function () { var a = this; Sys.Extended.UI.AlwaysVisibleControlBehavior.callBaseMethod(a, "initialize"); var c = a.get_element(); if (!c) throw Error.invalidOperation(Sys.Extended.UI.Resources.AlwaysVisible_ElementRequired); a._repositionHandler = Function.createDelegate(a, a._reposition); if (Sys.Browser.agent == Sys.Browser.InternetExplorer && Sys.Browser.version < 7) a._animate = true; if (a._animate) { a._animation = new Sys.Extended.UI.Animation.MoveAnimation(c, a._scrollEffectDuration, 25, 0, 0, b, "px"); c.style.position = "absolute" } else c.style.position = "fixed"; $addHandler(window, "resize", a._repositionHandler); a._animate && $addHandler(window, "scroll", a._repositionHandler); a._reposition() }, dispose: function () { var b = this; if (b._repositionHandler) { b._animate && $removeHandler(window, "scroll", b._repositionHandler); $removeHandler(window, "resize", b._repositionHandler); b._repositionHandler = a } if (b._animation) { b._animation.dispose(); b._animation = a } Sys.Extended.UI.AlwaysVisibleControlBehavior.callBaseMethod(b, "dispose") }, _reposition: function () { var a = this, d = a.get_element(); if (!d) return; a.raiseRepositioning(Sys.EventArgs.Empty); var b = 0, c = 0; if (a._animate) if (document.documentElement && document.documentElement.scrollTop) { b = document.documentElement.scrollLeft; c = document.documentElement.scrollTop } else { b = document.body.scrollLeft; c = document.body.scrollTop } var e = $common.getClientBounds(), g = e.width, f = e.height; switch (a._horizontalSide) { case Sys.Extended.UI.HorizontalSide.Center: b = Math.max(0, Math.floor(b + g / 2 - d.offsetWidth / 2 - a._horizontalOffset)); break; case Sys.Extended.UI.HorizontalSide.Right: b = Math.max(0, b + g - d.offsetWidth - a._horizontalOffset); break; case Sys.Extended.UI.HorizontalSide.Left: default: b += a._horizontalOffset } switch (a._verticalSide) { case Sys.Extended.UI.VerticalSide.Middle: c = Math.max(0, Math.floor(c + f / 2 - d.offsetHeight / 2 - a._verticalOffset)); break; case Sys.Extended.UI.VerticalSide.Bottom: c = Math.max(0, c + f - d.offsetHeight - a._verticalOffset); break; case Sys.Extended.UI.VerticalSide.Top: default: c += a._verticalOffset } if (a._animate && a._animation) { a._animation.stop(); a._animation.set_horizontal(b); a._animation.set_vertical(c); a._animation.play() } else { d.style.left = b + "px"; d.style.top = c + "px" } a.raiseRepositioned(Sys.EventArgs.Empty) }, get_HorizontalOffset: function () { return this._horizontalOffset }, set_HorizontalOffset: function (b) { var a = this; if (a._horizontalOffset != b) { a._horizontalOffset = b; a._reposition(); a.raisePropertyChanged("HorizontalOffset") } }, get_HorizontalSide: function () { return this._horizontalSide }, set_HorizontalSide: function (b) { var a = this; if (a._horizontalSide != b) { a._horizontalSide = b; a._reposition(); a.raisePropertyChanged("HorizontalSide") } }, get_VerticalOffset: function () { return this._verticalOffset }, set_VerticalOffset: function (b) { var a = this; if (a._verticalOffset != b) { a._verticalOffset = b; a._reposition(); a.raisePropertyChanged("VerticalOffset") } }, get_VerticalSide: function () { return this._verticalSide }, set_VerticalSide: function (b) { var a = this; if (a._verticalSide != b) { a._verticalSide = b; a._reposition(); a.raisePropertyChanged("VerticalSide") } }, get_ScrollEffectDuration: function () { return this._scrollEffectDuration }, set_ScrollEffectDuration: function (b) { var a = this; if (a._scrollEffectDuration != b) { a._scrollEffectDuration = b; a._animation && a._animation.set_duration(b); a.raisePropertyChanged("ScrollEffectDuration") } }, get_useAnimation: function () { return this._animate }, set_useAnimation: function (a) { a |= Sys.Browser.agent == Sys.Browser.InternetExplorer && Sys.Browser.version < 7; if (this._animate != a) { this._animate = a; this.raisePropertyChanged("useAnimation") } }, add_repositioning: function (a) { this.get_events().addHandler(c, a) }, remove_repositioning: function (a) { this.get_events().removeHandler(c, a) }, raiseRepositioning: function (b) { var a = this.get_events().getHandler(c); a && a(this, b) }, add_repositioned: function (a) { this.get_events().addHandler(d, a) }, remove_repositioned: function (a) { this.get_events().removeHandler(d, a) }, raiseRepositioned: function (b) { var a = this.get_events().getHandler(d); a && a(this, b) } }; Sys.Extended.UI.AlwaysVisibleControlBehavior.registerClass("Sys.Extended.UI.AlwaysVisibleControlBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.AlwaysVisibleControlBehavior, { name: "alwaysVisible" }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedAnimations", "ExtendedBase"], a); else a() })();
//END AlwaysVisibleControl.AlwaysVisibleControlBehavior.js
//START PopupExtender.PopupBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedPopup"; function a() { var g = "hidden", f = "hiding", e = "shown", d = "showing", h = "absolute", b = false, c = true, a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.PopupBehavior = function (e) { var d = this; Sys.Extended.UI.PopupBehavior.initializeBase(d, [e]); d._x = 0; d._y = 0; d._positioningMode = Sys.Extended.UI.PositioningMode.Absolute; d._parentElement = a; d._parentElementID = a; d._moveHandler = a; d._firstPopup = c; d._originalParent = a; d._visible = b; d._onShow = a; d._onHide = a; d._onShowEndedHandler = Function.createDelegate(d, d._onShowEnded); d._onHideEndedHandler = Function.createDelegate(d, d._onHideEnded) }; Sys.Extended.UI.PopupBehavior.prototype = { initialize: function () { Sys.Extended.UI.PopupBehavior.callBaseMethod(this, "initialize"); this._hidePopup(); this.get_element().style.position = h }, dispose: function () { var b = this, c = b.get_element(); if (c) { b._visible && b.hide(); if (b._originalParent) { c.parentNode.removeChild(c); b._originalParent.appendChild(c); b._originalParent = a } c._hideWindowedElementsIFrame = a } b._parentElement = a; b._onShow && b._onShow.get_animation() && b._onShow.get_animation().remove_ended(b._onShowEndedHandler); b._onShow = a; b._onHide && b._onHide.get_animation() && b._onHide.get_animation().remove_ended(b._onHideEndedHandler); b._onHide = a; Sys.Extended.UI.PopupBehavior.callBaseMethod(b, "dispose") }, show: function () { var a = this; if (a._visible) return; var d = new Sys.CancelEventArgs; a.raiseShowing(d); if (d.get_cancel()) return; a._visible = c; var e = a.get_element(); $common.setVisible(e, c); a.setupPopup(); if (a._onShow) { $common.setVisible(e, b); a.onShow() } else a.raiseShown(Sys.EventArgs.Empty) }, hide: function () { var a = this; if (!a._visible) return; var c = new Sys.CancelEventArgs; a.raiseHiding(c); if (c.get_cancel()) return; a._visible = b; if (a._onHide) a.onHide(); else { a._hidePopup(); a._hideCleanup() } }, getBounds: function () { var e = this, d = e.get_element(), k = d.offsetParent || document.documentElement, h, a; if (e.get_parentElement()) { a = $common.getBounds(e.get_parentElement()); var j = $common.getLocation(k); h = { x: a.x - j.x, y: a.y - j.y } } else { a = $common.getBounds(k); h = { x: 0, y: 0 } } var f = d.offsetWidth - (d.clientLeft ? d.clientLeft * 2 : 0), g = d.offsetHeight - (d.clientTop ? d.clientTop * 2 : 0); if (e._firstpopup) { d.style.width = f + "px"; e._firstpopup = b } var i, c; switch (e._positioningMode) { case Sys.Extended.UI.PositioningMode.Center: c = { x: Math.round(a.width / 2 - f / 2), y: Math.round(a.height / 2 - g / 2), altX: Math.round(a.width / 2 - f / 2), altY: Math.round(a.height / 2 - g / 2) }; break; case Sys.Extended.UI.PositioningMode.BottomLeft: c = { x: 0, y: a.height, altX: a.width - f, altY: 0 - g }; break; case Sys.Extended.UI.PositioningMode.BottomRight: c = { x: a.width - f, y: a.height, altX: 0, altY: 0 - g }; break; case Sys.Extended.UI.PositioningMode.TopLeft: c = { x: 0, y: -d.offsetHeight, altX: a.width - f, altY: a.height }; break; case Sys.Extended.UI.PositioningMode.TopRight: c = { x: a.width - f, y: -d.offsetHeight, altX: 0, altY: a.height }; break; case Sys.Extended.UI.PositioningMode.Right: c = { x: a.width, y: 0, altX: -d.offsetWidth, altY: a.height - g }; break; case Sys.Extended.UI.PositioningMode.Left: c = { x: -d.offsetWidth, y: 0, altX: a.width, altY: a.height - g }; break; default: c = { x: 0, y: 0, altX: 0, altY: 0 } } c.x += e._x + h.x; c.altX += e._x + h.x; c.y += e._y + h.y; c.altY += e._y + h.y; i = e._verifyPosition(c, f, g, a); return new Sys.UI.Bounds(i.x, i.y, f, g) }, _verifyPosition: function (a, f, e) { var c = 0, d = 0, b = this._getWindowBounds(); if (!(a.x + f > b.x + b.width || a.x < b.x)) c = a.x; else { c = a.altX; if (a.altX < b.x) { if (a.x > a.altX) c = a.x } else if (b.width + b.x - a.altX < f) { var g = a.x > a.altX ? Math.abs(b.x - a.x) : b.x - a.x; if (g < f - b.width - b.x + a.altX) c = a.x } } if (!(a.y + e > b.y + b.height || a.y < b.y)) d = a.y; else { d = a.altY; if (a.altY < b.y) { if (b.y - a.altY > e - b.height - b.y + a.y) d = a.y } else if (b.height + b.y - a.altY < e) if (b.y - a.y < e - b.height - b.y + a.altY) d = a.y } return { x: c, y: d } }, _getWindowBounds: function () { var a = this; return { x: a._getWindowScrollLeft(), y: a._getWindowScrollTop(), width: a._getWindowWidth(), height: a._getWindowHeight() } }, _getWindowHeight: function () { var a = 0; if (document.documentElement && document.documentElement.clientHeight) a = document.documentElement.clientHeight; else if (document.body && document.body.clientHeight) a = document.body.clientHeight; return a }, _getWindowWidth: function () { var a = 0; if (document.documentElement && document.documentElement.clientWidth) a = document.documentElement.clientWidth; else if (document.body && document.body.clientWidth) a = document.body.clientWidth; return a }, _getWindowScrollTop: function () { var a = 0; if (typeof window.pageYOffset == "number") a = window.pageYOffset; if (document.body && document.body.scrollTop) a = document.body.scrollTop; else if (document.documentElement && document.documentElement.scrollTop) a = document.documentElement.scrollTop; return a }, _getWindowScrollLeft: function () { var a = 0; if (typeof window.pageXOffset == "number") a = window.pageXOffset; else if (document.body && document.body.scrollLeft) a = document.body.scrollLeft; else if (document.documentElement && document.documentElement.scrollLeft) a = document.documentElement.scrollLeft; return a }, adjustPopupPosition: function (a) { var f = this.get_element(); if (!a) a = this.getBounds(); var d = $common.getBounds(f), e = b; if (d.x < 0) { a.x -= d.x; e = c } if (d.y < 0) { a.y -= d.y; e = c } e && $common.setLocation(f, a) }, addBackgroundIFrame: function () { var c = this, b = c.get_element(); if (Sys.Browser.agent === Sys.Browser.InternetExplorer && Sys.Browser.version < 7) { var a = b._hideWindowedElementsIFrame; if (!a) { a = document.createElement("iframe"); a.src = "javascript:'<html></html>';"; a.style.position = h; a.style.display = "none"; a.scrolling = "no"; a.frameBorder = "0"; a.tabIndex = "-1"; a.style.filter = "progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"; b.parentNode.insertBefore(a, b); b._hideWindowedElementsIFrame = a; c._moveHandler = Function.createDelegate(c, c._onMove); Sys.UI.DomEvent.addHandler(b, "move", c._moveHandler) } $common.setBounds(a, $common.getBounds(b)); a.style.left = b.style.left; a.style.top = b.style.top; a.style.display = b.style.display; if (b.currentStyle && b.currentStyle.zIndex) a.style.zIndex = b.currentStyle.zIndex; else if (b.style.zIndex) a.style.zIndex = b.style.zIndex } }, setupPopup: function () { var a = this, b = a.get_element(), c = a.getBounds(); $common.setLocation(b, c); a.adjustPopupPosition(c); b.style.zIndex = 1e3; a.addBackgroundIFrame() }, _hidePopup: function () { var c = this.get_element(); $common.setVisible(c, b); if (c.originalWidth) { c.style.width = c.originalWidth + "px"; c.originalWidth = a } }, _hideCleanup: function () { var b = this, d = b.get_element(); if (b._moveHandler) { Sys.UI.DomEvent.removeHandler(d, "move", b._moveHandler); b._moveHandler = a } if (Sys.Browser.agent === Sys.Browser.InternetExplorer) { var c = d._hideWindowedElementsIFrame; if (c) c.style.display = "none" } b.raiseHidden(Sys.EventArgs.Empty) }, _onMove: function () { var a = this.get_element(); if (a._hideWindowedElementsIFrame) { a.parentNode.insertBefore(a._hideWindowedElementsIFrame, a); a._hideWindowedElementsIFrame.style.top = a.style.top; a._hideWindowedElementsIFrame.style.left = a.style.left } }, get_onShow: function () { return this._onShow ? this._onShow.get_json() : a }, set_onShow: function (c) { var a = this; if (!a._onShow) { a._onShow = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onShow.initialize() } a._onShow.set_json(c); var b = a._onShow.get_animation(); b && b.add_ended(a._onShowEndedHandler); a.raisePropertyChanged("onShow") }, get_onShowBehavior: function () { return this._onShow }, onShow: function () { var a = this; if (a._onShow) { a._onHide && a._onHide.quit(); a._onShow.play() } }, _onShowEnded: function () { this.adjustPopupPosition(); this.addBackgroundIFrame(); this.raiseShown(Sys.EventArgs.Empty) }, get_onHide: function () { return this._onHide ? this._onHide.get_json() : a }, set_onHide: function (c) { var a = this; if (!a._onHide) { a._onHide = new Sys.Extended.UI.Animation.GenericAnimationBehavior(a.get_element()); a._onHide.initialize() } a._onHide.set_json(c); var b = a._onHide.get_animation(); b && b.add_ended(a._onHideEndedHandler); a.raisePropertyChanged("onHide") }, get_onHideBehavior: function () { return this._onHide }, onHide: function () { var a = this; if (a._onHide) { a._onShow && a._onShow.quit(); a._onHide.play() } }, _onHideEnded: function () { this._hideCleanup() }, get_parentElement: function () { var a = this; !a._parentElement && a._parentElementID && a.set_parentElement($get(a._parentElementID)); return a._parentElement }, set_parentElement: function (a) { this._parentElement = a; this.raisePropertyChanged("parentElement") }, get_parentElementID: function () { return this._parentElement ? this._parentElement.id : this._parentElementID }, set_parentElementID: function (a) { this._parentElementID = a; this.get_isInitialized() && this.set_parentElement($get(a)) }, get_positioningMode: function () { return this._positioningMode }, set_positioningMode: function (a) { this._positioningMode = a; this.raisePropertyChanged("positioningMode") }, get_x: function () { return this._x }, set_x: function (b) { var a = this; if (b != a._x) { a._x = b; a._visible && a.setupPopup(); a.raisePropertyChanged("x") } }, get_y: function () { return this._y }, set_y: function (b) { var a = this; if (b != a._y) { a._y = b; a._visible && a.setupPopup(); a.raisePropertyChanged("y") } }, get_visible: function () { return this._visible }, add_showing: function (a) { this.get_events().addHandler(d, a) }, remove_showing: function (a) { this.get_events().removeHandler(d, a) }, raiseShowing: function (b) { var a = this.get_events().getHandler(d); a && a(this, b) }, add_shown: function (a) { this.get_events().addHandler(e, a) }, remove_shown: function (a) { this.get_events().removeHandler(e, a) }, raiseShown: function (b) { var a = this.get_events().getHandler(e); a && a(this, b) }, add_hiding: function (a) { this.get_events().addHandler(f, a) }, remove_hiding: function (a) { this.get_events().removeHandler(f, a) }, raiseHiding: function (b) { var a = this.get_events().getHandler(f); a && a(this, b) }, add_hidden: function (a) { this.get_events().addHandler(g, a) }, remove_hidden: function (a) { this.get_events().removeHandler(g, a) }, raiseHidden: function (b) { var a = this.get_events().getHandler(g); a && a(this, b) } }; Sys.Extended.UI.PopupBehavior.registerClass("Sys.Extended.UI.PopupBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.PopupBehavior, { name: "popup" }); Sys.Extended.UI.PositioningMode = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.PositioningMode.prototype = { Absolute: 0, Center: 1, BottomLeft: 2, BottomRight: 3, TopLeft: 4, TopRight: 5, Right: 6, Left: 7 }; Sys.Extended.UI.PositioningMode.registerEnum("Sys.Extended.UI.PositioningMode") } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedAnimations", "ExtendedAnimationBehavior"], a); else a() })();
//END PopupExtender.PopupBehavior.js
//START PopupControl.PopupControlBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedPopupBehavior"; function a() { var b = "click", c = false, a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.PopupControlBehavior = function (d) { var b = this; Sys.Extended.UI.PopupControlBehavior.initializeBase(b, [d]); b._popupControlID = a; b._commitProperty = a; b._commitScript = a; b._position = a; b._offsetX = 0; b._offsetY = 0; b._extenderControlID = a; b._popupElement = a; b._popupBehavior = a; b._popupVisible = c; b._focusHandler = a; b._popupKeyDownHandler = a; b._popupClickHandler = a; b._bodyClickHandler = a; b._onShowJson = a; b._onHideJson = a }; Sys.Extended.UI.PopupControlBehavior.prototype = { initialize: function () { var c = this; Sys.Extended.UI.PopupControlBehavior.callBaseMethod(c, "initialize"); var d = c.get_element(); c._popupElement = $get(c._popupControlID); c._popupBehavior = $create(Sys.Extended.UI.PopupBehavior, { id: c.get_id() + "PopupBehavior", parentElement: d }, a, a, c._popupElement); c._onShowJson && c._popupBehavior.set_onShow(c._onShowJson); c._onHideJson && c._popupBehavior.set_onHide(c._onHideJson); c._focusHandler = Function.createDelegate(c, c._onFocus); c._popupClickHandler = Function.createDelegate(c, c._onPopupClick); c._bodyClickHandler = Function.createDelegate(c, c._onBodyClick); c._popupKeyDownHandler = Function.createDelegate(c, c._onPopupKeyDown); $addHandler(d, "focus", c._focusHandler); $addHandler(d, b, c._focusHandler); $addHandler(document.body, b, c._bodyClickHandler); $addHandler(c._popupElement, b, c._popupClickHandler); $addHandler(c._popupElement, "keydown", c._popupKeyDownHandler); c.registerPartialUpdateEvents(); Sys.Extended.UI.PopupControlBehavior.__VisiblePopup && c.get_id() == Sys.Extended.UI.PopupControlBehavior.__VisiblePopup.get_id() && c._onFocus(a) }, dispose: function () { var c = this, d = c.get_element(); c._onShowJson = a; c._onHideJson = a; if (c._popupBehavior) { c._popupBehavior.dispose(); c._popupBehavior = a } if (c._focusHandler) { $removeHandler(d, "focus", c._focusHandler); $removeHandler(d, b, c._focusHandler); c._focusHandler = a } if (c._bodyClickHandler) { $removeHandler(document.body, b, c._bodyClickHandler); c._bodyClickHandler = a } if (c._popupClickHandler) { $removeHandler(c._popupElement, b, c._popupClickHandler); c._popupClickHandler = a } if (c._popupKeyDownHandler) { $removeHandler(c._popupElement, "keydown", c._popupKeyDownHandler); c._popupKeyDownHandler = a } Sys.Extended.UI.PopupControlBehavior.callBaseMethod(c, "dispose") }, showPopup: function () { var a = this, b = Sys.Extended.UI.PopupControlBehavior.__VisiblePopup; b && b._popupBehavior && b.hidePopup(); Sys.Extended.UI.PopupControlBehavior.callBaseMethod(a, "populate"); a._popupBehavior.set_x(a._getLeftOffset()); a._popupBehavior.set_y(a._getTopOffset()); a._popupBehavior.show(); a._popupVisible = true; Sys.Extended.UI.PopupControlBehavior.__VisiblePopup = a }, hidePopup: function () { this._popupBehavior.hide(); this._popupVisible = c; Sys.Extended.UI.PopupControlBehavior.__VisiblePopup = a }, _onFocus: function (a) { !this._popupVisible && this.showPopup(); a && a.stopPropagation() }, _onPopupKeyDown: function (a) { this._popupVisible && a.keyCode == 27 && this.get_element().focus() }, _onPopupClick: function (a) { a.stopPropagation() }, _onBodyClick: function () { this._popupVisible && this.hidePopup() }, _close: function (e) { var b = this, d = b.get_element(); if (a != e) { if ("$$CANCEL$$" != e) { if (b._commitProperty) d[b._commitProperty] = e; else if ("text" == d.type) d.value = e; else Sys.Debug.assert(c, String.format(Sys.Extended.UI.Resources.PopupControl_NoDefaultProperty, d.id, d.type)); if (b._commitScript) eval(b._commitScript) } b.hidePopup() } }, _partialUpdateEndRequest: function (d, c) { var a = this; Sys.Extended.UI.PopupControlBehavior.callBaseMethod(a, "_partialUpdateEndRequest", [d, c]); if (a.get_element()) { var b = c.get_dataItems()[a.get_element().id]; if (undefined === b && Sys.Extended.UI.PopupControlBehavior.__VisiblePopup && a.get_id() == Sys.Extended.UI.PopupControlBehavior.__VisiblePopup.get_id()) b = c.get_dataItems()._PopupControl_Proxy_ID_; undefined !== b && a._close(b) } }, _onPopulated: function (b, a) { Sys.Extended.UI.PopupControlBehavior.callBaseMethod(this, "_onPopulated", [b, a]); this._popupVisible && this._popupBehavior.show() }, _getLeftOffset: function () { var a = this; return Sys.Extended.UI.PopupControlPopupPosition.Left == a._position ? -1 * a.get_element().offsetWidth + a._offsetX : Sys.Extended.UI.PopupControlPopupPosition.Right == a._position ? a.get_element().offsetWidth + a._offsetX : a._offsetX }, _getTopOffset: function () { var a = this, b; if (Sys.Extended.UI.PopupControlPopupPosition.Top == a._position) b = -1 * a.get_element().offsetHeight + a._offsetY; else if (Sys.Extended.UI.PopupControlPopupPosition.Bottom == a._position) b = a.get_element().offsetHeight + a._offsetY; else b = a._offsetY; return b }, get_onShow: function () { return this._popupBehavior ? this._popupBehavior.get_onShow() : this._onShowJson }, set_onShow: function (b) { var a = this; if (a._popupBehavior) a._popupBehavior.set_onShow(b); else a._onShowJson = b; a.raisePropertyChanged("onShow") }, get_onShowBehavior: function () { return this._popupBehavior ? this._popupBehavior.get_onShowBehavior() : a }, onShow: function () { this._popupBehavior && this._popupBehavior.onShow() }, get_onHide: function () { return this._popupBehavior ? this._popupBehavior.get_onHide() : this._onHideJson }, set_onHide: function (b) { var a = this; if (a._popupBehavior) a._popupBehavior.set_onHide(b); else a._onHideJson = b; a.raisePropertyChanged("onHide") }, get_onHideBehavior: function () { return this._popupBehavior ? this._popupBehavior.get_onHideBehavior() : a }, onHide: function () { this._popupBehavior && this._popupBehavior.onHide() }, get_PopupControlID: function () { return this._popupControlID }, set_PopupControlID: function (a) { if (this._popupControlID != a) { this._popupControlID = a; this.raisePropertyChanged("PopupControlID") } }, get_CommitProperty: function () { return this._commitProperty }, set_CommitProperty: function (a) { if (this._commitProperty != a) { this._commitProperty = a; this.raisePropertyChanged("CommitProperty") } }, get_CommitScript: function () { return this._commitScript }, set_CommitScript: function (a) { if (this._commitScript != a) { this._commitScript = a; this.raisePropertyChanged("CommitScript") } }, get_Position: function () { return this._position }, set_Position: function (a) { if (this._position != a) { this._position = a; this.raisePropertyChanged("Position") } }, get_ExtenderControlID: function () { return this._extenderControlID }, set_ExtenderControlID: function (a) { if (this._extenderControlID != a) { this._extenderControlID = a; this.raisePropertyChanged("ExtenderControlID") } }, get_OffsetX: function () { return this._offsetX }, set_OffsetX: function (a) { if (this._offsetX != a) { this._offsetX = a; this.raisePropertyChanged("OffsetX") } }, get_OffsetY: function () { return this._offsetY }, set_OffsetY: function (a) { if (this._offsetY != a) { this._offsetY = a; this.raisePropertyChanged("OffsetY") } }, get_PopupVisible: function () { return this._popupVisible }, add_showing: function (a) { this._popupBehavior && this._popupBehavior.add_showing(a) }, remove_showing: function (a) { this._popupBehavior && this._popupBehavior.remove_showing(a) }, raiseShowing: function (a) { this._popupBehavior && this._popupBehavior.raiseShowing(a) }, add_shown: function (a) { this._popupBehavior && this._popupBehavior.add_shown(a) }, remove_shown: function (a) { this._popupBehavior && this._popupBehavior.remove_shown(a) }, raiseShown: function (a) { this._popupBehavior && this._popupBehavior.raiseShown(a) }, add_hiding: function (a) { this._popupBehavior && this._popupBehavior.add_hiding(a) }, remove_hiding: function (a) { this._popupBehavior && this._popupBehavior.remove_hiding(a) }, raiseHiding: function (a) { this._popupBehavior && this._popupBehavior.raiseHiding(a) }, add_hidden: function (a) { this._popupBehavior && this._popupBehavior.add_hidden(a) }, remove_hidden: function (a) { this._popupBehavior && this._popupBehavior.remove_hidden(a) }, raiseHidden: function (a) { this._popupBehavior && this._popupBehavior.raiseHidden(a) } }; Sys.Extended.UI.PopupControlBehavior.registerClass("Sys.Extended.UI.PopupControlBehavior", Sys.Extended.UI.DynamicPopulateBehaviorBase); Sys.registerComponent(Sys.Extended.UI.PopupControlBehavior, { name: "popupBehavior" }); Sys.Extended.UI.PopupControlBehavior.__VisiblePopup = a; Sys.Extended.UI.PopupControlPopupPosition = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.PopupControlPopupPosition.prototype = { Center: 0, Top: 1, Left: 2, Bottom: 3, Right: 4 }; Sys.Extended.UI.PopupControlPopupPosition.registerEnum("Sys.Extended.UI.PopupControlPopupPosition", c) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedDynamicPopulate", "ExtendedPopup", "ExtendedAnimationBehavior"], a); else a() })();
//END PopupControl.PopupControlBehavior.js
//START Common.DateTime.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedDateTime"; function a() { Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.TimeSpan = function () { var a = this; if (arguments.length == 0) a._ctor$0.apply(a, arguments); else if (arguments.length == 1) a._ctor$1.apply(a, arguments); else if (arguments.length == 3) a._ctor$2.apply(a, arguments); else if (arguments.length == 4) a._ctor$3.apply(a, arguments); else if (arguments.length == 5) a._ctor$4.apply(a, arguments); else throw Error.parameterCount(); }; Sys.Extended.UI.TimeSpan.prototype = { _ctor$0: function () { this._ticks = 0 }, _ctor$1: function (a) { this._ctor$0(); this._ticks = a }, _ctor$2: function (c, a, b) { this._ctor$0(); this._ticks = c * Sys.Extended.UI.TimeSpan.TicksPerHour + a * Sys.Extended.UI.TimeSpan.TicksPerMinute + b * Sys.Extended.UI.TimeSpan.TicksPerSecond }, _ctor$3: function (d, c, a, b) { this._ctor$0(); this._ticks = d * Sys.Extended.UI.TimeSpan.TicksPerDay + c * Sys.Extended.UI.TimeSpan.TicksPerHour + a * Sys.Extended.UI.TimeSpan.TicksPerMinute + b * Sys.Extended.UI.TimeSpan.TicksPerSecond }, _ctor$4: function (e, d, b, c, a) { this._ctor$0(); this._ticks = e * Sys.Extended.UI.TimeSpan.TicksPerDay + d * Sys.Extended.UI.TimeSpan.TicksPerHour + b * Sys.Extended.UI.TimeSpan.TicksPerMinute + c * Sys.Extended.UI.TimeSpan.TicksPerSecond + a * Sys.Extended.UI.TimeSpan.TicksPerMillisecond }, getDays: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerDay) }, getHours: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerHour) % 24 }, getMinutes: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerMinute) % 60 }, getSeconds: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerSecond) % 60 }, getMilliseconds: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerMillisecond) % 1e3 }, getDuration: function () { return new Sys.Extended.UI.TimeSpan(Math.abs(this._ticks)) }, getTicks: function () { return this._ticks }, getTotalDays: function () { Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerDay) }, getTotalHours: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerHour) }, getTotalMinutes: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerMinute) }, getTotalSeconds: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerSecond) }, getTotalMilliseconds: function () { return Math.floor(this._ticks / Sys.Extended.UI.TimeSpan.TicksPerMillisecond) }, add: function (a) { return new Sys.Extended.UI.TimeSpan(this._ticks + a.getTicks()) }, subtract: function (a) { return new Sys.Extended.UI.TimeSpan(this._ticks - a.getTicks()) }, negate: function () { return new Sys.Extended.UI.TimeSpan(-this._ticks) }, equals: function (a) { return this._ticks == a.getTicks() }, compareTo: function (a) { return this._ticks > a.getTicks() ? 1 : this._ticks < a.getTicks() ? -1 : 0 }, toString: function () { return this.format("F") }, format: function (a) { if (!a) a = "F"; if (a.length == 1) switch (a) { case "t": a = Sys.Extended.UI.TimeSpan.ShortTimeSpanPattern; break; case "T": a = Sys.Extended.UI.TimeSpan.LongTimeSpanPattern; break; case "F": a = Sys.Extended.UI.TimeSpan.FullTimeSpanPattern; break; default: throw Error.createError(String.format(Sys.Extended.UI.Resources.Common_DateTime_InvalidTimeSpan, a)); } var e = /dd|d|hh|h|mm|m|ss|s|nnnn|nnn|nn|n/g, c = new Sys.StringBuilder, d = this._ticks; if (d < 0) { c.append("-"); d = -d } for (; true;) { var f = e.lastIndex, b = e.exec(a); c.append(a.slice(f, b ? b.index : a.length)); if (!b) break; switch (b[0]) { case "dd": case "d": c.append($common.padLeft(Math.floor(d / Sys.Extended.UI.TimeSpan.TicksPerDay, b[0].length, "0"))); break; case "hh": case "h": c.append($common.padLeft(Math.floor(d / Sys.Extended.UI.TimeSpan.TicksPerHour) % 24, b[0].length, "0")); break; case "mm": case "m": c.append($common.padLeft(Math.floor(d / Sys.Extended.UI.TimeSpan.TicksPerMinute) % 60, b[0].length, "0")); break; case "ss": case "s": c.append($common.padLeft(Math.floor(d / Sys.Extended.UI.TimeSpan.TicksPerSecond) % 60, b[0].length, "0")); break; case "nnnn": case "nnn": case "nn": case "n": c.append($common.padRight(Math.floor(d / Sys.Extended.UI.TimeSpan.TicksPerMillisecond) % 1e3, b[0].length, "0", true)); break; default: Sys.Debug.assert(false) } } return c.toString() } }; Sys.Extended.UI.TimeSpan.parse = function (j) { var a = ".", b = j.split(":"), i = 0, f = 0, g = 0, d = 0, h = 0, e = 0; switch (b.length) { case 1: if (b[0].indexOf(a) != -1) { var c = b[0].split(a); d = parseInt(c[0]); h = parseInt(c[1]) } else e = parseInt(b[0]); break; case 2: f = parseInt(b[0]); g = parseInt(b[1]); break; case 3: f = parseInt(b[0]); g = parseInt(b[1]); if (b[2].indexOf(a) != -1) { var c = b[2].split(a); d = parseInt(c[0]); h = parseInt(c[1]) } else d = parseInt(b[2]); break; case 4: i = parseInt(b[0]); f = parseInt(b[1]); g = parseInt(b[2]); if (b[3].indexOf(a) != -1) { var c = b[3].split(a); d = parseInt(c[0]); h = parseInt(c[1]) } else d = parseInt(b[3]) } e += i * Sys.Extended.UI.TimeSpan.TicksPerDay + f * Sys.Extended.UI.TimeSpan.TicksPerHour + g * Sys.Extended.UI.TimeSpan.TicksPerMinute + d * Sys.Extended.UI.TimeSpan.TicksPerSecond + h * Sys.Extended.UI.TimeSpan.TicksPerMillisecond; if (!isNaN(e)) return new Sys.Extended.UI.TimeSpan(e); throw Error.create(Sys.Extended.UI.Resources.Common_DateTime_InvalidFormat); }; Sys.Extended.UI.TimeSpan.fromTicks = function (a) { return new Sys.Extended.UI.TimeSpan(a) }; Sys.Extended.UI.TimeSpan.fromDays = function (a) { return new Sys.Extended.UI.TimeSpan(a * Sys.Extended.UI.TimeSpan.TicksPerDay) }; Sys.Extended.UI.TimeSpan.fromHours = function (a) { return new Sys.Extended.UI.TimeSpan(a * Sys.Extended.UI.TimeSpan.TicksPerHour) }; Sys.Extended.UI.TimeSpan.fromMinutes = function (a) { return new Sys.Extended.UI.TimeSpan(a * Sys.Extended.UI.TimeSpan.TicksPerMinute) }; Sys.Extended.UI.TimeSpan.fromSeconds = function () { return new Sys.Extended.UI.TimeSpan(minutes * Sys.Extended.UI.TimeSpan.TicksPerSecond) }; Sys.Extended.UI.TimeSpan.fromMilliseconds = function () { return new Sys.Extended.UI.TimeSpan(minutes * Sys.Extended.UI.TimeSpan.TicksPerMillisecond) }; Sys.Extended.UI.TimeSpan.TicksPerDay = 8.64e11; Sys.Extended.UI.TimeSpan.TicksPerHour = 3.6e10; Sys.Extended.UI.TimeSpan.TicksPerMinute = 6e8; Sys.Extended.UI.TimeSpan.TicksPerSecond = 1e7; Sys.Extended.UI.TimeSpan.TicksPerMillisecond = 1e4; Sys.Extended.UI.TimeSpan.FullTimeSpanPattern = "dd:hh:mm:ss.nnnn"; Sys.Extended.UI.TimeSpan.ShortTimeSpanPattern = "hh:mm"; Sys.Extended.UI.TimeSpan.LongTimeSpanPattern = "hh:mm:ss"; Date.prototype.getTimeOfDay = function () { var a = this; return new Sys.Extended.UI.TimeSpan(0, a.getHours(), a.getMinutes(), a.getSeconds(), a.getMilliseconds()) }; Date.prototype.getDateOnly = function () { var a = this, b = new Date(a.getFullYear(), a.getMonth(), a.getDate()); !(a.getMonth() === b.getMonth() && a.getDate() === b.getDate()) && b.setMinutes(120); return b }; Date.prototype.add = function (a) { return new Date(this.getTime() + a.getTotalMilliseconds()) }; Date.prototype.subtract = function (a) { return this.add(a.negate()) }; Date.prototype.getTicks = function () { return this.getTime() * Sys.Extended.UI.TimeSpan.TicksPerMillisecond }; Sys.Extended.UI.FirstDayOfWeek = function () { }; Sys.Extended.UI.FirstDayOfWeek.prototype = { Sunday: 0, Monday: 1, Tuesday: 2, Wednesday: 3, Thursday: 4, Friday: 5, Saturday: 6, Default: 7 }; Sys.Extended.UI.FirstDayOfWeek.registerEnum("Sys.Extended.UI.FirstDayOfWeek") } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedCommon"], a); else a() })();
//END Common.DateTime.js
//START Common.Threading.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedThreading"; function a() { var c = false, a = null, b = true, d = Sys.version; if (!d && !Sys._versionChecked) { Sys._versionChecked = b; throw new Error("AjaxControlToolkit requires ASP.NET Ajax 4.0 scripts. Ensure the correct version of the scripts are referenced. If you are using an ASP.NET ScriptManager, switch to the ToolkitScriptManager in AjaxControlToolkit.dll."); } Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.DeferredOperation = function (g, f, e) { var d = this; d._delay = g; d._context = f; d._callback = e; d._completeCallback = a; d._errorCallback = a; d._timer = a; d._callArgs = a; d._isComplete = c; d._completedSynchronously = c; d._asyncResult = a; d._exception = a; d._throwExceptions = b; d._oncomplete$delegate = Function.createDelegate(d, d._oncomplete); d.post = Function.createDelegate(d, d.post) }; Sys.Extended.UI.DeferredOperation.prototype = { get_isPending: function () { return this._timer != a }, get_isComplete: function () { return this._isComplete }, get_completedSynchronously: function () { return this._completedSynchronously }, get_exception: function () { return this._exception }, get_throwExceptions: function () { return this._throwExceptions }, set_throwExceptions: function (a) { this._throwExceptions = a }, get_delay: function () { return this._delay }, set_delay: function (a) { this._delay = a }, post: function () { for (var c = [], b = 0; b < arguments.length; b++) c[b] = arguments[b]; this.beginPost(c, a, a) }, beginPost: function (e, c, d) { var a = this; a.cancel(); a._callArgs = Array.clone(e || []); a._completeCallback = c; a._errorCallback = d; if (a._delay == -1) try { a._oncomplete() } finally { a._completedSynchronously = b } else a._timer = setTimeout(a._oncomplete$delegate, a._delay) }, cancel: function () { var b = this; if (b._timer) { clearTimeout(b._timer); b._timer = a } b._callArgs = a; b._isComplete = c; b._asyncResult = a; b._completeCallback = a; b._errorCallback = a; b._exception = a; b._completedSynchronously = c }, call: function () { var c = this; for (var e = [], d = 0; d < arguments.length; d++) e[d] = arguments[d]; c.cancel(); c._callArgs = e; c._completeCallback = a; c._errorCallback = a; try { c._oncomplete() } finally { c._completedSynchronously = b } if (c._exception) throw c._exception; return c._asyncResult }, complete: function () { var a = this; if (a._timer) { try { a._oncomplete() } finally { a._completedSynchronously = b } return a._asyncResult } else if (a._isComplete) return a._asyncResult }, _oncomplete: function () { var a = this, f = a._callArgs, d = a._completeCallback, e = a._errorCallback; a.cancel(); try { if (f) a._asyncResult = a._callback.apply(a._context, f); else a._asyncResult = a._callback.call(a._context); a._isComplete = b; a._completedSynchronously = c; d && d(a) } catch (g) { a._isComplete = b; a._completedSynchronously = c; a._exception = g; if (e) if (e(a)) return; if (a._throwExceptions) throw g; } } }; Sys.Extended.UI.DeferredOperation.registerClass("Sys.Extended.UI.DeferredOperation") } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["Core"], a); else a() })();
//END Common.Threading.js
//START Calendar.CalendarBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedCalendar"; function a() { var p = "ajax__calendar_hover", e = "ajax__calendar_invalid", g = "ajax__calendar_active", f = "ajax__calendar_other", j = "y", l = "M", y = "tbody", o = "td", n = "tr", x = "auto", w = "table", v = "ajax__calendar_today", d = "div", m = "years", i = "months", u = "dateSelectionChanged", t = "hidden", s = "hiding", r = "shown", q = "showing", k = "days", b = false, a = null, c = true, h = "d"; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.CalendarBehavior = function (e) { var d = this; Sys.Extended.UI.CalendarBehavior.initializeBase(d, [e]); d._textbox = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e); d._format = h; d._todaysDateFormat = "MMMM d, yyyy"; d._daysModeTitleFormat = "MMMM, yyyy"; d._cssClass = "ajax__calendar"; d._enabled = c; d._animated = c; d._buttonID = a; d._layoutRequested = 0; d._layoutSuspended = b; d._button = a; d._popupMouseDown = b; d._selectedDate = a; d._startDate = a; d._endDate = a; d._visibleDate = a; d._todaysDate = a; d._firstDayOfWeek = Sys.Extended.UI.FirstDayOfWeek.Default; d._firstPopUp = c; d._container = a; d._popupDiv = a; d._header = a; d._prevArrow = a; d._nextArrow = a; d._title = a; d._body = a; d._today = a; d._days = a; d._daysTable = a; d._daysTableHeader = a; d._daysTableHeaderRow = a; d._daysBody = a; d._months = a; d._monthsTable = a; d._monthsBody = a; d._years = a; d._yearsTable = a; d._yearsBody = a; d._popupPosition = Sys.Extended.UI.CalendarPosition.BottomLeft; d._defaultView = Sys.Extended.UI.CalendarDefaultView.Days; d._popupBehavior = a; d._modeChangeAnimation = a; d._modeChangeMoveTopOrLeftAnimation = a; d._modeChangeMoveBottomOrRightAnimation = a; d._mode = k; d._selectedDateChanging = b; d._isOpen = b; d._isAnimating = b; d._clearTime = b; d._width = 170; d._height = 139; d._modes = { days: a, months: a, years: a }; d._modeOrder = { days: 0, months: 1, years: 2 }; d._blur = new Sys.Extended.UI.DeferredOperation(1, d, d.blur); d._button$delegates = { click: Function.createDelegate(d, d._button_onclick), keypress: Function.createDelegate(d, d._button_onkeypress), blur: Function.createDelegate(d, d._button_onblur) }; d._element$delegates = { change: Function.createDelegate(d, d._element_onchange), keypress: Function.createDelegate(d, d._element_onkeypress), click: Function.createDelegate(d, d._element_onclick), focus: Function.createDelegate(d, d._element_onfocus), blur: Function.createDelegate(d, d._element_onblur) }; d._popup$delegates = { mousedown: Function.createDelegate(d, d._popup_onmousedown), mouseup: Function.createDelegate(d, d._popup_onmouseup), drag: Function.createDelegate(d, d._popup_onevent), dragstart: Function.createDelegate(d, d._popup_onevent) }; d._cell$delegates = { mouseover: Function.createDelegate(d, d._cell_onmouseover), mouseout: Function.createDelegate(d, d._cell_onmouseout), click: Function.createDelegate(d, d._cell_onclick) } }; Sys.Extended.UI.CalendarBehavior.prototype = { get_clearTime: function () { return this._clearTime }, set_clearTime: function (a) { if (this._clearTime != a) { this._clearTime = a; this.raisePropertyChanged("_clearTime") } }, get_animated: function () { return this._animated }, set_animated: function (a) { if (this._animated != a) { this._animated = a; this.raisePropertyChanged("animated") } }, get_enabled: function () { return this._enabled }, set_enabled: function (a) { if (this._enabled != a) { this._enabled = a; this.raisePropertyChanged("enabled") } }, get_button: function () { return this._button }, set_button: function (b) { var a = this; if (a._button != b) { a._button && a.get_isInitialized() && $common.removeHandlers(a._button, a._button$delegates); a._button = b; a._button && a.get_isInitialized() && $addHandlers(a._button, a._button$delegates); a.raisePropertyChanged("button") } }, get_popupPosition: function () { return this._popupPosition }, set_popupPosition: function (a) { if (this._popupPosition != a) { this._popupPosition = a; this.raisePropertyChanged("popupPosition") } }, set_startDate: function (a) { if (this._startDate != a) { this._startDate = new Date(a); this.raisePropertyChanged("startDate") } }, get_startDate: function () { return this._startDate }, set_endDate: function (a) { if (this._endDate != a) { this._endDate = new Date(a); this.raisePropertyChanged("_endDate") } }, get_endDate: function () { return this._endDate }, get_format: function () { return this._format }, set_format: function (a) { if (this._format != a) { this._format = a; this.raisePropertyChanged("format") } }, get_todaysDateFormat: function () { return this._todaysDateFormat }, set_todaysDateFormat: function (a) { if (this._todaysDateFormat != a) { this._todaysDateFormat = a; this.raisePropertyChanged("todaysDateFormat") } }, get_daysModeTitleFormat: function () { return this._daysModeTitleFormat }, set_daysModeTitleFormat: function (a) { if (this._daysModeTitleFormat != a) { this._daysModeTitleFormat = a; this.raisePropertyChanged("daysModeTitleFormat") } }, get_selectedDate: function () { var b = this; if (b._selectedDate == a) { var c = b._textbox.get_Value(); if (c) { c = b._parseTextValue(c); if (c) b._selectedDate = c } } return b._selectedDate }, set_selectedDate: function (d) { var a = this; if (d && String.isInstanceOfType(d) && d.length != 0) d = new Date(d); if (a._selectedDate != d) { a._selectedDate = d; a._selectedDateChanging = c; var f = ""; if (d) { f = a._convertToLocal(d).localeFormat(a._format); if (!a._clearTime) { var e = a._textbox.get_Value(); if (e) e = a._parseTextValue(e); if (e) if (d != e.getDateOnly()) { d.setUTCHours(e.getUTCHours()); d.setUTCMinutes(e.getUTCMinutes()); d.setUTCMilliseconds(e.getUTCMilliseconds()); f = a._convertToLocal(d).localeFormat(a._format) } } } if (f != a._textbox.get_Value()) { a._textbox.set_Value(f); a._fireChanged() } a._selectedDateChanging = b; a.invalidate(); a.raisePropertyChanged("selectedDate") } }, get_defaultView: function () { return this._defaultView }, set_defaultView: function (a) { if (this._defaultView != a) { this._defaultView = a; this.raisePropertyChanged("defaultView") } }, get_visibleDate: function () { return this._visibleDate }, set_visibleDate: function (a) { var b = this; if (a && String.isInstanceOfType(a) && a.length != 0) a = new Date(a); if (b._visibleDate != a) { b._switchMonth(a, !b._isOpen); b.raisePropertyChanged("visibleDate") } }, get_isOpen: function () { return this._isOpen }, get_todaysDate: function () { return this._todaysDate != a ? this._todaysDate : new Date }, set_todaysDate: function (b) { var a = this; if (a._todaysDate != b) { a._todaysDate = b; a.invalidate(); a.raisePropertyChanged("todaysDate") } }, get_firstDayOfWeek: function () { return this._firstDayOfWeek }, set_firstDayOfWeek: function (b) { var a = this; if (a._firstDayOfWeek != b) { a._firstDayOfWeek = b; a.invalidate(); a.raisePropertyChanged("firstDayOfWeek") } }, get_cssClass: function () { return this._cssClass }, set_cssClass: function (b) { var a = this; if (a._cssClass != b) { a._cssClass && a.get_isInitialized() && Sys.UI.DomElement.removeCssClass(a._container, a._cssClass); a._cssClass = b; a._cssClass && a.get_isInitialized() && Sys.UI.DomElement.addCssClass(a._container, a._cssClass); a.raisePropertyChanged("cssClass") } }, get_todayButton: function () { return this._today }, get_dayCell: function (c, b) { return this._daysBody ? this._daysBody.rows[c].cells[b].firstChild : a }, add_showing: function (a) { this.get_events().addHandler(q, a) }, remove_showing: function (a) { this.get_events().removeHandler(q, a) }, raiseShowing: function (b) { var a = this.get_events().getHandler(q); a && a(this, b) }, add_shown: function (a) { this.get_events().addHandler(r, a) }, remove_shown: function (a) { this.get_events().removeHandler(r, a) }, raiseShown: function () { var a = this.get_events().getHandler(r); a && a(this, Sys.EventArgs.Empty) }, add_hiding: function (a) { this.get_events().addHandler(s, a) }, remove_hiding: function (a) { this.get_events().removeHandler(s, a) }, raiseHiding: function (b) { var a = this.get_events().getHandler(s); a && a(this, b) }, add_hidden: function (a) { this.get_events().addHandler(t, a) }, remove_hidden: function (a) { this.get_events().removeHandler(t, a) }, raiseHidden: function () { var a = this.get_events().getHandler(t); a && a(this, Sys.EventArgs.Empty) }, add_dateSelectionChanged: function (a) { this.get_events().addHandler(u, a) }, remove_dateSelectionChanged: function (a) { this.get_events().removeHandler(u, a) }, raiseDateSelectionChanged: function () { var a = this.get_events().getHandler(u); a && a(this, Sys.EventArgs.Empty) }, initialize: function () { var b = this; Sys.Extended.UI.CalendarBehavior.callBaseMethod(b, "initialize"); var d = b.get_element(); $addHandlers(d, b._element$delegates); b._button && $addHandlers(b._button, b._button$delegates); b._modeChangeMoveTopOrLeftAnimation = new Sys.Extended.UI.Animation.LengthAnimation(a, a, a, "style", a, 0, 0, "px"); b._modeChangeMoveBottomOrRightAnimation = new Sys.Extended.UI.Animation.LengthAnimation(a, a, a, "style", a, 0, 0, "px"); b._modeChangeAnimation = new Sys.Extended.UI.Animation.ParallelAnimation(a, .25, a, [b._modeChangeMoveTopOrLeftAnimation, b._modeChangeMoveBottomOrRightAnimation]); var c = b.get_selectedDate(); c && b.set_selectedDate(c) }, dispose: function () { var b = this; if (b._popupBehavior) { b._popupBehavior.dispose(); b._popupBehavior = a } b._modes = a; b._modeOrder = a; if (b._modeChangeMoveTopOrLeftAnimation) { b._modeChangeMoveTopOrLeftAnimation.dispose(); b._modeChangeMoveTopOrLeftAnimation = a } if (b._modeChangeMoveBottomOrRightAnimation) { b._modeChangeMoveBottomOrRightAnimation.dispose(); b._modeChangeMoveBottomOrRightAnimation = a } if (b._modeChangeAnimation) { b._modeChangeAnimation.dispose(); b._modeChangeAnimation = a } if (b._container) { b._container.parentNode && b._container.parentNode.removeChild(b._container); b._container = a } if (b._popupDiv) { $common.removeHandlers(b._popupDiv, b._popup$delegates); b._popupDiv = a } if (b._prevArrow) { $common.removeHandlers(b._prevArrow, b._cell$delegates); b._prevArrow = a } if (b._nextArrow) { $common.removeHandlers(b._nextArrow, b._cell$delegates); b._nextArrow = a } if (b._title) { $common.removeHandlers(b._title, b._cell$delegates); b._title = a } if (b._today) { $common.removeHandlers(b._today, b._cell$delegates); b._today = a } if (b._button) { $common.removeHandlers(b._button, b._button$delegates); b._button = a } if (b._daysBody) { for (var c = 0; c < b._daysBody.rows.length; c++) for (var e = b._daysBody.rows[c], d = 0; d < e.cells.length; d++) $common.removeHandlers(e.cells[d].firstChild, b._cell$delegates); b._daysBody = a } if (b._monthsBody) { for (var c = 0; c < b._monthsBody.rows.length; c++) for (var e = b._monthsBody.rows[c], d = 0; d < e.cells.length; d++) $common.removeHandlers(e.cells[d].firstChild, b._cell$delegates); b._monthsBody = a } if (b._yearsBody) { for (var c = 0; c < b._yearsBody.rows.length; c++) for (var e = b._yearsBody.rows[c], d = 0; d < e.cells.length; d++) $common.removeHandlers(e.cells[d].firstChild, b._cell$delegates); b._yearsBody = a } var f = b.get_element(); $common.removeHandlers(f, b._element$delegates); Sys.Extended.UI.CalendarBehavior.callBaseMethod(b, "dispose") }, show: function () { var d = this; d._ensureCalendar(); if (!d._isOpen) { var e = new Sys.CancelEventArgs; d.raiseShowing(e); if (e.get_cancel()) return; d._isOpen = c; d._popupBehavior.show(); if (d._firstPopUp) { d._switchMonth(a, c); switch (d._defaultView) { case Sys.Extended.UI.CalendarDefaultView.Months: d._switchMode(i, c); break; case Sys.Extended.UI.CalendarDefaultView.Years: d._switchMode(m, c) } d._firstPopUp = b } d.raiseShown() } }, hide: function () { var a = this; if (a._isOpen) { var c = new Sys.CancelEventArgs; a.raiseHiding(c); if (c.get_cancel()) return; a._container && a._popupBehavior.hide(); a._isOpen = b; a.raiseHidden(); a._popupMouseDown = b } }, focus: function () { if (this._button) this._button.focus(); else this.get_element().focus() }, blur: function (d) { var a = this; if (!d && Sys.Browser.agent === Sys.Browser.Opera) a._blur.post(c); else { !a._popupMouseDown && a.hide(); a._popupMouseDown = b } }, suspendLayout: function () { this._layoutSuspended++ }, resumeLayout: function () { var a = this; a._layoutSuspended--; if (a._layoutSuspended <= 0) { a._layoutSuspended = 0; a._layoutRequested && a._performLayout() } }, invalidate: function () { if (this._layoutSuspended > 0) this._layoutRequested = c; else this._performLayout() }, _buildCalendar: function () { var a = this, e = a.get_element(), c = a.get_id(); a._container = $common.createElementFromTemplate({ nodeName: d, properties: { id: c + "_container" }, cssClasses: [a._cssClass], visible: b }, e.parentNode); a._popupDiv = $common.createElementFromTemplate({ nodeName: d, events: a._popup$delegates, properties: { id: c + "_popupDiv" }, cssClasses: ["ajax__calendar_container"] }, a._container) }, _buildHeader: function () { var a = this, b = a.get_id(); a._header = $common.createElementFromTemplate({ nodeName: d, properties: { id: b + "_header" }, cssClasses: ["ajax__calendar_header"] }, a._popupDiv); var e = $common.createElementFromTemplate({ nodeName: d }, a._header); a._prevArrow = $common.createElementFromTemplate({ nodeName: d, properties: { id: b + "_prevArrow", mode: "prev" }, events: a._cell$delegates, cssClasses: ["ajax__calendar_prev"] }, e); var c = $common.createElementFromTemplate({ nodeName: d }, a._header); a._nextArrow = $common.createElementFromTemplate({ nodeName: d, properties: { id: b + "_nextArrow", mode: "next" }, events: a._cell$delegates, cssClasses: ["ajax__calendar_next"] }, c); var f = $common.createElementFromTemplate({ nodeName: d }, a._header); a._title = $common.createElementFromTemplate({ nodeName: d, properties: { id: b + "_title", mode: "title" }, events: a._cell$delegates, cssClasses: ["ajax__calendar_title"] }, f) }, _buildBody: function () { var a = this; a._body = $common.createElementFromTemplate({ nodeName: d, properties: { id: a.get_id() + "_body" }, cssClasses: ["ajax__calendar_body"] }, a._popupDiv); a._buildDays(); a._buildMonths(); a._buildYears() }, _buildFooter: function () { var a = this, b = $common.createElementFromTemplate({ nodeName: d }, a._popupDiv); a._today = $common.createElementFromTemplate({ nodeName: d, properties: { id: a.get_id() + "_today", mode: "today" }, events: a._cell$delegates, cssClasses: ["ajax__calendar_footer", v] }, b) }, _buildDays: function () { var a = this, i = Sys.CultureInfo.CurrentCulture.dateTimeFormat, b = a.get_id(); a._days = $common.createElementFromTemplate({ nodeName: d, properties: { id: b + "_days" }, cssClasses: ["ajax__calendar_days"] }, a._body); a._modes.days = a._days; a._daysTable = $common.createElementFromTemplate({ nodeName: w, properties: { id: b + "_daysTable", cellPadding: 0, cellSpacing: 0, border: 0, style: { margin: x } } }, a._days); a._daysTableHeader = $common.createElementFromTemplate({ nodeName: "thead", properties: { id: b + "_daysTableHeader" } }, a._daysTable); a._daysTableHeaderRow = $common.createElementFromTemplate({ nodeName: n, properties: { id: b + "_daysTableHeaderRow" } }, a._daysTableHeader); for (var c = 0; c < 7; c++) var f = $common.createElementFromTemplate({ nodeName: o }, a._daysTableHeaderRow), h = $common.createElementFromTemplate({ nodeName: d, cssClasses: ["ajax__calendar_dayname"] }, f); a._daysBody = $common.createElementFromTemplate({ nodeName: y, properties: { id: b + "_daysBody" } }, a._daysTable); for (var c = 0; c < 6; c++) for (var g = $common.createElementFromTemplate({ nodeName: n }, a._daysBody), e = 0; e < 7; e++) var f = $common.createElementFromTemplate({ nodeName: o }, g), h = $common.createElementFromTemplate({ nodeName: d, properties: { mode: "day", id: b + "_day_" + c + "_" + e, innerHTML: "&nbsp;" }, events: a._cell$delegates, cssClasses: ["ajax__calendar_day"] }, f) }, _buildMonths: function () { var a = this, i = Sys.CultureInfo.CurrentCulture.dateTimeFormat, f = a.get_id(); a._months = $common.createElementFromTemplate({ nodeName: d, properties: { id: f + "_months" }, cssClasses: ["ajax__calendar_months"], visible: b }, a._body); a._modes.months = a._months; a._monthsTable = $common.createElementFromTemplate({ nodeName: w, properties: { id: f + "_monthsTable", cellPadding: 0, cellSpacing: 0, border: 0, style: { margin: x } } }, a._months); a._monthsBody = $common.createElementFromTemplate({ nodeName: y, properties: { id: f + "_monthsBody" } }, a._monthsTable); for (var c = 0; c < 3; c++) for (var h = $common.createElementFromTemplate({ nodeName: n }, a._monthsBody), e = 0; e < 4; e++) var g = $common.createElementFromTemplate({ nodeName: o }, h), j = $common.createElementFromTemplate({ nodeName: d, properties: { id: f + "_month_" + c + "_" + e, mode: "month", month: c * 4 + e, innerHTML: "<br />" + i.AbbreviatedMonthNames[c * 4 + e] }, events: a._cell$delegates, cssClasses: ["ajax__calendar_month"] }, g) }, _buildYears: function () { var a = this, c = a.get_id(); a._years = $common.createElementFromTemplate({ nodeName: d, properties: { id: c + "_years" }, cssClasses: ["ajax__calendar_years"], visible: b }, a._body); a._modes.years = a._years; a._yearsTable = $common.createElementFromTemplate({ nodeName: w, properties: { id: c + "_yearsTable", cellPadding: 0, cellSpacing: 0, border: 0, style: { margin: x } } }, a._years); a._yearsBody = $common.createElementFromTemplate({ nodeName: y, properties: { id: c + "_yearsBody" } }, a._yearsTable); for (var e = 0; e < 3; e++) for (var h = $common.createElementFromTemplate({ nodeName: n }, a._yearsBody), f = 0; f < 4; f++) var g = $common.createElementFromTemplate({ nodeName: o }, h), i = $common.createElementFromTemplate({ nodeName: d, properties: { id: c + "_year_" + e + "_" + f, mode: "year", year: e * 4 + f - 1 }, events: a._cell$delegates, cssClasses: ["ajax__calendar_year"] }, g) }, _isInDateRange: function (d, e) { var a = this; switch (e) { case h: if (a._startDate && a._getDateOnly(d) < a._getDateOnly(a._startDate)) return b; if (a._endDate && a._getDateOnly(d) > a._getDateOnly(a._endDate)) return b; break; case l: if (a._startDate && a._getMonthOnly(d) < a._getMonthOnly(a._startDate)) return b; if (a._endDate && a._getMonthOnly(d) > a._getMonthOnly(a._endDate)) return b; break; case j: if (a._startDate && d.getUTCFullYear() < a._startDate.getUTCFullYear()) return b; if (a._endDate && d.getUTCFullYear() > a._endDate.getUTCFullYear()) return b } return c }, _getDateOnly: function (a) { return new Date(Date.UTC(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate())) }, _getMonthOnly: function (a) { return new Date(Date.UTC(a.getUTCFullYear(), a.getUTCMonth(), 1)) }, _convertToUTC: function (a) { if (a) a = new Date(Date.UTC(a.getFullYear(), a.getMonth(), a.getDate(), a.getHours(), a.getMinutes(), a.getSeconds(), a.getMilliseconds())); return a }, _convertToLocal: function (a) { var b = new Date(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate(), a.getUTCHours(), a.getUTCMinutes(), a.getUTCSeconds(), a.getUTCMilliseconds()); if (b.getDate() != a.getUTCDate()) b = new Date(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate(), a.getUTCHours() + 1, a.getUTCMinutes(), a.getUTCSeconds(), a.getUTCMilliseconds()); return b }, _performLayout: function () { var a = this, B = a.get_element(); if (!B) return; if (!a.get_isInitialized()) return; if (!a._isOpen) return; var A = Sys.CultureInfo.CurrentCulture.dateTimeFormat, C = a.get_selectedDate(), d = a._getEffectiveVisibleDate(), t = a.get_todaysDate(); switch (a._mode) { case k: var y = a._getFirstDayOfWeek(), s = d.getUTCDay() - y; if (s <= 0) s += 7; var w = new Date(d); w.setUTCDate(w.getUTCDate() - s); for (var o = new Date(w), n = 0; n < 7; n++) { var c = a._daysTableHeaderRow.cells[n].firstChild; c.firstChild && c.removeChild(c.firstChild); c.appendChild(document.createTextNode(A.ShortestDayNames[(n + y) % 7])) } for (var x = 0; x < 6; x++) for (var z = a._daysBody.rows[x], u = 0; u < 7; u++) { var c = z.cells[u].firstChild; c.firstChild && c.removeChild(c.firstChild); c.appendChild(document.createTextNode(o.getUTCDate())); c.title = a._convertToLocal(o).localeFormat("D"); c.date = o; $common.removeCssClasses(c.parentNode, [f, g, v]); if (!a._isInDateRange(o, h)) { $common.removeCssClasses(c.parentNode, [f, g]); Sys.UI.DomElement.addCssClass(c.parentNode, e) } else { $common.removeCssClasses(c.parentNode, [e, f, g, ""]); Sys.UI.DomElement.addCssClass(c.parentNode, a._getCssClass(c.date, h)) } o = new Date(o); o.setUTCDate(o.getUTCDate() + 1) } a._prevArrow.date = new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth() - 1, 1)); a._nextArrow.date = new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth() + 1, 1)); a._title.firstChild && a._title.removeChild(a._title.firstChild); a._title.appendChild(document.createTextNode(a._convertToLocal(d).localeFormat(a.get_daysModeTitleFormat()))); a._title.date = d; break; case i: for (var n = 0; n < a._monthsBody.rows.length; n++) for (var r = a._monthsBody.rows[n], q = 0; q < r.cells.length; q++) { var b = r.cells[q].firstChild; b.date = new Date(Date.UTC(d.getUTCFullYear(), b.month, 1)); b.title = a._convertToLocal(b.date).localeFormat("Y"); if (!a._isInDateRange(b.date, l)) { $common.removeCssClasses(b.parentNode, [f, g]); Sys.UI.DomElement.addCssClass(b.parentNode, e) } else { $common.removeCssClasses(b.parentNode, [e, f, g]); Sys.UI.DomElement.addCssClass(b.parentNode, a._getCssClass(b.date, l)) } } a._title.firstChild && a._title.removeChild(a._title.firstChild); a._title.appendChild(document.createTextNode(a._convertToLocal(d).localeFormat("yyyy"))); a._title.date = d; a._prevArrow.date = new Date(Date.UTC(d.getUTCFullYear() - 1, 0, 1)); a._nextArrow.date = new Date(Date.UTC(d.getUTCFullYear() + 1, 0, 1)); break; case m: for (var p = Math.floor(d.getUTCFullYear() / 10) * 10, n = 0; n < a._yearsBody.rows.length; n++) for (var r = a._yearsBody.rows[n], q = 0; q < r.cells.length; q++) { var b = r.cells[q].firstChild; b.date = new Date(Date.UTC(p + b.year, 0, 1)); if (b.firstChild) b.removeChild(b.lastChild); else b.appendChild(document.createElement("br")); b.appendChild(document.createTextNode(p + b.year)); if (!a._isInDateRange(b.date, j)) { $common.removeCssClasses(b.parentNode, [f, g]); Sys.UI.DomElement.addCssClass(b.parentNode, e) } else { $common.removeCssClasses(b.parentNode, [e, f, g]); Sys.UI.DomElement.addCssClass(b.parentNode, a._getCssClass(b.date, j)) } } a._title.firstChild && a._title.removeChild(a._title.firstChild); a._title.appendChild(document.createTextNode(p.toString() + "-" + (p + 9).toString())); a._title.date = d; a._prevArrow.date = new Date(Date.UTC(p - 10, 0, 1)); a._nextArrow.date = new Date(Date.UTC(p + 10, 0, 1)) } a._today.firstChild && a._today.removeChild(a._today.firstChild); $common.removeCssClasses(a._today.parentNode, [e]); a._today.appendChild(document.createTextNode(String.format(Sys.Extended.UI.Resources.Calendar_Today, t.localeFormat(a.get_todaysDateFormat())))); !a._isInDateRange(t, h) && Sys.UI.DomElement.addCssClass(a._today.parentNode, e); a._today.date = a._convertToUTC(t) }, _ensureCalendar: function () { var a = this; if (!a._container) { var b = a.get_element(); a._buildCalendar(); a._buildHeader(); a._buildBody(); a._buildFooter(); a._popupBehavior = new $create(Sys.Extended.UI.PopupBehavior, { parentElement: b }, {}, {}, a._container); if (a._popupPosition == Sys.Extended.UI.CalendarPosition.TopLeft) a._popupBehavior.set_positioningMode(Sys.Extended.UI.PositioningMode.TopLeft); else if (a._popupPosition == Sys.Extended.UI.CalendarPosition.TopRight) a._popupBehavior.set_positioningMode(Sys.Extended.UI.PositioningMode.TopRight); else if (a._popupPosition == Sys.Extended.UI.CalendarPosition.BottomRight) a._popupBehavior.set_positioningMode(Sys.Extended.UI.PositioningMode.BottomRight); else if (a._popupPosition == Sys.Extended.UI.CalendarPosition.Right) a._popupBehavior.set_positioningMode(Sys.Extended.UI.PositioningMode.Right); else if (a._popupPosition == Sys.Extended.UI.CalendarPosition.Left) a._popupBehavior.set_positioningMode(Sys.Extended.UI.PositioningMode.Left); else a._popupBehavior.set_positioningMode(Sys.Extended.UI.PositioningMode.BottomLeft) } }, _fireChanged: function () { var a = this.get_element(); if (document.createEventObject) a.fireEvent("onchange"); else if (document.createEvent) { var b = document.createEvent("HTMLEvents"); b.initEvent("change", c, c); a.dispatchEvent(b) } }, _switchMonth: function (g, j) { var e = "left", d = this; if (d._isAnimating) return; if (g && !d._canSwitchMonth(g)) return; var i = d._getEffectiveVisibleDate(); if (g && g.getFullYear() == i.getFullYear() && g.getMonth() == i.getMonth()) j = c; if (d._animated && !j) { d._isAnimating = c; var h = d._modes[d._mode], f = h.cloneNode(c); d._body.appendChild(f); if (i > g) { $common.setLocation(h, { x: -162, y: 0 }); $common.setVisible(h, c); d._modeChangeMoveTopOrLeftAnimation.set_propertyKey(e); d._modeChangeMoveTopOrLeftAnimation.set_target(h); d._modeChangeMoveTopOrLeftAnimation.set_startValue(-d._width); d._modeChangeMoveTopOrLeftAnimation.set_endValue(0); $common.setLocation(f, { x: 0, y: 0 }); $common.setVisible(f, c); d._modeChangeMoveBottomOrRightAnimation.set_propertyKey(e); d._modeChangeMoveBottomOrRightAnimation.set_target(f); d._modeChangeMoveBottomOrRightAnimation.set_startValue(0); d._modeChangeMoveBottomOrRightAnimation.set_endValue(d._width) } else { $common.setLocation(f, { x: 0, y: 0 }); $common.setVisible(f, c); d._modeChangeMoveTopOrLeftAnimation.set_propertyKey(e); d._modeChangeMoveTopOrLeftAnimation.set_target(f); d._modeChangeMoveTopOrLeftAnimation.set_endValue(-d._width); d._modeChangeMoveTopOrLeftAnimation.set_startValue(0); $common.setLocation(h, { x: 162, y: 0 }); $common.setVisible(h, c); d._modeChangeMoveBottomOrRightAnimation.set_propertyKey(e); d._modeChangeMoveBottomOrRightAnimation.set_target(h); d._modeChangeMoveBottomOrRightAnimation.set_endValue(0); d._modeChangeMoveBottomOrRightAnimation.set_startValue(d._width) } d._visibleDate = g; d.invalidate(); var k = Function.createDelegate(d, function () { this._body.removeChild(f); f = a; this._isAnimating = b; this._modeChangeAnimation.remove_ended(k) }); d._modeChangeAnimation.add_ended(k); d._modeChangeAnimation.play() } else { d._visibleDate = g; d.invalidate() } }, _canSwitchMonth: function (d) { var a = this; switch (a._mode) { case k: if (!a._isInDateRange(d, l)) return b; break; case i: if (!a._isInDateRange(d, j)) return b; break; case m: if (!a._isInDateRange(d, j)) return b } return c }, _switchMode: function (g, i) { var d = "top", a = this; if (a._isAnimating || a._mode == g) return; var j = a._modeOrder[a._mode] < a._modeOrder[g], f = a._modes[a._mode], e = a._modes[g]; a._mode = g; if (a._animated && !i) { a._isAnimating = c; a.invalidate(); if (j) { $common.setLocation(e, { x: 0, y: -a._height }); $common.setVisible(e, c); a._modeChangeMoveTopOrLeftAnimation.set_propertyKey(d); a._modeChangeMoveTopOrLeftAnimation.set_target(e); a._modeChangeMoveTopOrLeftAnimation.set_startValue(-a._height); a._modeChangeMoveTopOrLeftAnimation.set_endValue(0); $common.setLocation(f, { x: 0, y: 0 }); $common.setVisible(f, c); a._modeChangeMoveBottomOrRightAnimation.set_propertyKey(d); a._modeChangeMoveBottomOrRightAnimation.set_target(f); a._modeChangeMoveBottomOrRightAnimation.set_startValue(0); a._modeChangeMoveBottomOrRightAnimation.set_endValue(a._height) } else { $common.setLocation(f, { x: 0, y: 0 }); $common.setVisible(f, c); a._modeChangeMoveTopOrLeftAnimation.set_propertyKey(d); a._modeChangeMoveTopOrLeftAnimation.set_target(f); a._modeChangeMoveTopOrLeftAnimation.set_endValue(-a._height); a._modeChangeMoveTopOrLeftAnimation.set_startValue(0); $common.setLocation(e, { x: 0, y: 139 }); $common.setVisible(e, c); a._modeChangeMoveBottomOrRightAnimation.set_propertyKey(d); a._modeChangeMoveBottomOrRightAnimation.set_target(e); a._modeChangeMoveBottomOrRightAnimation.set_endValue(0); a._modeChangeMoveBottomOrRightAnimation.set_startValue(a._height) } var h = Function.createDelegate(a, function () { this._isAnimating = b; this._modeChangeAnimation.remove_ended(h) }); a._modeChangeAnimation.add_ended(h); a._modeChangeAnimation.play() } else { a._mode = g; $common.setVisible(f, b); a.invalidate(); $common.setVisible(e, c); $common.setLocation(e, { x: 0, y: 0 }) } }, _isSelected: function (d, e) { var a = this.get_selectedDate(); if (!a) return b; switch (e) { case h: if (d.getUTCDate() != a.getUTCDate()) return b; case l: if (d.getUTCMonth() != a.getUTCMonth()) return b; case j: if (d.getUTCFullYear() != a.getUTCFullYear()) return b } return c }, _isOther: function (a, e) { var c = this._getEffectiveVisibleDate(); switch (e) { case h: return a.getUTCFullYear() != c.getUTCFullYear() || a.getUTCMonth() != c.getUTCMonth(); case l: return b; case j: var d = Math.floor(c.getUTCFullYear() / 10) * 10; return a.getUTCFullYear() < d || d + 10 <= a.getUTCFullYear() } return b }, _isTodaysDate: function (b) { var a = this; return a._getDateOnly(a._convertToUTC(a.get_todaysDate())).valueOf() === a._getDateOnly(b).valueOf() }, _getCssClass: function (a, b) { return this._isSelected(a, b) ? g : this._isOther(a, b) ? f : this._isTodaysDate(a) ? v : "" }, _getEffectiveVisibleDate: function () { var c = this, b = c.get_visibleDate(); if (b == a) b = c.get_selectedDate(); if (b == a) b = c.get_todaysDate(); b = new Date(b); b.setUTCDate(1); return c._getDateOnly(b) }, _getFirstDayOfWeek: function () { return this.get_firstDayOfWeek() != Sys.Extended.UI.FirstDayOfWeek.Default ? this.get_firstDayOfWeek() : Sys.CultureInfo.CurrentCulture.dateTimeFormat.FirstDayOfWeek }, _parseTextValue: function (c) { var b = a; if (c) b = this._convertToUTC(Date.parseLocale(c, this.get_format())); if (isNaN(b)) b = a; return b }, _element_onfocus: function () { var a = this; if (!a._enabled) return; if (!a._button) { a.show(); a._popupMouseDown = b } }, _element_onblur: function () { if (!this._enabled) return; !this._button && this.blur() }, _element_onchange: function () { var b = this; if (!b._selectedDateChanging) { var c = b._parseTextValue(b._textbox.get_Value()); b._selectedDate = c; b._isOpen && b._switchMonth(b._selectedDate, b._selectedDate == a) } }, _element_onkeypress: function (a) { if (!this._enabled) return; if (!this._button && a.charCode == Sys.UI.Key.esc) { a.stopPropagation(); a.preventDefault(); this.hide() } }, _element_onclick: function () { var a = this; if (!a._enabled) return; if (!a._button) { a.show(); a._popupMouseDown = b } }, _popup_onevent: function (a) { a.stopPropagation(); a.preventDefault() }, _popup_onmousedown: function () { this._popupMouseDown = c }, _popup_onmouseup: function () { var a = this; Sys.Browser.agent === Sys.Browser.Opera && a._blur.get_isPending() && a._blur.cancel(); a._popupMouseDown = b; a.focus() }, _cell_onmouseover: function (d) { d.stopPropagation(); if (Sys.Browser.agent === Sys.Browser.Safari) for (var a = 0; a < this._daysBody.rows.length; a++) for (var c = this._daysBody.rows[a], b = 0; b < c.cells.length; b++) Sys.UI.DomElement.removeCssClass(c.cells[b].firstChild.parentNode, p); var e = d.target; Sys.UI.DomElement.addCssClass(e.parentNode, p) }, _cell_onmouseout: function (a) { a.stopPropagation(); var b = a.target; Sys.UI.DomElement.removeCssClass(b.parentNode, p) }, _cell_onclick: function (d) { var a = this; d.stopPropagation(); d.preventDefault(); if (!a._enabled) return; var b = d.target; if (b.parentNode.className.indexOf(e) != -1) return; var f = a._getEffectiveVisibleDate(); Sys.UI.DomElement.removeCssClass(b.parentNode, p); switch (b.mode) { case "prev": case "next": a._switchMonth(b.date); break; case "title": switch (a._mode) { case k: a._switchMode(i); break; case i: a._switchMode(m) } break; case "month": if (b.month == f.getUTCMonth()) a._switchMode(k); else { a._visibleDate = b.date; a._switchMode(k) } break; case "year": if (b.date.getFullYear() == f.getFullYear()) a._switchMode(i); else { a._visibleDate = b.date; a._switchMode(i) } break; case "day": a.set_selectedDate(b.date); a._switchMonth(b.date); a._blur.post(c); a.raiseDateSelectionChanged(); break; case "today": a.set_selectedDate(b.date); a._switchMonth(b.date); a._blur.post(c); a.raiseDateSelectionChanged() } }, _button_onclick: function (c) { var a = this; c.preventDefault(); c.stopPropagation(); if (!a._enabled) return; if (c.clientX == 0) return; if (!a._isOpen) a.show(); else a.hide(); a.focus(); a._popupMouseDown = b; if (a._visibleDate != a._selectedDate) { a._visibleDate = a._selectedDate; a.invalidate() } }, _button_onblur: function () { var a = this; if (!a._enabled) return; !a._popupMouseDown && a.hide(); a._popupMouseDown = b }, _button_onkeypress: function (a) { if (!this._enabled) return; if (a.charCode == Sys.UI.Key.esc) { a.stopPropagation(); a.preventDefault(); this.hide() } this._popupMouseDown = b } }; Sys.Extended.UI.CalendarBehavior.registerClass("Sys.Extended.UI.CalendarBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.CalendarBehavior, { name: "calendar" }); Sys.Extended.UI.CalendarPosition = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.CalendarPosition.prototype = { BottomLeft: 0, BottomRight: 1, TopLeft: 2, TopRight: 3, Right: 4, Left: 5 }; Sys.Extended.UI.CalendarPosition.registerEnum("Sys.Extended.UI.CalendarPosition"); Sys.Extended.UI.CalendarDefaultView = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.CalendarDefaultView.prototype = { Days: 0, Months: 1, Years: 2 }; Sys.Extended.UI.CalendarDefaultView.registerEnum("Sys.Extended.UI.CalendarDefaultView") } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["Globalization", "ExtendedBase", "ExtendedDateTime", "ExtendedThreading", "ExtendedAnimationBehavior", "ExtendedPopup"], a); else a() })();
//END Calendar.CalendarBehavior.js
//START MaskedEdit.MaskedEditValidator.js
// (c) 2010 CodePlex Foundation
function MaskedEditSetMessage(a, b, c) { a.errormessage = b; if (c == "") a.text = b; else a.text = c; a.innerHTML = a.text } function MaskedEditMessageShow(a, b) { if (typeof a.display == "string") { if (a.display == "None") return; if (a.display == "Dynamic") { a.style.display = b ? "none" : "inline"; return } } a.style.visibility = b ? "hidden" : "visible" } function MaskedEditSetCssClass(b, c) { var a = $get(b.TargetValidator); Sys.UI.DomElement.removeCssClass(a, b.InvalidValueCssClass); Sys.UI.DomElement.removeCssClass(a, b.CssBlurNegative); Sys.UI.DomElement.removeCssClass(a, b.CssFocus); Sys.UI.DomElement.removeCssClass(a, b.CssFocusNegative); c != "" && Sys.UI.DomElement.addCssClass(a, c) } function MaskedEditValidatorDateTime(a) { var f = false, d = true, b = ""; MaskedEditSetMessage(a, b, b); MaskedEditSetCssClass(a, b); MaskedEditMessageShow(a, d); if (a.IsMaskedEdit == "false") return d; var e = $get(a.TargetValidator); if (a.ValidEmpty == "false") if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e).get_Value() == a.InitialValue) { MaskedEditSetMessage(a, a.EmptyValueMessage, a.EmptyValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, f); return f } if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e).get_Value() == b) return d; var c = d, g = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e).get_Value(); if (a.ValidationExpression != b) { var p = new RegExp(a.ValidationExpression), h = p.exec(g); c = h != null && g == h[0]; if (!c) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, f); return f } } var m = e.MaskedEditBehavior.AutoFormatDate(), n = e.MaskedEditBehavior.AutoFormatTime(), k = b, l = b; if (a.MinimumValue != b) { k = a.MinimumValue.split(" ")[0]; l = a.MinimumValue.split(" ")[1] } var i = b, j = b; if (a.MaximumValue != b) { i = a.MaximumValue.split(" ")[0]; j = a.MaximumValue.split(" ")[1] } c = MaskedEditValidatorPartDate(a, m, k, i); if (c) c = MaskedEditValidatorPartTime(a, n, l, j); if (c && a.ClientValidationFunction != b) { var o = { Value: g, IsValid: d }; eval(a.ClientValidationFunction + "(value, args);"); c = o.IsValid; if (!c) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } !c && MaskedEditMessageShow(a, c); return c } function MaskedEditValidatorPartTime(b, n, h, g) { var a = 10, e = -1, x = "([0-5][0-9])\\s(", w = "([0-5][0-9])", k = true, j = b.TimeSeparator, y = b.AmPmSymbol, v = y.split(";"), z = y.replace(";", "|"), A = "^(^([0][0-9]|[1][0-2])" + j + w + j + x + z + ")$)|(^([0][0-9]|[1][0-2])" + j + x + z + ")$)$", B = "^(^([0-1][0-9]|[2][0-3])" + j + w + j + "([0-5][0-9])$)|(^([0-1][0-9]|[2][0-3])" + j + "([0-5][0-9])$)$", f = e, p = e, s = e, r = "", q = n.split(j), t = new RegExp(A), l = t.exec(n), u = new RegExp(B), m = u.exec(n); if (l && l[0] == n) { r = n.substring(n.length - 2).substring(0, 1); f = parseInt(q[0], a); if (r.toUpperCase() == v[1].substring(0, 1).toUpperCase()) { f += 12; if (f == 24) f = 12 } p = parseInt(q[1], a); s = b.length > 9 ? parseInt(q[2].substring(0, 2), a) : 0 } else if (m && m[0] == n) { f = parseInt(q[0], a); p = parseInt(q[1], a); s = n.length > 5 ? parseInt(q[2], a) : 0 } if (f == e || p == e || s == e) k = false; if (!k) { MaskedEditSetMessage(b, b.InvalidValueMessage, b.InvalidValueText); MaskedEditSetCssClass(b, b.InvalidValueCssClass) } if (k && (g != "" || h != "")) { var c, i, o, d; if (h != "") { c = e; i = e; o = e; d = h.split(j); l = t.exec(h); m = u.exec(h); if (l && l[0] == h) { r = h.substring(h.length - 2).substring(0, 1); c = parseInt(d[0], a); if (r.toUpperCase() == v[1].substring(0, 1).toUpperCase()) { c += 12; if (c == 24) c = 0 } i = parseInt(d[1], a); o = h.length > 9 ? parseInt(d[2].substring(0, 2), a) : 0 } else if (m && m[0] == h) { c = parseInt(d[0], a); i = parseInt(d[1], a); o = h.length > 5 ? parseInt(d[2], a) : 0 } k = f > c || f == c && p > i || f == c && p == i && s >= o; if (!k) { MaskedEditSetMessage(b, b.MinimumValueMessage, b.MinimumValueText); MaskedEditSetCssClass(b, b.InvalidValueCssClass) } } if (g != "" && k) { c = e; i = e; o = e; d = g.split(j); l = t.exec(g); m = u.exec(g); if (l && l[0] == g) { r = g.substring(g.length - 2).substring(0, 1); c = parseInt(d[0], a); if (r.toUpperCase() == v[1].substring(0, 1).toUpperCase()) { c += 12; if (c == 24) c = 0 } i = parseInt(d[1], a); o = g.length > 9 ? parseInt(d[2].substring(0, 2), a) : 0 } else if (m && m[0] == g) { c = parseInt(d[0], a); i = parseInt(d[1], a); o = g.length > 5 ? parseInt(d[2], a) : 0 } k = f < c || f == c && p < i || f == c && p == i && s <= o; if (!k) { MaskedEditSetMessage(b, b.MaximumValueMessage, b.MaximumValueText); MaskedEditSetCssClass(b, b.InvalidValueCssClass) } } } return k } function MaskedEditValidatorPartDate(a, p, o, n) { var e = 10, c = true, b = "MDY"; switch (a.DateFormat) { case "DayMonthYear": b = "DMY"; break; case "DayYearMonth": b = "DYM"; break; case "MonthDayYear": b = "MDY"; break; case "MonthYearDay": b = "MYD"; break; case "YearDayMonth": b = "YDM"; break; case "YearMonthDay": b = "YMD" } var m = a.DateSeparator, l = p.split(m); if (parseInt(l.length, e) != 3) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); c = false } if (b.indexOf("D") == -1 || b.indexOf("M") == -1 || b.indexOf("Y") == -1) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); c = false } var k = -1, i = -1, d = -1; if (c) { k = parseInt(l[b.indexOf("D")], e); i = parseInt(l[b.indexOf("M")], e); d = parseInt(l[b.indexOf("Y")], e); c = k > 0 && i > 0 && d > 0 && (k <= ([, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31])[i] || k == 29 && i == 2 && d % 4 == 0 && (d % 100 > 0 || d % 400 == 0)) } if (!c) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } if (c && (n != "" || o != "")) { var g, j = -1, h = -1, f = -1; if (o != "") { g = o.split(m); j = parseInt(g[b.indexOf("D")], e); h = parseInt(g[b.indexOf("M")], e); f = parseInt(g[b.indexOf("Y")], e); c = j > 0 && h > 0 && f > 0 && d > f || d == f && i > h || d == f && i == h && k >= j; if (!c) { MaskedEditSetMessage(a, a.MinimumValueMessage, a.MinimumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } if (c && n != "") { g = n.split(m); j = parseInt(g[b.indexOf("D")], e); h = parseInt(g[b.indexOf("M")], e); f = parseInt(g[b.indexOf("Y")], e); c = j > 0 && h > 0 && f > 0 && d < f || d == f && i < h || d == f && i == h && k <= j; if (!c) { MaskedEditSetMessage(a, a.MaximumValueMessage, a.MaximumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } } return c } function MaskedEditValidatorDate(a) { var d = false, c = true; MaskedEditSetMessage(a, "", ""); MaskedEditSetCssClass(a, ""); MaskedEditMessageShow(a, c); if (a.IsMaskedEdit == "false") return c; var f = $get(a.TargetValidator); if (a.ValidEmpty == "false") if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f).get_Value() == a.InitialValue) { MaskedEditSetMessage(a, a.EmptyValueMessage, a.EmptyValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, d); return d } if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f).get_Value() == "") return c; var b = c, e = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f).get_Value(); if (a.ValidationExpression != "") { var i = new RegExp(a.ValidationExpression), g = i.exec(e); b = g != null && e == g[0]; if (!b) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, d); return d } } b = MaskedEditValidatorPartDate(a, e, a.MinimumValue, a.MaximumValue); if (b && a.ClientValidationFunction != "") { var h = { Value: e, IsValid: c }; eval(a.ClientValidationFunction + "(value, args);"); b = h.IsValid; if (!b) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } !b && MaskedEditMessageShow(a, b); return b } function MaskedEditValidatorTime(a) { var d = false, c = true; MaskedEditSetMessage(a, "", ""); MaskedEditSetCssClass(a, ""); MaskedEditMessageShow(a, c); if (a.IsMaskedEdit == "false") return c; var f = $get(a.TargetValidator); if (a.ValidEmpty == "false") if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f).get_Value() == a.InitialValue) { MaskedEditSetMessage(a, a.EmptyValueMessage, a.EmptyValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, d); return d } if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f).get_Value() == "") return c; var b = c, e = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f).get_Value(); if (a.ValidationExpression != "") { var i = new RegExp(a.ValidationExpression), g = i.exec(e); b = g != null && e == g[0]; if (!b) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, d); return d } } b = MaskedEditValidatorPartTime(a, e, a.MinimumValue, a.MaximumValue); if (b && a.ClientValidationFunction != "") { var h = { Value: e, IsValid: c }; eval(a.ClientValidationFunction + "(value, args);"); b = h.IsValid; if (!b) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } !b && MaskedEditMessageShow(a, b); return b } function MaskedEditValidatorNumber(a) { var d = null, i = false, j = true, e = ""; MaskedEditSetMessage(a, e, e); MaskedEditSetCssClass(a, e); MaskedEditMessageShow(a, j); if (a.IsMaskedEdit == "false") return j; var p = $get(a.TargetValidator), o = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(p).get_Value().replace(new RegExp("([w_.,s$ ])", "g"), e); if (a.ValidEmpty == "false") if (o == a.InitialValue) { MaskedEditSetMessage(a, a.EmptyValueMessage, a.EmptyValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, i); return i } if (o == e) return j; var c = j, r = a.Thousands, q = a.Decimal, m = a.Money, u = a.LastMaskPosition + m.length + 1, g = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(p).get_Value(); if (a.ValidationExpression != e) { var t = new RegExp(a.ValidationExpression), n = t.exec(g); c = n != d && g == n[0]; if (!c) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, i); return i } } c = i; var k = d, l = d, f = d, h = d, b = d; g = g.replace(new RegExp("(\\" + r + ")", "g"), e); g = g.replace(new RegExp("(\\" + m + ")", "g"), e); f = g.match(/^\s*(\S+(\s+\S+)*)\s*$/); if (f != d) g = f[1]; l = /^\s*[-\+]?\d+\s*$/; if (g.match(l) != d) { h = parseInt(g, 10); c = h == (isNaN(h) ? d : h) } if (c) { if (a.MaximumValue != e) { b = parseInt(a.MaximumValue, 10); if (b == (isNaN(b) ? d : b)) if (h > b) { c = i; MaskedEditSetMessage(a, a.MaximumValueMessage, a.MaximumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } if (c && a.MinimumValue != e) { b = parseInt(a.MinimumValue, 10); if (b == (isNaN(b) ? d : b)) if (h < b) { c = i; MaskedEditSetMessage(a, a.MinimumValueMessage, a.MinimumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } } else { l = new RegExp("^\\s*([-\\+])?(\\d+)?(\\" + q + "(\\d+))?\\s*$"); f = g.match(l); if (f != d) { k = d; if (typeof f[1] != "undefined") k = f[1] + (f[2].length > 0 ? f[2] : "0") + "." + f[4]; else k = (f[2].length > 0 ? f[2] : "0") + "." + f[4]; h = parseFloat(k); c = h == (isNaN(h) ? d : h) } if (!c) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } if (c) { if (a.MaximumValue != e) { b = parseFloat(a.MaximumValue); if (b == (isNaN(b) ? d : b)) if (h > b) { c = i; MaskedEditSetMessage(a, a.MaximumValueMessage, a.MaximumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } if (c && a.MinimumValue != e) { b = parseFloat(a.MinimumValue); if (b == (isNaN(b) ? d : b)) if (h < b) { c = i; MaskedEditSetMessage(a, a.MinimumValueMessage, a.MinimumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } } } if (c && a.ClientValidationFunction != e) { var s = { Value: g, IsValid: j }; eval(a.ClientValidationFunction + "(value, args);"); c = s.IsValid; if (!c) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } !c && MaskedEditMessageShow(a, c); return c } function MaskedEditValidatorNone(a) { var e = null, d = false, f = true; MaskedEditSetMessage(a, "", ""); MaskedEditSetCssClass(a, ""); MaskedEditMessageShow(a, f); if (a.IsMaskedEdit == "false") return f; var h = $get(a.TargetValidator); if (a.ValidEmpty == "false") if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(h).get_Value() == a.InitialValue) { MaskedEditSetMessage(a, a.EmptyValueMessage, a.EmptyValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, d); return d } if (Sys.Extended.UI.TextBoxWrapper.get_Wrapper(h).get_Value() == "") return f; var b = f, g = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(h).get_Value(); if (a.ValidationExpression != "") { var l = new RegExp(a.ValidationExpression), i = l.exec(g); b = i != e && g == i[0]; if (!b) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass); MaskedEditMessageShow(a, d); return d } } var j = /^\d+\s*$/, c = e; if (a.MaximumValue != "") if (a.MaximumValue.match(j) != e) { c = parseInt(a.MaximumValue, 10); if (c == (isNaN(c) ? e : c)) if (g.length > c) { b = d; MaskedEditSetMessage(a, a.MaximumValueMessage, a.MaximumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } if (b && a.MinimumValue != "") if (a.MinimumValue.match(j) != e) { c = parseInt(a.MinimumValue, 10); if (c == (isNaN(c) ? e : c)) if (g.length < c) { b = d; MaskedEditSetMessage(a, a.MinimumValueMessage, a.MinimumValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } if (b && a.ClientValidationFunction != "") { var k = { Value: g, IsValid: f }; eval(a.ClientValidationFunction + "(value, args);"); b = k.IsValid; if (!b) { MaskedEditSetMessage(a, a.InvalidValueMessage, a.InvalidValueText); MaskedEditSetCssClass(a, a.InvalidValueCssClass) } } !b && MaskedEditMessageShow(a, b); return b };
//END MaskedEdit.MaskedEditValidator.js
//START MaskedEdit.MaskedEditBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedMaskedEdit"; function a() { var v = "string", o = "undefined", A = "YDM", z = "YMD", y = "MYD", x = "DYM", n = "Y", m = "D", w = "DMY", E = "9999", l = "M", e = " ", f = 10, k = "g", i = ")", j = "(\\", B = "px", u = "DivMaskedEditTip_", h = "0", s = "+-", q = "-", D = "change", C = "focus", p = "keypress", r = "keydown", H = "mouseover", G = "mousemove", F = "mouseout", g = null, c = -1, t = "MDY", b = false, d = true, a = ""; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.MaskedEditBehavior = function (h) { var e = this; Sys.Extended.UI.MaskedEditBehavior.initializeBase(e, [h]); e._Mask = a; e._MaskType = Sys.Extended.UI.MaskedEditType.None; e._Filtered = a; e._PromptChar = "_"; e._InputDirection = Sys.Extended.UI.MaskedEditInputDirections.LeftToRight; e._MessageValidatorTip = d; e._ShowMessageErrorFloat = b; e._CssMessageErrorFloat = a; e._AutoComplete = d; e._AutoCompleteValue = a; e._ClearTextOnInvalid = b; e._ClearMaskOnLostfocus = d; e._AcceptAmPm = Sys.Extended.UI.MaskedEditShowSymbol.None; e._AcceptNegative = Sys.Extended.UI.MaskedEditShowSymbol.None; e._DisplayMoney = Sys.Extended.UI.MaskedEditShowSymbol.None; e._OnFocusCssClass = "MaskedEditFocus"; e._OnInvalidCssClass = "MaskedEditError"; e._OnFocusCssNegative = "MaskedEditFocusNegative"; e._OnBlurCssNegative = "MaskedEditBlurNegative"; e._CultureName = Sys.CultureInfo.CurrentCulture.name; e._UserDateFormat = Sys.Extended.UI.MaskedEditUserDateFormat.None; e._UserTimeFormat = Sys.Extended.UI.MaskedEditUserTimeFormat.None; e._CultureDatePlaceholder = Sys.CultureInfo.CurrentCulture.dateTimeFormat.DateSeparator; e._CultureTimePlaceholder = Sys.CultureInfo.CurrentCulture.dateTimeFormat.TimeSeparator; e._CultureDecimalPlaceholder = Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator; e._CultureThousandsPlaceholder = Sys.CultureInfo.CurrentCulture.numberFormat.NumberGroupSeparator; e._CultureDateFormat = t; var f = Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern.split(e._CultureDatePlaceholder); if (f.length >= 3) e._CultureDateFormat = f[0].substr(0, 1).toUpperCase() + f[1].substr(0, 1).toUpperCase() + f[2].substr(0, 1).toUpperCase(); e._CultureCurrencySymbolPlaceholder = Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol; e._CultureAMPMPlaceholder = Sys.CultureInfo.CurrentCulture.dateTimeFormat.PMDesignator + ";" + Sys.CultureInfo.CurrentCulture.dateTimeFormat.PMDesignator; e._AMPMPlaceholderSeparator = ";"; e._Century = 1900; e._AllowCopyPaste = d; e._ClipboardText = Sys.Extended.UI.Resources && Sys.Extended.UI.Resources.Shared_BrowserSecurityPreventsPaste || "Your browser security settings don't permit the automatic execution of paste operations. Please use the keyboard shortcut Ctrl+V instead."; e._CharsEditMask = "9L$CAN?"; e._CharsSpecialMask = "/:.,"; e._MaskConv = a; e._EmptyMask = a; e._maskvalid = a; e._DirectSelText = a; e._initialvalue = a; e._LogicSymbol = a; e._LogicTextMask = a; e._LogicMask = a; e._LogicMaskConv = a; e._LogicPrompt = String.fromCharCode(1); e._LogicEscape = String.fromCharCode(2); e._LogicFirstPos = c; e._LogicLastPos = c; e._LogicLastInt = c; e._LogicDateTimeSepPos = c; e._QtdValidInput = 0; e._InLostfocus = b; e._ExternalMessageError = a; e._CurrentMessageError = a; e._FiringOnChange = b; e._ErroOnEnter = b; e._beforeClearMaskText = a; e._charLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; e._charNumbers = "0123456789"; e._charEscape = "\\"; e._DelimitStartDup = "{"; e._DelimitEndDup = "}"; e._focusHandler = g; e._keypressdown = g; e._keypressHandler = g; e._blurHandler = g; e._mouseOutHandler = g; e._mouseOutHandler = g; e._mouseMoveHandler = g; e._mouseEnterHandler = g; e._changeHandler = g; e._timer = g; e._timerHandler = g; e._SaveSymb = a; e._SaveText = a; e._SavePosi = c; e._SaveMask = a; e._SaveKeyDown = 0 }; Sys.Extended.UI.MaskedEditBehavior.prototype = { initialize: function () { var e = this, f = e.get_element(); e._InLostfocus = d; Sys.Extended.UI.MaskedEditBehavior.callBaseMethod(e, "initialize"); e._createMask(); var h = b, i = e.get_ClientState(); if (i != g && i != a) { h = i == "Focused"; e.set_ClientState(g) } try { if (f === document.activeElement) h = d } catch (l) { } if (e._ShowMessageErrorFloat) { e._mouseOutHandler = Function.createDelegate(e, e._onMouseOut); $addHandler(f, F, e._mouseOutHandler); e._mouseMoveHandler = Function.createDelegate(e, e._onMouseMove); $addHandler(f, G, e._mouseMoveHandler); e._mouseEnterHandler = Function.createDelegate(e, e._onMouseover); $addHandler(f, H, e._mouseEnterHandler) } if (!f.readOnly) { e._keypressdown = Function.createDelegate(e, e._onKeyPressdown); $addHandler(f, r, e._keypressdown); e._keypressHandler = Function.createDelegate(e, e._onKeyPress); $addHandler(f, p, e._keypressHandler) } e._focusHandler = Function.createDelegate(e, e._onFocus); $addHandler(f, C, e._focusHandler); e._blurHandler = Function.createDelegate(e, e._onBlur); $addHandler(f, "blur", e._blurHandler); e._changeHandler = Function.createDelegate(e, e._onChange); $addHandler(f, D, e._changeHandler); if (Sys.Browser.agent == Sys.Browser.Opera) { e._timerHandler = Function.createDelegate(e, e._OnTimerTicket); e._timer = new Sys.Timer; e._timer.set_enabled(b); e._timer.set_interval(100); e._timer.add_tick(e._timerHandler); e._SaveText = a; e._SavePosi = c; e._timer.set_enabled(d) } var j = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f); e._InitValue(j.get_Value(), d); if (h) e._onFocus(); else { e._ClearMaskOnLostfocus && j.set_Value(e._getClearMask(j.get_Value())); var k = e._CaptureServerValidators(); if (!k) e._OnInvalidCssClass != a && e.AddCssClassMaskedEdit(e._OnInvalidCssClass) } }, dispose: function () { var a = this, c = a.get_element(); if (a._mouseOutHandler) { $removeHandler(c, F, a._mouseOutHandler); a._mouseOutHandler = g } if (a._mouseMoveHandler) { $removeHandler(c, G, a._mouseMoveHandler); a._mouseMoveHandler = g } if (a._mouseEnterHandler) { $removeHandler(c, H, a._mouseEnterHandler); a._mouseEnterHandler = g } if (a._focusHandler) { $removeHandler(c, C, a._focusHandler); a._focusHandler = g } if (a._focusHandler) { $removeHandler(c, C, a._focusHandler); a._focusHandler = g } if (a._blurHandler) { $removeHandler(c, "blur", a._blurHandler); a._blurHandler = g } if (a._changeHandler) { $removeHandler(c, D, a._changeHandler); a._changeHandler = g } if (a._keypressdown) { $removeHandler(c, r, a._keypressdown); a._keypressdown = g } if (a._keypressHandler) { $removeHandler(c, p, a._keypressHandler); a._keypressHandler = g } if (a._timerHandler) { a._timer.set_enabled(b); a._timerHandler = g; a._timer.dispose(); a._timer = g } Sys.Extended.UI.MaskedEditBehavior.callBaseMethod(a, "dispose") }, _OnTimerTicket: function () { var e = this; e._SaveSymb = a; if (e._InLostfocus) return; e._timer.set_enabled(b); var f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); if (e._SaveText != a) { f.set_Value(e._SaveText); e.setSelectionRange(e._SavePosi, e._SavePosi); e._SaveText = a; e._SavePosi = c; e._SaveMask = f.get_Value() } else { f.get_Value().length != e._EmptyMask.length && f.set_Value(e._SaveMask); e._timer.get_interval() != 100 && e._timer.set_interval(100) } e._timer.set_enabled(d) }, _onChange: function () { !this._FiringOnChange && this._onFocus() }, _onFocus: function () { var e = this, f = e.get_element(); if (f.readOnly || f.disabled) return; if (!e._keypressdown) { e._keypressdown = Function.createDelegate(e, e._onKeyPressdown); $addHandler(f, r, e._keypressdown) } if (!e._keypressHandler) { e._keypressHandler = Function.createDelegate(e, e._onKeyPress); $addHandler(f, p, e._keypressHandler) } e._InLostfocus = b; e._RemoveDivToolTip(); e._OnFocusCssClass != a && e.AddCssClassMaskedEdit(e._OnFocusCssClass); var h = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f); e._initialvalue = h.get_Value(); e._InitValue(h.get_Value(), b); var g = e._getClearMask(), i = b; if (e._MessageValidatorTip && g == a) i = d; if ((e._MaskType == Sys.Extended.UI.MaskedEditType.Time || e._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) && e.get_CultureAMPMPlaceholder() != a && g == a) e._AcceptAmPm && e.InsertAMPM(e.get_CultureAMPMPlaceholder().substring(0, 1)); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && g != a) e._LogicSymbol == q && e._OnFocusCssNegative != a && e.AddCssClassMaskedEdit(e._OnFocusCssNegative); if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) if (e._LogicLastInt != c) e.setSelectionRange(e._LogicLastInt, e._LogicLastInt); else e.setSelectionRange(e._LogicLastPos + 1, e._LogicLastPos + 1); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && g != a) { var j = e._getLastEmptyPosition() + 1; e.setSelectionRange(j, j) } else e.setSelectionRange(e._LogicFirstPos, e._LogicFirstPos); e.ShowTooltipMessage(b); i && e.ShowTooltipMessage(d) }, _PeforformValidLostFocus: function (g) { var c = this, e = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(c.get_element()), d = c._getClearMask(e.get_Value()); d == a && c._MaskType == Sys.Extended.UI.MaskedEditType.Number && c._LogicSymbol == q && c.InsertSignal("+"); if (d != a && c._AutoComplete && c._MaskType == Sys.Extended.UI.MaskedEditType.Date) c.AutoFormatDate(); else if (d != a && c._AutoComplete && c._MaskType == Sys.Extended.UI.MaskedEditType.Time) c.AutoFormatTime(); else if (d != a && c._AutoComplete && c._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) c.AutoFormatDateTime(); else d != a && c._AutoComplete && c._MaskType == Sys.Extended.UI.MaskedEditType.Number && c.AutoFormatNumber(); if (d != a || g) { c._beforeClearMaskText = e.get_Value(); e.set_Value(c._getClearMask(e.get_Value())) } c.AddCssClassMaskedEdit(a); c._MaskType == Sys.Extended.UI.MaskedEditType.Number && c._LogicSymbol == q && c._OnBlurCssNegative != a && c.AddCssClassMaskedEdit(c._OnBlurCssNegative); c.ShowTooltipMessage(b); c._RemoveDivToolTip(); var f = c._CaptureClientsValidators(); if (!f) { c._OnInvalidCssClass != a && c.AddCssClassMaskedEdit(c._OnInvalidCssClass); if (c._ClearTextOnInvalid) { c._createMask(); e.set_Value(c._EmptyMask) } } return f }, _onBlur: function (f) { var b = this; b._InLostfocus = d; var e = b._PeforformValidLostFocus(d), c = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(b.get_element()); if (e) !b.get_element().readOnly && b._initialvalue != c.get_Value() && f && b._fireChanged(); b._beforeClearMaskText != a && c.set_Value(b._beforeClearMaskText) }, _fireChanged: function () { this._FiringOnChange = d; var a = this.get_element(); if (document.createEventObject) a.fireEvent("onchange"); else if (document.createEvent) { var c = document.createEvent("HTMLEvents"); c.initEvent(D, d, d); a.dispatchEvent(c) } this._FiringOnChange = b }, _onKeyPress: function (l) { var e = this, j = e._KeyCode(l); if (j == 9) return d; if (j == 13) { var m = e._PeforformValidLostFocus(b); e._ErroOnEnter = b; if (!m) e._ErroOnEnter = d; if (Sys.Browser.agent == Sys.Browser.Opera) { var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); e._SaveText = n.get_Value(); e._SavePosi = e._getCurrentPosition(); e._timer.set_enabled(b); e._timer.set_interval(1); e._timer.set_enabled(d) } return m } e._OnFocusCssClass != a && e._ErroOnEnter && e.AddCssClassMaskedEdit(e._OnFocusCssClass); e._ErroOnEnter = b; if (!e._isNormalChar(l, j)) { e._ExecuteNav(l, j); return b } var f = e._deleteTextSelection(); if (f == c) f = e._getCurrentPosition(); var g = String.fromCharCode(j); if (e._MaskType == Sys.Extended.UI.MaskedEditType.Date && g == e.get_CultureDatePlaceholder()) e._AdjustElementDate(); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Time && g == e.get_CultureTimePlaceholder()) e._AdjustElementTime(); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.DateTime && (g == e.get_CultureTimePlaceholder() || g == e.get_CultureDatePlaceholder())) e._AdjustElementDateTime(g); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.LeftToRight && g == e.get_CultureDecimalPlaceholder() && f == e._LogicLastInt) e._AdjustElementDecimalLTR(); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft && g == e.get_CultureDecimalPlaceholder() && f == e._LogicLastInt) e._AdjustElementDecimalRTL(); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && g == e.get_CultureDecimalPlaceholder() && f != e._LogicLastInt) e._MoveDecimalPos(); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.LeftToRight && g == e.get_CultureThousandsPlaceholder()) e._MoveThousandLTR(); else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft && g == e.get_CultureThousandsPlaceholder()) e._MoveThousandRTL(); else if ((e._MaskType == Sys.Extended.UI.MaskedEditType.Time || e._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) && e.get_CultureFirstLettersAMPM().toUpperCase().indexOf(g.toUpperCase()) != c) { if (e._AcceptAmPm) { e.InsertAMPM(g); e.setSelectionRange(f, f) } } else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && e._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(g) != c) if (Sys.Browser.agent != Sys.Browser.Opera) { e.InsertSignal(g); e.setSelectionRange(f, f) } else if (e._SaveSymb == a) { e.InsertSignal(g); e.setSelectionRange(f, f); e._SaveSymb = g; e._timer.set_enabled(b); e._timer.set_interval(1); e._timer.set_enabled(d) } else e._SaveSymb = a; else { var p = f; f = e._getNextPosition(f); var i = f; if (e._LogicLastInt != c && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) { if (p == e._LogicLastInt) i = e._getLastEmptyPosition() } else if (f >= e._LogicLastPos + 1 && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) i = e._getLastEmptyPosition(); if (e._processKey(i, g)) { e._MessageValidatorTip && e.ShowTooltipMessage(b); if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.LeftToRight) { e._insertContent(g, i); f = e._getNextPosition(i + 1) } else if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) if (e._LogicLastInt == c) if (f < e._LogicLastPos + 1) { e._insertContent(g, i); f = e._getNextPosition(i + 1) } else { e._insertContentRight(g); f = e._LogicLastPos + 1 } else if (p != e._LogicLastInt) { e._insertContent(g, i); f = e._getNextPosition(i + 1) } else { var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()), k = e._getClearMask(n.get_Value()); if (k != a) { var q = k.indexOf(e.get_CultureDecimalPlaceholder()); if (q != c) { var o = k.substring(0, q); if (o == h || o == "-0") { e.setSelectionRange(e._LogicLastInt - 1, e._LogicLastInt); e._deleteTextSelection(); f = e._LogicLastInt; e.setSelectionRange(f, f) } } } if (k == a && g == h) f = e._LogicLastInt; else { e._insertContentRight(g); f = e._LogicLastInt } } e.setSelectionRange(f, f) } } e._SetCancelEvent(l); return b }, _onKeyPressdown: function (c) { var a = this; a._InLostfocus && a._onFocus(c); var e = a._KeyCode(c); if (e == 9) return d; if (e == 13) return d; if (!a._isNormalChar(c, e)) a._ExecuteNav(c, e); else if (Sys.Browser.agent == Sys.Browser.Opera) if (c.rawEvent.shiftKey && !c.rawEvent.ctrlKey && !c.rawEvent.altKey && c.rawEvent.keyCode == 45) { var f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(a.get_element()); a._SaveText = f.get_Value(); a._SavePosi = a._getCurrentPosition(); a._timer.set_enabled(b); a._timer.set_interval(1); a._timer.set_enabled(d) } }, _onMouseOut: function () { this._RemoveDivToolTip() }, _onMouseMove: function (c) { var b = this; (b._InLostfocus || b._ErroOnEnter) && b._ExternalMessageError != a && b._ShowDivToolTip(c) }, _onMouseover: function (c) { var b = this; !$get(u + b.get_element().id) && b._CaptureServerValidators(); (b._InLostfocus || b._ErroOnEnter) && b._ExternalMessageError != a && b._createDivToolTip(c, b._ExternalMessageError) }, _ShowDivToolTip: function (d) { var a = this, b = $get(u + a.get_element().id); if (!b) { a._createDivToolTip(d, a._ExternalMessageError); b = $get(u + a.get_element().id) } var c = a._GetMousePos(d); b.style.left = c.x + 1 + B; b.style.top = c.y + 1 + B }, _GetMousePos: function (b) { var a = "number", c = 0, d = 0; if (typeof window.pageYOffset == a) { d = window.pageYOffset; c = window.pageXOffset } else if (document.body && (document.body.scrollLeft || document.body.scrollTop)) { d = document.body.scrollTop; c = document.body.scrollLeft } else if (document.documentElement && (document.documentElement.scrollLeft || document.documentElement.scrollTop)) { d = document.documentElement.scrollTop; c = document.documentElement.scrollLeft } var e = 0, f = 0; if (typeof b.pageX == a) { e = b.pageX; f = b.pageY } else if (typeof b.clientX == a) { e = b.clientX; f = b.clientY } return { x: e + c, y: f + d } }, _RemoveDivToolTip: function () { var a = $get(u + this.get_element().id); a && document.body.removeChild(a) }, _createDivToolTip: function (e, f) { var c = this, g = $get(u + c.get_element().id); if (!g) { var b, d = c._GetMousePos(e); b = document.createElement("div"); b.id = u + c.get_element().id; b.style.position = "absolute"; b.style.left = d.x + 2 + B; b.style.top = d.y + 2 + B; b.style.zIndex = 99999; if (c._CssMessageErrorFloat == a) { b.style.padding = "3px 3px 3px 3px"; b.style.border = "Solid 1px #000000"; b.style.backgroundColor = "#FFFFEA"; b.style.fontWeight = "normal"; b.style.fontSize = "12px"; b.style.fontFamily = "Arial" } else b.className = c._CssMessageErrorFloat; b.innerHTML = f; b = document.body.insertBefore(b, document.body.firstChild) } }, _ExecuteNav: function (g, h) { var e = this; if (g.type == r) if (Sys.Browser.agent == Sys.Browser.InternetExplorer) { if ((h == 86 || h == 118) && !g.shiftKey && g.ctrlKey && !g.altKey) { e._SetCancelEvent(g); e._PasteFromClipBoard(); return } if (g.shiftKey && !g.ctrlKey && !g.altKey && g.keyCode == 45) { e._SetCancelEvent(g); e._PasteFromClipBoard(); return } } if (Sys.Browser.agent != Sys.Browser.InternetExplorer || g.type == p) { if (g.rawEvent.shiftKey && !g.rawEvent.ctrlKey && !g.rawEvent.altKey && g.rawEvent.keyCode == 45) { e._SetCancelEvent(g); e._PasteFromClipBoard(); return } if (g.type == p && (h == 86 || h == 118) && !g.shiftKey && g.ctrlKey && !g.altKey) { e._SetCancelEvent(g); e._PasteFromClipBoard(); return } } var f; if (Sys.Browser.agent == Sys.Browser.InternetExplorer || g.type == p || Sys.Browser.agent != Sys.Browser.Firefox && g.type == r) if (h == 8) { e._SetCancelEvent(g); f = e._deleteTextSelection(); if (f != c) e.setSelectionRange(f, f); else { f = e._getCurrentPosition(); e._backspace(f); f = e._getPreviousPosition(f - 1); e.setSelectionRange(f, f) } var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); e._MessageValidatorTip && n.get_Value() == e._EmptyMask && e.ShowTooltipMessage(d); if (Sys.Browser.agent == Sys.Browser.Opera) { e._SaveText = n.get_Value(); e._SavePosi = f; e._timer.set_enabled(b); e._timer.set_interval(1); e._timer.set_enabled(d) } } else if (h == 46 || h == 127) { e._SetCancelEvent(g); var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); f = e._deleteTextSelection(); if (f == c) { f = e._getCurrentPosition(); if (!e._isValidMaskedEditPosition(f)) if (f != e._LogicLastInt && e._InputDirection != Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) f = e._getNextPosition(f); e._deleteAtPosition(f, b) } else if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) { var l = e._getClearMask(n.get_Value()); if (l != a) { l = l.replace(new RegExp(j + e.get_CultureThousandsPlaceholder() + i, k), a) + a; if (l.substring(l.length - 1, l.length) == e.get_CultureDecimalPlaceholder()) { l = l.substring(0, l.length - 1); e.loadValue(l, e._LogicLastInt) } else e.loadValue(l, e._LogicLastPos) } } e.setSelectionRange(f, f); e._MessageValidatorTip && n.get_Value() == e._EmptyMask && e.ShowTooltipMessage(d); if (Sys.Browser.agent == Sys.Browser.Opera) { e._SaveText = n.get_Value(); e._SavePosi = f; e._timer.set_enabled(b); e._timer.set_interval(1); e._timer.set_enabled(d) } } else if (g.ctrlKey) { if (h == 39 || h == 35 || h == 34) { e._DirectSelText = "R"; if (Sys.Browser.agent == Sys.Browser.Opera) return; e._SetCancelEvent(g); f = e._getCurrentPosition(); e.setSelectionRange(f, e._LogicLastPos + 1) } else if (h == 37 || h == 36 || h == 33) { e._DirectSelText = "L"; if (Sys.Browser.agent == Sys.Browser.Opera) return; e._SetCancelEvent(g); f = e._getCurrentPosition(); e.setSelectionRange(e._LogicFirstPos, f) } } else if (h == 35 || h == 34) { e._DirectSelText = "R"; if (Sys.Browser.agent == Sys.Browser.Opera) return; e._SetCancelEvent(g); if (g.shiftKey) { f = e._getCurrentPosition(); e.setSelectionRange(f, e._LogicLastPos + 1) } else e.setSelectionRange(e._LogicLastPos + 1, e._LogicLastPos + 1) } else if (h == 36 || h == 33) { e._DirectSelText = "L"; if (Sys.Browser.agent == Sys.Browser.Opera) return; e._SetCancelEvent(g); if (g.shiftKey) { f = e._getCurrentPosition(); e.setSelectionRange(e._LogicFirstPos, f) } else e.setSelectionRange(e._LogicFirstPos, e._LogicFirstPos) } else if (h == 37) { e._DirectSelText = "L"; if (Sys.Browser.agent == Sys.Browser.Opera) return; e._SetCancelEvent(g); if (g.shiftKey) { var m = e._GetBoundSelection(); if (m) { if (m.left > e._LogicFirstPos) m.left--; e.setSelectionRange(m.left, m.right) } else { var o = e._getCurrentPosition(); o > e._LogicFirstPos && e.setSelectionRange(o - 1, o) } } else { f = e._getCurrentPosition() - 1; if (f < e._LogicFirstPos) f = e._LogicFirstPos; e.setSelectionRange(f, f) } if (Sys.Browser.agent == Sys.Browser.Opera) { var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); e._SaveText = n.get_Value(); e._SavePosi = f; e._timer.set_enabled(b); e._timer.set_interval(1); e._timer.set_enabled(d) } } else if (h == 39) { e._DirectSelText = "R"; if (Sys.Browser.agent == Sys.Browser.Opera) return; e._SetCancelEvent(g); if (g.shiftKey) { var m = e._GetBoundSelection(); if (m) { if (m.right < e._LogicLastPos + 1) m.right++; e.setSelectionRange(m.left, m.right) } else { o = e._getCurrentPosition(); o < e._LogicLastPos + 1 && e.setSelectionRange(o, o + 1) } } else { f = e._getCurrentPosition() + 1; if (f > e._LogicLastPos + 1) f = e._LogicLastPos + 1; e.setSelectionRange(f, f) } if (Sys.Browser.agent == Sys.Browser.Opera) { var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); e._SaveText = n.get_Value(); e._SavePosi = f; e._timer.set_enabled(b); e._timer.set_interval(1); e._timer.set_enabled(d) } } else if (h == 27) { e._SetCancelEvent(g); var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()); if (e._EmptyMask == e._initialvalue) n.set_Value(a); else n.set_Value(e._initialvalue); e._onFocus() } e._SetCancelEvent(g) }, _backspace: function (a) { var c = this, e = b; if (a > c._LogicFirstPos) { var f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(c.get_element()), g = f.get_Value(); a = c._getPreviousPosition(a - 1); c._deleteAtPosition(a, d); e = d } return e }, _deleteAtPosition: function (p, D) { var g = this, y = b, x = g._LogicLastPos + 1; if (g._LogicLastInt != c && g._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) x = g._LogicLastInt; var t = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(g.get_element()); if (D == b && g._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft && p == x) { var l = g._getClearMask(t.get_Value()); if (l != a) { y = d; l = l.replace(new RegExp(j + g.get_CultureThousandsPlaceholder() + i, k), a) + a; if (l.substring(l.length - 1, l.length) == g.get_CultureDecimalPlaceholder()) l = l.substring(0, l.length - 1); var r = l.split(g.get_CultureDecimalPlaceholder()); if (g._LogicLastInt != c && r[0] != a) { r[0] = r[0].substring(0, r[0].length - 1); l = r[0]; if (r.length = 2) l += g.get_CultureDecimalPlaceholder() + r[1] } else l = l.substring(0, l.length - 1); l += g._LogicSymbol; g.loadValue(l, x) } } else { var h = t.get_Value().substring(g._LogicFirstPos, g._LogicLastPos + 1), m = g._LogicTextMask.substring(g._LogicFirstPos, g._LogicLastPos + 1), q = 0, u = p - g._LogicFirstPos; if (g._isValidMaskedEditPosition(p)) { y = d; if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { var o = g._SplitDateTime(h), B = p - g._LogicFirstPos; if (B > o[0].length) { h = o[1]; q = o[0].length + 1; m = m.substring(q); u -= q } else { h = o[0]; m = m.substring(0, o[0].length) } } var v = h.substring(u + 1), w = m.substring(u + 1); h = h.substring(0, u) + g._PromptChar; m = m.substring(0, u) + g._LogicPrompt; for (var n = 0; n < parseInt(v.length, f) ; n++) if (g._isValidMaskedEditPosition(p + 1 + n)) { h += g._PromptChar; m += g._LogicPrompt } else { h += v.substring(n, n + 1); m += w.substring(n, n + 1) } var s = g._getNextPosition(p); for (n = 0; n < parseInt(v.length, f) ; n++) if (g._isValidMaskedEditPosition(p + 1 + n) && w.substring(n, n + 1) != g._LogicPrompt) { h = h.substring(0, s - g._LogicFirstPos - q) + v.substring(n, n + 1) + h.substring(s + 1 - g._LogicFirstPos - q); m = m.substring(0, s - g._LogicFirstPos - q) + w.substring(n, n + 1) + m.substring(s + 1 - g._LogicFirstPos - q); s = g._getNextPosition(s + 1) } if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { var C = t.get_Value().substring(g._LogicFirstPos, g._LogicLastPos + 1), A = g._LogicTextMask.substring(g._LogicFirstPos, g._LogicLastPos + 1), o = g._SplitDateTime(C), B = p - g._LogicFirstPos; if (B > o[0].length) { h = o[0] + e + h; m = A.substring(0, q) + m } else { h = h + e + o[1]; m = m + A.substring(o[0].length) } } var z = t.get_Value(); h = z.substring(0, g._LogicFirstPos) + h + z.substring(g._LogicLastPos + 1); g._LogicTextMask = g._LogicTextMask.substring(0, g._LogicFirstPos) + m + g._LogicTextMask.substring(g._LogicLastPos + 1); t.set_Value(h) } } return y }, _SplitDateTime: function (a) { var b = this, c = []; if (a.charAt(b._LogicDateTimeSepPos) == e) { c[0] = a.substring(b._LogicFirstPos, b._LogicDateTimeSepPos); c[1] = a.substring(b._LogicDateTimeSepPos + 1) } else c[0] = a; return c }, _ShowModalClipBoardInput: function () { return prompt(this._ClipboardText, a) }, _PasteFromClipBoard: function () { var e = this, j = g, f, v = c, u = c; if (Sys.Browser.agent == Sys.Browser.InternetExplorer) j = window.clipboardData.getData("Text"); else { var n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e.get_element()), p = n.get_Value(), k = e._GetBoundSelection(), f = e._getCurrentPosition(), q = e._AutoComplete, t = e._ClearTextOnInvalid, r = e._ClearMaskOnLostfocus, w = e._DirectSelText; e._AutoComplete = b; e._ClearTextOnInvalid = b; e._ClearMaskOnLostfocus = b; j = e._ShowModalClipBoardInput(); e._AutoComplete = q; e._ClearTextOnInvalid = t; e._ClearMaskOnLostfocus = r; n.set_Value(p); if (k) e.setSelectionRange(k.left, k.right); else e.setSelectionRange(f, f) } if (j == g || j == a) return; if (j.length > e._maskvalid.length) j = j.substring(0, e._maskvalid.length); f = e._deleteTextSelection(); if (f == c) { f = e._getCurrentPosition(); if (k) f = k.left } e.setSelectionRange(f, f); var m = b; if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft && e._LogicLastInt != c) m = d; for (var l = 0, l = 0; l < j.length; l++) { var i = j.substring(l, l + 1), h = f; if (m) h = e._getLastEmptyPosition(); if ((e._MaskType == Sys.Extended.UI.MaskedEditType.Time || e._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) && e.get_CultureFirstLettersAMPM().toUpperCase().indexOf(i.toUpperCase()) != c) { if (e._AcceptAmPm) { e.InsertAMPM(i); e.setSelectionRange(f, f) } } else if (e._MaskType == Sys.Extended.UI.MaskedEditType.Number && e._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(i) != c) { e.InsertSignal(i); e.setSelectionRange(f, f) } else { var o = f; f = e._getNextPosition(f); var h = f; if (e._LogicLastInt != c && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) { if (o == e._LogicLastInt) h = e._getLastEmptyPosition() } else if (f >= e._LogicLastPos + 1 && e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) h = e._getLastEmptyPosition(); if (e._processKey(h, i)) { e._MessageValidatorTip && e.ShowTooltipMessage(b); if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.LeftToRight) { e._insertContent(i, h); f = e._getNextPosition(h + 1) } else if (e._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) if (e._LogicLastInt == c) if (f < e._LogicLastPos + 1) { e._insertContent(i, h); f = e._getNextPosition(h + 1) } else { e._insertContentRight(i); f = e._LogicLastPos + 1 } else if (o != e._LogicLastInt) { e._insertContent(i, h); f = e._getNextPosition(h + 1) } else { e._insertContentRight(i); f = e._LogicLastInt } e.setSelectionRange(f, f) } } } m && e.setSelectionRange(e._LogicLastInt, e._LogicLastInt) }, _MoveDecimalPos: function () { var b = this, g = b.get_element(), e = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(g), a = b._LogicFirstPos, f = b._LogicLastPos, d = c; while (a < f) { if (e.get_Value().substring(a, a + 1) == b.get_CultureDecimalPlaceholder()) { d = a; break } a++ } if (d == c) return; b.setSelectionRange(d, d) }, _MoveThousandLTR: function () { var b = this, h = b.get_element(), f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(h), g = b._getCurrentPosition(), e = b._LogicLastPos, a = g + 1, d = c; while (a < e) { if (f.get_Value().substring(a, a + 1) == b.get_CultureThousandsPlaceholder()) { d = a; break } a++ } if (d == c) { var a = 0; e = g; while (a < e) { if (f.get_Value().substring(a, a + 1) == b.get_CultureThousandsPlaceholder()) { d = a; break } a++ } if (d == c) return } b.setSelectionRange(d, d) }, _MoveThousandRTL: function () { var b = this, h = b.get_element(), f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(h), g = b._getCurrentPosition(), e = b._LogicFirstPos, a = g - 1, d = c; while (a > e) { if (f.get_Value().substring(a, a + 1) == b.get_CultureThousandsPlaceholder()) { d = a; break } a-- } if (d == c) { a = b._LogicLastPos; e = g; while (a > e) { if (f.get_Value().substring(a, a + 1) == b.get_CultureThousandsPlaceholder()) { d = a; break } a-- } if (d == c) return } b.setSelectionRange(d, d) }, _AdjustElementDecimalLTR: function () { var b = this, p = b.get_element(), g = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(p), m = b._getCurrentPosition(); if (g.get_Value().substring(m).indexOf(b.get_CultureDecimalPlaceholder()) == c) return; var l = g.get_Value().substring(b._LogicFirstPos, b._LogicLastPos + 1), e = l.indexOf(b.get_CultureDecimalPlaceholder()); if (e == c) return; var d, f = b._getClearMask(g.get_Value()); if (f != a) { f = f.replace(new RegExp(j + b.get_CultureThousandsPlaceholder() + i, k), a) + a; d = f.split(b.get_CultureDecimalPlaceholder()) } else d = b.get_CultureDecimalPlaceholder().split(b.get_CultureDecimalPlaceholder()); if (d[0] == a) d[0] = h; var o = l.length - e - 1; while (d[1].length < o) d[1] += h; var n = b._InputDirection; b._InputDirection = Sys.Extended.UI.MaskedEditInputDirections.RightToLeft; b.loadValue(d[0] + b.get_CultureDecimalPlaceholder() + d[1], b._LogicLastPos); b._InputDirection = n; e += b._LogicFirstPos + 1; b.setSelectionRange(e, e) }, _AdjustElementDecimalRTL: function () { var b = this, g = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(b.get_element()), l = g.get_Value().substring(b._LogicFirstPos, b._LogicLastPos + 1), e = l.indexOf(b.get_CultureDecimalPlaceholder()); if (e == c) return; var m = b._getCurrentPosition(); if (e + b._LogicFirstPos >= m) { b._AdjustElementDecimalLTR(); return } var d, f = b._getClearMask(g.get_Value()); if (f != a) { f = f.replace(new RegExp(j + b.get_CultureThousandsPlaceholder() + i, k), a) + a; d = f.split(b.get_CultureDecimalPlaceholder()) } else d = b.get_CultureDecimalPlaceholder().split(b.get_CultureDecimalPlaceholder()); if (d[0] == a) d[0] = h; var o = l.length - e - 1; while (d[1].length < o) d[1] += h; var n = b._InputDirection; b._InputDirection = Sys.Extended.UI.MaskedEditInputDirections.RightToLeft; b.loadValue(d[0] + b.get_CultureDecimalPlaceholder() + d[1], b._LogicLastPos); b._InputDirection = n; e += b._LogicFirstPos + 1; b.setSelectionRange(e, e) }, _AdjustTime: function (c, l) { for (var g = d, e = 0; e < parseInt(c.length, f) ; e++) if (c.substring(e, e + 1) != this._PromptChar) g = b; if (g) return l; var m = c.length; c = c.replace(new RegExp(j + this._PromptChar + i, k), a) + a; while (c.length < m) c = h + c; return c }, _AdjustElementTime: function () { var b = this, o = b.get_element(), n = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(o), g = a, i = b._getCurrentPosition() - b._LogicFirstPos, j = b._maskvalid, c = i + b._LogicFirstPos, d = 0; if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { d = j.split(e)[0].length + 1; if (i < d) { c = d + b._LogicFirstPos; b.setSelectionRange(c, c); return } j = j.split(e)[1]; i -= d } j = j.split(":"); if (i <= 1) { g = "H"; c = 3 + b._LogicFirstPos + d } else if (i >= 2 && i <= 4 && j.length == 2) { g = l; c = d + b._LogicFirstPos } else if (i >= 2 && i <= 4 && j.length == 3) { g = l; c = 6 + b._LogicFirstPos + d } else if (j.length == 3) { g = "S"; c = d + b._LogicFirstPos } if (g == a) return; var k = n.get_Value().substring(b._LogicFirstPos, b._LogicLastPos + 1); if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) k = b._SplitDateTime(k)[1]; var h = k.split(b.get_CultureTimePlaceholder()), m = b._GetTimeElementText(g), f; if (g == "H") { f = m + b.get_CultureTimePlaceholder() + h[1]; if (h.length == 3) f += b.get_CultureTimePlaceholder() + h[2] } else if (g == l) { f = h[0] + b.get_CultureTimePlaceholder() + m; if (h.length == 3) f += b.get_CultureTimePlaceholder() + h[2] } else if (g == "S") { f = h[0] + b.get_CultureTimePlaceholder() + h[1]; f += b.get_CultureTimePlaceholder() + m } if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) f = n.get_Value().substring(b._LogicFirstPos, d) + f; b.loadMaskValue(f, b._LogicFirstPos, b._LogicSymbol); b.setSelectionRange(c, c) }, _GetTimeElementText: function (g) { var d = this, b, f = d._LogicTextMask.substring(d._LogicFirstPos, d._LogicLastPos + 1); if (d._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) f = f.substring(d._maskvalid.split(e)[0].length + 1); var c = f.split(d.get_CultureTimePlaceholder()); c[0] = c[0].replace(new RegExp(j + d._LogicPrompt + i, k), d._PromptChar) + a; b = c[0].replace(new RegExp(j + d._PromptChar + i, k), a) + a; if (b != a && b.length < 2) { b = h + b; c[0] = b } c[1] = c[1].replace(new RegExp(j + d._LogicPrompt + i, k), d._PromptChar) + a; b = c[1].replace(new RegExp(j + d._PromptChar + i, k), a) + a; if (b != a && b.length < 2) { b = h + b; c[1] = b } if (c.length == 3) { c[2] = c[2].replace(new RegExp(j + d._LogicPrompt + i, k), d._PromptChar) + a; b = c[2].replace(new RegExp(j + d._PromptChar + i, k), a) + a; if (b != a && b.length < 2) { b = h + b; c[2] = b } } return g == "H" ? c[0] : g == l ? c[1] : c[2] }, _AdjustElementDateTime: function (b) { var a = this; b == a.get_CultureDatePlaceholder() && a._AdjustElementDate(); b == a.get_CultureTimePlaceholder() && a._AdjustElementTime() }, _AdjustElementDate: function () { var b = this, u = b.get_element(), p = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(u), k = p.get_Value().substring(b._LogicFirstPos, b._LogicLastPos + 1); if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) k = b._SplitDateTime(k)[0]; var i = k.split(b.get_CultureDatePlaceholder()), g = a, d = b._getCurrentPosition() - b._LogicFirstPos, f = d + b._LogicFirstPos, h = b._maskvalid.indexOf(E) != c ? 2 : 0; if (b.get_CultureDateFormat() == w) if (d <= 1) { g = m; f = 3 + b._LogicFirstPos } else if (d >= 2 && d <= 4) { g = l; f = 6 + b._LogicFirstPos } else { if (d > 8 + h && b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { b.setSelectionRange(b._LogicFirstPos, b._LogicFirstPos); return } g = n; f = b._LogicFirstPos } else if (b.get_CultureDateFormat() == t) if (d <= 1) { g = l; f = 3 + b._LogicFirstPos } else if (d >= 2 && d <= 4) { g = m; f = 6 + b._LogicFirstPos } else { if (d > 8 + h && b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { b.setSelectionRange(b._LogicFirstPos, b._LogicFirstPos); return } g = n; f = b._LogicFirstPos } else if (b.get_CultureDateFormat() == x) if (d <= 1) { g = m; f = 3 + b._LogicFirstPos } else if (d >= 2 && d <= 4 + h) { g = n; f = 6 + h + b._LogicFirstPos } else { g = l; f = b._LogicFirstPos } else if (b.get_CultureDateFormat() == y) if (d <= 1) { g = l; f = 3 + b._LogicFirstPos } else if (d >= 2 && d <= 4 + h) { g = n; f = 6 + h + b._LogicFirstPos } else { g = m; f = b._LogicFirstPos } else if (b.get_CultureDateFormat() == z) if (d <= 1 + h) { g = n; f = 3 + h + b._LogicFirstPos } else if (d >= 2 + h && d <= 4 + h) { g = l; f = 6 + h + b._LogicFirstPos } else { g = m; f = b._LogicFirstPos } else if (b.get_CultureDateFormat() == A) if (d <= 1 + h) { g = n; f = 3 + h + b._LogicFirstPos } else if (d >= 2 + h && d <= 4 + h) { g = m; f = 6 + h + b._LogicFirstPos } else { g = l; f = b._LogicFirstPos } var r = b._GetDateElementText(g); i[b.get_CultureDateFormat().indexOf(g)] = r; var o = i[0] + b.get_CultureDatePlaceholder() + i[1] + b._CultureDatePlaceholder + i[2]; if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { var s = p.get_Value().substring(b._LogicFirstPos, b._LogicLastPos + 1), q = b._SplitDateTime(s), j = q[1].split(e); if (j.length == 2) o += e + j[0] + e + j[1]; else o += e + q[1] } b.loadMaskValue(o, b._LogicFirstPos, b._LogicSymbol); b.setSelectionRange(f, f) }, _GetDateElementText: function (p) { var e = this, f, g; if (e._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { var o = e._SplitDateTime(e._LogicTextMask.substring(e._LogicFirstPos, e._LogicLastPos + 1))[0]; g = o.split(e.get_CultureDatePlaceholder()) } else g = e._LogicTextMask.substring(e._LogicFirstPos, e._LogicLastPos + 1).split(e.get_CultureDatePlaceholder()); g[e.get_CultureDateFormat().indexOf(m)] = g[e.get_CultureDateFormat().indexOf(m)].replace(new RegExp(j + e._LogicPrompt + i, k), e._PromptChar) + a; f = g[e.get_CultureDateFormat().indexOf(m)].replace(new RegExp(j + e._PromptChar + i, k), a) + a; if (f != a && f.length < 2) { f = h + f; g[e.get_CultureDateFormat().indexOf(m)] = f } g[e.get_CultureDateFormat().indexOf(l)] = g[e.get_CultureDateFormat().indexOf(l)].replace(new RegExp(j + e._LogicPrompt + i, k), e._PromptChar) + a; f = g[e.get_CultureDateFormat().indexOf(l)].replace(new RegExp(j + e._PromptChar + i, k), a) + a; if (f != a && f.length < 2) { f = h + f; g[e.get_CultureDateFormat().indexOf(l)] = f } var q = e._maskvalid.indexOf(E) != c ? d : b; g[e.get_CultureDateFormat().indexOf(n)] = g[e.get_CultureDateFormat().indexOf(n)].replace(new RegExp(j + e._LogicPrompt + i, k), e._PromptChar) + a; f = g[e.get_CultureDateFormat().indexOf(n)].replace(new RegExp(j + e._PromptChar + i, k), a) + a; if (q) { if (f != a && f.length < 4) { f = e._Century.toString().substr(0, f.length) + f; g[e.get_CultureDateFormat().indexOf(n)] = f } } else if (f != a && f.length < 2) { f = h + f; g[e.get_CultureDateFormat().indexOf(n)] = f } return g[e.get_CultureDateFormat().indexOf(p)] }, _GetBoundSelection: function () { var d = g, b = this.get_element(); if (b.setSelectionRange) { if (b.selectionStart != b.selectionEnd) d = { left: parseInt(b.selectionStart, f), right: parseInt(b.selectionEnd, f) } } else if (document.selection) { var c = document.selection.createRange(); if (c.text != a) { var j = parseInt(c.text.length, f); c.text = String.fromCharCode(3) + c.text; var e = b.createTextRange(); e.findText(String.fromCharCode(3)); e.select(); var i = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(b), h = parseInt(i.get_Value().indexOf(String.fromCharCode(3)), f); document.selection.clear(); d = { left: h, right: h + j } } } return d }, _deleteTextSelection: function () { var g = this, e = g.get_element(), m = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e), j = m.get_Value(), k = c, h = c, n = b; if (e.setSelectionRange) { if (e.selectionStart != e.selectionEnd) { var r = parseInt(e.selectionStart, f), q = parseInt(e.selectionEnd, f); n = d; k = q - r; h = e.selectionStart; e.selectionEnd = e.selectionStart } } else if (document.selection) { var o = document.selection.createRange(); if (o.text != a) { n = d; var l = o.text + String.fromCharCode(3); o.text = l; var p = e.createTextRange(); p.findText(l); p.select(); h = m.get_Value().indexOf(l); document.selection.clear(); k = parseInt(l.length, f) - 1 } } if (n) { for (var i = 0; i < k; i++) if (g._isValidMaskedEditPosition(h + i)) { j = j.substring(0, h + i) + g._PromptChar + j.substring(h + i + 1); g._LogicTextMask = g._LogicTextMask.substring(0, h + i) + g._LogicPrompt + g._LogicTextMask.substring(h + i + 1) } m.set_Value(j); if (g._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) h += k } g._DirectSelText = a; return h }, _isNormalChar: function (a, f) { var e = this, c = d; if (Sys.Browser.agent == Sys.Browser.Opera && a.type == r) e._SaveKeyDown = f; if (f < 32) c = b; else if (Sys.Browser.agent != Sys.Browser.InternetExplorer || a.type == r) switch (f) { case 33: if (typeof a.rawEvent.which != o && a.rawEvent.which != g) if (a.rawEvent.which == 0) c = b; break; case 34: if (typeof a.rawEvent.which != o && a.rawEvent.which != g) if (a.rawEvent.which == 0) c = b; break; case 35: if (Sys.Browser.agent == Sys.Browser.Opera && a.type == p) { if (e._SaveKeyDown == 35) c = b } else c = b; break; case 36: if (Sys.Browser.agent == Sys.Browser.Opera && a.type == p) { if (e._SaveKeyDown == 36) c = b } else c = b; break; case 37: if (typeof a.rawEvent.which != o && a.rawEvent.which != g) if (a.rawEvent.which == 0) c = b; break; case 38: if (typeof a.rawEvent.which != o && a.rawEvent.which != g) if (a.rawEvent.which == 0) c = b; break; case 39: if (typeof a.rawEvent.which != o && a.rawEvent.which != g) if (a.rawEvent.which == 0) c = b; break; case 40: if (typeof a.rawEvent.which != o && a.rawEvent.which != g) if (a.rawEvent.which == 0) c = b; break; case 45: if (typeof a.rawEvent.which != o && a.rawEvent.which != g && Sys.Browser.agent != Sys.Browser.Opera) { if (a.rawEvent.which == 0) c = b } else if (Sys.Browser.agent == Sys.Browser.Opera) c = d; else c = b; break; case 86: case 118: if (!a.rawEvent.shiftKey && a.rawEvent.ctrlKey && !a.rawEvent.altKey) c = b; break; case 46: if (typeof a.rawEvent.which != o && a.rawEvent.which != g && Sys.Browser.agent != Sys.Browser.Opera) { if (a.rawEvent.which == 0) c = b } else if (Sys.Browser.agent == Sys.Browser.Opera && a.type == p) { if (e._SaveKeyDown == 127) c = b } else c = b; break; case 127: c = b } return c }, _KeyCode: function (b) { var a = 0; if (b.keyIdentifier) if (b.charCode == 63272) a = 46; else if (b.charCode == 63302) a = 45; else if (b.charCode == 63233) a = 40; else if (b.charCode == 63235) a = 39; else if (b.charCode == 63232) a = 38; else if (b.charCode == 63234) a = 37; else if (b.charCode == 63273) a = 36; else if (b.charCode == 63275) a = 35; else if (b.charCode == 63277) a = 34; else if (b.charCode == 63276) a = 33; else if (b.charCode == 3) a = 13; if (a == 0) if (b.charCode) a = b.charCode; if (a == 0) a = b.keyCode; return a }, _InitValue: function (c, d) { var b = this; b._LogicSymbol = a; var f = b.get_element(), e = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f); e.set_Value(b._EmptyMask); if (c == b._EmptyMask || c == a) b.loadValue(a, b._LogicFirstPos); else if (b._MaskType == Sys.Extended.UI.MaskedEditType.Date && c != a) c = b.ConvFmtDate(c, d); else if (b._MaskType == Sys.Extended.UI.MaskedEditType.Time && c != a) c = b.ConvFmtTime(c, d); else if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime && c != a) c = b.ConvFmtDateTime(c, d); else if (b._MaskType == Sys.Extended.UI.MaskedEditType.Number && c != a) c = b.ConvFmtNumber(c, d); if (b._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.LeftToRight && c != a) if (b._MaskType == Sys.Extended.UI.MaskedEditType.Number) { b._InputDirection = Sys.Extended.UI.MaskedEditInputDirections.RightToLeft; b.loadValue(c, b._LogicLastPos); b._InputDirection = Sys.Extended.UI.MaskedEditInputDirections.LeftToRight } else b.loadValue(c, b._LogicFirstPos); else b._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft && c != a && b.loadValue(c, b._LogicLastPos); if (b._MaskType == Sys.Extended.UI.MaskedEditType.Number) b._InLostfocus && b._LogicSymbol == q && b._OnBlurCssNegative != a && b.AddCssClassMaskedEdit(b._OnBlurCssNegative) }, loadMaskValue: function (g, d, e) { var a = this; a._createMask(); var i = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(a.get_element()); i.set_Value(a._EmptyMask); if ((a._MaskType == Sys.Extended.UI.MaskedEditType.Time || a._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) && a.get_CultureFirstLettersAMPM().toUpperCase().indexOf(e.toUpperCase().substring(0, 1)) != c) a._AcceptAmPm && a.InsertAMPM(e.toUpperCase().substring(0, 1)); else a._MaskType == Sys.Extended.UI.MaskedEditType.Number && a._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(e) != c && a.InsertSignal(e); for (var b = 0, b = 0; b < parseInt(g.length, f) ; b++) { var h = g.substring(b + d, b + d + 1); a._processKey(d + b, h) && a._insertContent(h, d + b) } }, loadValue: function (i, b) { var a = this, d; a._createMask(); var j = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(a.get_element()); j.set_Value(a._EmptyMask); if (a._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.LeftToRight) for (d = 0; d < parseInt(i.length, f) ; d++) { var g = i.substring(d, d + 1); if ((a._MaskType == Sys.Extended.UI.MaskedEditType.Time || a._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) && a.get_CultureFirstLettersAMPM().toUpperCase().indexOf(g.toUpperCase()) != c) a._AcceptAmPm && a.InsertAMPM(g); else a._MaskType == Sys.Extended.UI.MaskedEditType.Number && a._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(g) != c && a.InsertSignal(g); if (a._processKey(b, g)) { a._insertContent(g, b); b = a._getNextPosition(b + 1) } } else if (a._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) if (b == a._LogicLastInt) { b = a._getPreviousPosition(b); var h = i.split(a.get_CultureDecimalPlaceholder()); for (d = parseInt(h[0].length, f) ; d > 0; d--) { var g = h[0].substring(d - 1, d); a._MaskType == Sys.Extended.UI.MaskedEditType.Number && a._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(g) != c && a.InsertSignal(g); if (a._processKey(b, g)) { a._insertContent(g, b); b = a._getPreviousPosition(b - 1) } } if (h.length > 1) { b = a._getNextPosition(a._LogicLastInt); for (d = 0; d < parseInt(h[1].length, f) ; d++) { var g = h[1].substring(d, d + 1); a._MaskType == Sys.Extended.UI.MaskedEditType.Number && a._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(g) != c && a.InsertSignal(g); if (a._processKey(b, g)) { a._insertContent(g, b); b = a._getNextPosition(b + 1) } } } } else for (d = parseInt(i.length, f) ; d > 0; d--) { var g = i.substring(d - 1, d); if (a._MaskType == Sys.Extended.UI.MaskedEditType.Number && a._AcceptNegative != Sys.Extended.UI.MaskedEditShowSymbol.None && s.indexOf(g) != c) { if (a._LogicSymbol == q) a._LogicSymbol = e; a.InsertSignal(g) } if (a._processKey(b, g)) { a._insertContent(g, b); b = a._getPreviousPosition(b - 1) } } }, AutoFormatNumber: function () { var f = this, e, j = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(f.get_element()); ValueText = j.get_Value(); var i = f._AutoCompleteValue, k = b; for (e = f._LogicFirstPos; e <= f._LogicLastPos; e++) if (f._LogicTextMask.substring(e, e + 1) == f._LogicPrompt) { var g = h; if (i != a) g = i.substring(e - f._LogicFirstPos, e + 1 - f._LogicFirstPos); if (k) { f._LogicTextMask = f._LogicTextMask.substring(0, e) + g + f._LogicTextMask.substring(e + 1); ValueText = ValueText.substring(0, e) + g + ValueText.substring(e + 1) } } else if (f._LogicMask.substring(e, e + 1) == f._LogicPrompt && "123456789".indexOf(f._LogicTextMask.substring(e, e + 1)) != c) k = d; j.set_Value(ValueText); return ValueText }, AutoFormatTime: function () { var g = this, B = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(g.get_element()); ValueText = B.get_Value(); var i = g._AutoCompleteValue; if (i.indexOf(g.get_CultureTimePlaceholder()) == c) i = a; if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { var C = g._SplitDateTime(ValueText), r = C[1].split(e); if (r.length == 2) ValueText = r[0] + e + r[1]; else ValueText = r[0]; if (i != a) { if (i.indexOf(g.get_CultureDatePlaceholder()) == c) i = e + i; var x = g._SplitDateTime(i), u = x[1].split(e); if (u.length == 2) i = u[0] + e + u[1]; else i = x[0] } } var y = new Date, j = y.getHours().toString(); if (j.length < 2) j = h + j; if (i != a) j = i.substring(0, 2); var s = b, q = b, t = a, k = a, p = a; if (g.get_CultureAMPMPlaceholder() != a) { var z = g.get_CultureAMPMPlaceholder().split(g._AMPMPlaceholderSeparator); t = z[0]; k = z[1]; if (i == a) { var p = t; if (j > 12) { j = (parseInt(j, f) - 12).toString(); if (j.length < 2) j = h + j; p = k } } else { p = t; if (i.indexOf(k) != c) p = k } s = d; if (ValueText.indexOf(k) != c && k != a) q = d; if (!g._AcceptAmPm) { p = a; q = b; s = b } else { var A = d; if (ValueText.substring(0, 1) != g._PromptChar || ValueText.substring(1, 2) != g._PromptChar) A = b; if (A && p != a) { s = d; q = b; if (k == p) q = d } } } var o = y.getMinutes().toString(); if (o.length < 2) o = h + o; if (i != a) o = i.substring(3, 5); var w = "00", l, m; if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { l = ValueText.substring(0, 2); l = g._AdjustTime(l, j); m = ValueText.substring(3, 5); m = g._AdjustTime(m, o) } else { l = ValueText.substring(g._LogicFirstPos, g._LogicFirstPos + 2); l = g._AdjustTime(l, j); m = ValueText.substring(g._LogicFirstPos + 3, g._LogicFirstPos + 5); m = g._AdjustTime(m, o) } var v = g._maskvalid; if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) v = v.split(e)[1]; if (v == "99:99:99") { if (i != a) w = i.substring(6); var n; if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { n = ValueText.substring(6, 8); n = g._AdjustTime(n, w) } else { n = ValueText.substring(g._LogicFirstPos + 6, g._LogicFirstPos + 8); n = g._AdjustTime(n, w) } ValueText = l + g.get_CultureTimePlaceholder() + m + g.get_CultureTimePlaceholder() + n } else ValueText = l + g.get_CultureTimePlaceholder() + m; if (q) ValueText += e + k; else if (s) ValueText += e + t; g._MaskType != Sys.Extended.UI.MaskedEditType.DateTime && g.loadValue(ValueText, g._LogicFirstPos); return ValueText }, AutoFormatDateTime: function () { var a = this, b = a.AutoFormatDate(), c = a.AutoFormatTime(); a.loadValue(b + e + c, a._LogicFirstPos); return b + e + c }, AutoFormatDate: function () { var f = this, u = f._GetDateElementText(m).replace(new RegExp(j + f._PromptChar + i, k), a) + a, v = f._GetDateElementText(l).replace(new RegExp(j + f._PromptChar + i, k), a) + a, B = f._GetDateElementText(n).replace(new RegExp(j + f._PromptChar + i, k), a) + a, D = f._maskvalid.indexOf(E) != c ? d : b, r = f._AutoCompleteValue; if (r.indexOf(f.get_CultureDatePlaceholder()) == c) r = a; var p, q, o; if (r == a) { var C = new Date; p = C.getUTCDate().toString(); if (p.length < 2) p = h + p; q = (C.getUTCMonth() + 1).toString(); if (q.length < 2) q = h + q; o = C.getUTCFullYear().toString(); if (!D) o = C.getUTCFullYear().toString().substring(2) } else { var g; if (f._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) { if (r.indexOf(f.get_CultureTimePlaceholder()) == c) r = r + e; var F = f._SplitDateTime(r)[0]; g = F.split(f.get_CultureDatePlaceholder()) } else g = r.split(f.get_CultureDatePlaceholder()); if (f.get_CultureDateFormat() == w) { p = g[0]; q = g[1]; o = g[2] } else if (f.get_CultureDateFormat() == t) { p = g[1]; q = g[0]; o = g[2] } else if (f.get_CultureDateFormat() == x) { p = g[0]; q = g[2]; o = g[1] } else if (f.get_CultureDateFormat() == y) { p = g[2]; q = g[0]; o = g[1] } else if (f.get_CultureDateFormat() == z) { p = g[2]; q = g[1]; o = g[0] } else if (f.get_CultureDateFormat() == A) { p = g[1]; q = g[2]; o = g[0] } if (p.length < 2) p = h + p; if (q.length < 2) q = h + q; if (D) while (o.length < 4) o = h + o; else while (o.length < 2) o = h + o } if (u == a) u = p; if (v == a) v = q; if (B == a) B = o; var s; if (f.get_CultureDateFormat() == w) s = u + f.get_CultureDatePlaceholder() + v + f._CultureDatePlaceholder + B; else if (f.get_CultureDateFormat() == t) s = v + f.get_CultureDatePlaceholder() + u + f._CultureDatePlaceholder + B; else if (f.get_CultureDateFormat() == x) s = u + f.get_CultureDatePlaceholder() + B + f._CultureDatePlaceholder + v; else if (f.get_CultureDateFormat() == y) s = v + f.get_CultureDatePlaceholder() + B + f._CultureDatePlaceholder + u; else if (f.get_CultureDateFormat() == z) s = B + f.get_CultureDatePlaceholder() + v + f._CultureDatePlaceholder + u; else if (f.get_CultureDateFormat() == A) s = B + f.get_CultureDatePlaceholder() + u + f._CultureDatePlaceholder + v; f._MaskType != Sys.Extended.UI.MaskedEditType.DateTime && f.loadValue(s, f._LogicFirstPos); return s }, ConvFmtNumber: function (a) { if (this._maskvalid.split(this.get_CultureDecimalPlaceholder()).length == 2) if (a.substring(a.length - 1, a.length) == this.get_CultureDecimalPlaceholder()) a = a.substring(0, a.length - 1); return a }, ConvFmtTime: function (m, z) { var g = this, y = 0, w = b, x = b, p = a, q = a; if (g.get_CultureAMPMPlaceholder() != a) { p = g.get_CultureAMPMPlaceholder().split(g._AMPMPlaceholderSeparator)[0]; q = g.get_CultureAMPMPlaceholder().split(g._AMPMPlaceholderSeparator)[1] } if (z) { var v = a, u = a; if (g._CultureAMPMPlaceholder != a) { v = g._CultureAMPMPlaceholder.split(g._AMPMPlaceholderSeparator)[0]; u = g._CultureAMPMPlaceholder.split(g._AMPMPlaceholderSeparator)[1] } if (g.get_UserTimeFormat() == Sys.Extended.UI.MaskedEditUserTimeFormat.TwentyFourHour) { m = m.replace(new RegExp(j + v + i, k), a); if (m.indexOf(u) != c) y = 12; m = m.replace(new RegExp(j + u + i, k), a) } } if (m.indexOf(p) != c && p != a) w = d; else if (m.indexOf(q) != c && q != a) x = d; if (p != a) m = m.replace(new RegExp(j + p + i, k), a); if (q != a) m = m.replace(new RegExp(j + q + i, k), a); m = m.replace(new RegExp(j + e + i, k), a); var l = m.split(g.get_CultureTimePlaceholder()), n = g._maskvalid; if (g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) n = n.split(e)[1]; n = n.split(":"); if (parseInt(l.length, f) < 2 || parseInt(l.length, f) > 3) return a; var o = parseInt(l[0], f) + y; o = o.toString(); if (o.length < n[0].length) while (o.length < n[0].length) o = h + o; l[0] = o; var s = parseInt(l[1], f) + a; if (s.length < n[1].length) while (s.length < n[1].length) s = h + s; l[1] = s; var r = a; if (parseInt(l.length, f) == 3) { var t = parseInt(l[2], f) + a; if (t.length < n[2].length) while (t.length < n[2].length) t = h + t; l[2] = t; r = l[0] + g.get_CultureTimePlaceholder() + l[1] + g.get_CultureTimePlaceholder() + l[2] } else r = l[0] + g.get_CultureTimePlaceholder() + l[1]; if (w) r += e + p; else if (x) r += e + q; return r }, ConvFmtDateTime: function (f, c) { var d = this._SplitDateTime(f), b = d[0], a = d[1]; if (a.split(e).length == 2) a += e + a.split(e)[1]; b = this.ConvFmtDate(b, c); a = this.ConvFmtTime(a, c); return b + e + a }, ConvFmtDate: function (o, p) { var b = this, j, c; if (p) { j = o.split(b.get_CultureDatePlaceholder()); c = o.split(b.get_CultureDatePlaceholder()); if (b.get_UserDateFormat() != Sys.Extended.UI.MaskedEditUserDateFormat.None) { if (b.get_UserDateFormat() == Sys.Extended.UI.MaskedEditUserDateFormat.DayMonthYear) b._CultureDateFormat = w; if (b.get_UserDateFormat() == Sys.Extended.UI.MaskedEditUserDateFormat.DayYearMonth) b._CultureDateFormat = x; if (b.get_UserDateFormat() == Sys.Extended.UI.MaskedEditUserDateFormat.MonthDayYear) b._CultureDateFormat = t; if (b.get_UserDateFormat() == Sys.Extended.UI.MaskedEditUserDateFormat.MonthYearDay) b._CultureDateFormat = y; if (b.get_UserDateFormat() == Sys.Extended.UI.MaskedEditUserDateFormat.YearDayMonth) b._CultureDateFormat = A; if (b.get_UserDateFormat() == Sys.Extended.UI.MaskedEditUserDateFormat.YearMonthDay) b._CultureDateFormat = z; c[b.get_CultureDateFormat().indexOf(m)] = j[b._CultureDateFormat.indexOf(m)]; c[b.get_CultureDateFormat().indexOf(l)] = j[b._CultureDateFormat.indexOf(l)]; c[b.get_CultureDateFormat().indexOf(n)] = j[b._CultureDateFormat.indexOf(n)] } } else c = o.split(b.get_CultureDatePlaceholder()); var d = b._maskvalid; if (b._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) d = d.split(e)[0]; d = d.split("/"); if (parseInt(c.length, f) != 3) return a; var g = parseInt(c[b.get_CultureDateFormat().indexOf(m)], f) + a; if (g.length < d[b.get_CultureDateFormat().indexOf(m)].length) while (g.length < d[b.get_CultureDateFormat().indexOf(m)].length) g = h + g; c[b.get_CultureDateFormat().indexOf(m)] = g; var i = parseInt(c[b.get_CultureDateFormat().indexOf(l)], f) + a; if (i.length < d[b.get_CultureDateFormat().indexOf(l)].length) while (i.length < d[b.get_CultureDateFormat().indexOf(l)].length) i = h + i; c[b.get_CultureDateFormat().indexOf(l)] = i; var k = parseInt(c[b.get_CultureDateFormat().indexOf(n)], f) + a; while (k.length < d[b.get_CultureDateFormat().indexOf(n)].length) k = h + k; c[b.get_CultureDateFormat().indexOf(n)] = k; return c[0] + b.get_CultureDatePlaceholder() + c[1] + b._CultureDatePlaceholder + c[2] }, AddCssClassMaskedEdit: function (d) { var b = this, c = b.get_element(); Sys.UI.DomElement.removeCssClass(c, b._OnBlurCssNegative); Sys.UI.DomElement.removeCssClass(c, b._OnFocusCssClass); Sys.UI.DomElement.removeCssClass(c, b._OnFocusCssNegative); Sys.UI.DomElement.removeCssClass(c, b._OnInvalidCssClass); d != a && Sys.UI.DomElement.addCssClass(c, d) }, _SetCancelEvent: function (a) { if (typeof a.returnValue !== o) a.returnValue = b; if (typeof a.cancelBubble !== o) a.cancelBubble = d; typeof a.preventDefault !== o && a.preventDefault(); typeof a.stopPropagation !== o && a.stopPropagation() }, _CaptureServerValidators: function () { var i = d, e = this._ExternalMessageError; if (typeof Page_Validators != o) for (var c = g, h = d, f = 0; f < Page_Validators.length; f++) { c = Page_Validators[f]; if (typeof c.enabled == o || c.enabled != b) if (c.TargetValidator == this.get_element().id) if (!c.isvalid) { if (h) { h = b; e = a } if (typeof c.errormessage == v) { if (e != a) e += ", "; e += c.errormessage } i = b } } this._ExternalMessageError = e; return i }, _CaptureClientsValidators: function () { var f = d, e = a; this._ExternalMessageError = e; if (typeof Page_Validators != o) for (var c = g, h = 0; h < Page_Validators.length; h++) { c = Page_Validators[h]; if (typeof c.enabled == o || c.enabled != b) if (c.TargetValidator == this.get_element().id) if (typeof c.evaluationfunction == "function") { var j = c.evaluationfunction(c); if (!j) { f = b; if (typeof c.errormessage == v) { if (e != a) e += ", "; e += c.errormessage } } } else if (typeof c.evaluationfunction == v) { var j; eval("crtret = " + c.evaluationfunction + "(" + c.id + i); if (!j) { f = b; if (typeof c.errormessage == v) { if (e != a) e += ", "; e += c.errormessage } } } } this._ExternalMessageError = e; return f }, ShowTooltipMessage: function (e) { var c = this; if (typeof Page_Validators == o) return; var f = a; if (!e) { f = c._CurrentMessageError; c._CurrentMessageError = a } for (var d = 0, b = g, d = 0; d < Page_Validators.length; d++) { b = Page_Validators[d]; if (b.TargetValidator == c.get_element().id && b.IsMaskedEdit == "true") { if (!e) { b.innerHTML = f; if (typeof b.display == v) { if (b.display == "None") return; if (b.display == "Dynamic") { b.style.display = b.isvalid ? "none" : "inline"; return } } return } c._CurrentMessageError = b.innerHTML; b.innerHTML = b.TooltipMessage; if (typeof b.display == v) { if (b.display == "None") return; if (b.display == "Dynamic") { b.style.display = "inline"; return } } b.style.visibility = "visible"; return } } }, _insertContent: function (e, b) { var c = this, d = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(c.get_element()), a = d.get_Value(); a = a.substring(0, b) + e + a.substring(b + 1); c._LogicTextMask = c._LogicTextMask.substring(0, b) + e + c._LogicTextMask.substring(b + 1); d.set_Value(a) }, _insertContentRight: function (n) { var a = this, m = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(a.get_element()), d = m.get_Value(), g = a._getLastEmptyPosition(); if (g < 0) return; var b, i = d.substring(g + 1), k = a._LogicTextMask.substring(g + 1); d = d.substring(0, g) + a._PromptChar; a._LogicTextMask = a._LogicTextMask.substring(0, g) + a._LogicPrompt; var e; if (a._LogicLastInt != c && a._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) { var h = i.split(a.get_CultureDecimalPlaceholder()), l = k.split(a.get_CultureDecimalPlaceholder()); for (b = 0; b < parseInt(h[0].length, f) ; b++) if (a._isValidMaskedEditPosition(g + 1 + b)) { d += a._PromptChar; a._LogicTextMask += a._LogicPrompt } else { d += h[0].substring(b, b + 1); a._LogicTextMask += l[0].substring(b, b + 1) } if (h.length = 2) { d += a.get_CultureDecimalPlaceholder() + h[1]; a._LogicTextMask += a.get_CultureDecimalPlaceholder() + l[1] } e = a._getNextPosition(g); for (b = 0; b < parseInt(h[0].length, f) ; b++) if (a._isValidMaskedEditPosition(g + 1 + b) && l[0].substring(b, b + 1) != a._LogicPrompt) { d = d.substring(0, e) + h[0].substring(b, b + 1) + d.substring(e + 1); a._LogicTextMask = a._LogicTextMask.substring(0, e) + l[0].substring(b, b + 1) + a._LogicTextMask.substring(e + 1); e = a._getNextPosition(e + 1) } } else { for (b = 0; b < parseInt(i.length, f) ; b++) if (a._isValidMaskedEditPosition(g + 1 + b)) { d += a._PromptChar; a._LogicTextMask += a._LogicPrompt } else { d += i.substring(b, b + 1); a._LogicTextMask += k.substring(b, b + 1) } e = a._getNextPosition(g); for (b = 0; b < parseInt(i.length, f) ; b++) if (a._isValidMaskedEditPosition(g + 1 + b) && k.substring(b, b + 1) != a._LogicPrompt) { d = d.substring(0, e) + i.substring(b, b + 1) + d.substring(e + 1); a._LogicTextMask = a._LogicTextMask.substring(0, e) + k.substring(b, b + 1) + a._LogicTextMask.substring(e + 1); e = a._getNextPosition(e + 1) } } var j = 0; if (a._LogicLastInt != c && a._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) j = a._LogicLastPos - a._LogicLastInt + 1; d = d.substring(0, a._LogicLastPos - j) + n + d.substring(a._LogicLastPos - j + 1); a._LogicTextMask = a._LogicTextMask.substring(0, a._LogicLastPos - j) + n + a._LogicTextMask.substring(a._LogicLastPos - j + 1); m.set_Value(d) }, InsertAMPM: function (g) { var b = this, f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(b.get_element()), d = f.get_Value(), e = b.get_CultureAMPMPlaceholder().split(b._AMPMPlaceholderSeparator), c = a; if (e.length == 2) { if (g.toUpperCase() == b.get_CultureFirstLetterAM().toUpperCase()) c = e[0]; else if (g.toUpperCase() == b.get_CultureFirstLetterPM().toUpperCase()) c = e[1]; b._LogicSymbol = c } d = d.substring(0, b._LogicLastPos + 2) + c + d.substring(b._LogicLastPos + 2 + c.length); f.set_Value(d) }, InsertSignal: function (d) { var b = this, f = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(b.get_element()), c = f.get_Value(); if (d == q && b._LogicSymbol == q) d = "+"; if (d == "+") { d = e; b._LogicSymbol = a; if (!b._InLostfocus && b._OnFocusCssClass != a) b.AddCssClassMaskedEdit(b._OnFocusCssClass); else !b._InLostfocus && b.AddCssClassMaskedEdit(a) } else { b._LogicSymbol = q; !b._InLostfocus && b._OnFocusCssNegative != a && b.AddCssClassMaskedEdit(b._OnFocusCssNegative) } if (b._AcceptNegative == Sys.Extended.UI.MaskedEditShowSymbol.Left) c = c.substring(0, b._LogicFirstPos - 1) + d + c.substring(b._LogicFirstPos); else if (b._AcceptNegative == Sys.Extended.UI.MaskedEditShowSymbol.Right) c = c.substring(0, b._LogicLastPos + 1) + d + c.substring(b._LogicLastPos + 2); f.set_Value(c) }, setSelectionRange: function (e, f) { var a = "character", b = this.get_element(); if (b.setSelectionRange) b.setSelectionRange(e, f); else if (b.createTextRange) { var c = b.createTextRange(); c.collapse(d); c.moveEnd(a, f); c.moveStart(a, e); c.select() } }, _getLastEmptyPosition: function () { var a = this, b = a._LogicLastPos; if (a._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft && a._LogicLastInt != c) { var d = a._getCurrentPosition(); if (d <= a._LogicLastInt) b = a._LogicLastInt } while (b >= 0 && a._LogicTextMask.substring(b, b + 1) != a._LogicPrompt) b--; return b }, _isValidMaskedEditPosition: function (a) { return this._LogicMask.substring(a, a + 1) == this._LogicPrompt }, _getNextPosition: function (a) { var b = this; while (!b._isValidMaskedEditPosition(a) && a < b._LogicLastPos + 1) a++; if (a > b._LogicLastPos + 1) a = b._LogicLastPos + 1; return a }, _getPreviousPosition: function (a) { var b = this; while (!b._isValidMaskedEditPosition(a) && a > b._LogicFirstPos) a--; if (a < b._LogicFirstPos) a = b._LogicFirstPos; return a }, _getCurrentPosition: function () { var b = this, c = 0, e = b.get_element(); if (e.setSelectionRange) c = parseInt(e.selectionStart, f); else if (document.selection) { var d = document.selection.createRange(); if (d.text != a) { var g = a; if (b._DirectSelText == "R") g = d.text + String.fromCharCode(3); else if (b._DirectSelText == "L") g = String.fromCharCode(3) + d.text; d.text = g; b._DirectSelText == a } else { d.text = String.fromCharCode(3); b._DirectSelText == a } var h = e.createTextRange(); h.findText(String.fromCharCode(3)); h.select(); var i = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e); c = i.get_Value().indexOf(String.fromCharCode(3)); document.selection.clear() } if (c > b._LogicLastPos + 1) c = b._LogicLastPos + 1; if (c < b._LogicFirstPos) c = b._LogicFirstPos; return c }, _processKey: function (f, j) { var g = this, i = g._LogicMaskConv, h; if (i.substring(f, f + 1) == "9") h = g._charNumbers; else if (i.substring(f, f + 1).toUpperCase() == "L") h = g._charLetters + g._charLetters.toLowerCase(); else if (i.substring(f, f + 1) == "$") h = g._charLetters + g._charLetters.toLowerCase() + e; else if (i.substring(f, f + 1).toUpperCase() == "C") h = g._Filtered; else if (i.substring(f, f + 1).toUpperCase() == "A") h = g._charLetters + g._charLetters.toLowerCase() + g._Filtered; else if (i.substring(f, f + 1).toUpperCase() == "N") h = g._charNumbers + g._Filtered; else if (i.substring(f, f + 1) == "?") h = a; else return b; return h == a ? d : !h || h.length == 0 || h.indexOf(j) != c }, _createMask: function () { var g = this; g._MaskConv == a && g._Mask != a && g._convertMask(); var i = g._MaskConv, h = 0, j = a, k = a, l = b; g._LogicTextMask = a; g._QtdValidInput = 0; while (h < parseInt(i.length, f)) { if (i.substring(h, h + 1) == g._charEscape && l == b) l = d; else if (g._CharsEditMask.indexOf(i.substring(h, h + 1)) == c) if (l == d) { l = b; j += i.substring(h, h + 1); k += i.substring(h, h + 1); g._LogicTextMask += g._LogicEscape } else if (g._CharsSpecialMask.indexOf(i.substring(h, h + 1)) != c) { g._QtdValidInput++; if (i.substring(h, h + 1) == "/") { j += g.get_CultureDatePlaceholder(); k += "/"; g._LogicTextMask += g.get_CultureDatePlaceholder() } else if (i.substring(h, h + 1) == ":") { j += g.get_CultureTimePlaceholder(); k += ":"; g._LogicTextMask += g.get_CultureTimePlaceholder() } else if (i.substring(h, h + 1) == ",") { j += g.get_CultureThousandsPlaceholder(); k += "."; g._LogicTextMask += g.get_CultureThousandsPlaceholder() } else if (i.substring(h, h + 1) == ".") { j += g.get_CultureDecimalPlaceholder(); k += ","; g._LogicTextMask += g.get_CultureDecimalPlaceholder() } } else { j += i.substring(h, h + 1); k += i.substring(h, h + 1); g._LogicTextMask += i.substring(h, h + 1) } else if (l == d) { l = b; j += i.substring(h, h + 1); k += i.substring(h, h + 1); g._LogicTextMask += g._LogicEscape } else { g._QtdValidInput++; j += g._PromptChar; k += i.substring(h, h + 1); g._LogicTextMask += g._LogicPrompt } h++ } g._LogicFirstPos = c; g._LogicLastPos = c; g._LogicLastInt = c; g._LogicMask = g._LogicTextMask; for (h = 0; h < parseInt(g._LogicMask.length, f) ; h++) { if (g._LogicFirstPos == c && g._LogicMask.substring(h, h + 1) == g._LogicPrompt) g._LogicFirstPos = h; if (g._LogicMask.substring(h, h + g.get_CultureDatePlaceholder().length) == g.get_CultureDatePlaceholder()) continue; else if (g._LogicMask.substring(h, h + 1) == e) g._LogicDateTimeSepPos = h; if (g._LogicMask.substring(h, h + 1) == g._LogicPrompt) g._LogicLastPos = h; if (g._MaskType == Sys.Extended.UI.MaskedEditType.Number && g._InputDirection == Sys.Extended.UI.MaskedEditInputDirections.RightToLeft) if (g._LogicMask.substring(h, h + 1) == g.get_CultureDecimalPlaceholder()) g._LogicLastInt = h } g._maskvalid = k.substring(g._LogicFirstPos, g._LogicLastPos + 1); g._EmptyMask = j }, _getClearMask: function () { var c = this, g = 0, i = a, k = 0, j = b; while (g < parseInt(c._LogicTextMask.length, f)) { if (k < c._QtdValidInput) if (c._isValidMaskedEditPosition(g) && c._LogicTextMask.substring(g, g + 1) != c._LogicPrompt) { if (i == a && j) { i += h + c.get_CultureDecimalPlaceholder(); j = b } i += c._LogicTextMask.substring(g, g + 1); k++ } else if (c._LogicTextMask.substring(g, g + 1) != c._LogicPrompt && c._LogicTextMask.substring(g, g + 1) != c._LogicEscape) if (c._LogicTextMask.substring(g, g + c.get_CultureDatePlaceholder().length) == c.get_CultureDatePlaceholder() && (c._MaskType == Sys.Extended.UI.MaskedEditType.Date || c._MaskType == Sys.Extended.UI.MaskedEditType.DateTime)) { i += i == a ? a : c.get_CultureDatePlaceholder(); g += c.get_CultureDatePlaceholder().length - 1 } else if (c._LogicTextMask.substring(g, g + 1) == c.get_CultureTimePlaceholder() && (c._MaskType == Sys.Extended.UI.MaskedEditType.Time || c._MaskType == Sys.Extended.UI.MaskedEditType.DateTime)) i += i == a ? a : c.get_CultureTimePlaceholder(); else if (c._LogicTextMask.substring(g, g + 1) == e && c._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) i += i == a ? a : e; else if (c._LogicTextMask.substring(g, g + 1) == c.get_CultureThousandsPlaceholder() && c._MaskType == Sys.Extended.UI.MaskedEditType.Number) i += i == a ? a : c.get_CultureThousandsPlaceholder(); else if (c._LogicTextMask.substring(g, g + 1) == c.get_CultureDecimalPlaceholder() && c._MaskType == Sys.Extended.UI.MaskedEditType.Number) { i += i == a ? a : c.get_CultureDecimalPlaceholder(); if (i == a) j = d } g++ } if (c._LogicSymbol != a && i != a) if (c._MaskType == Sys.Extended.UI.MaskedEditType.Time || c._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) i += e + c._LogicSymbol; else if (c._MaskType == Sys.Extended.UI.MaskedEditType.Number) i = c._LogicSymbol + i; return i }, _convertMask: function () { var g = this; g._MaskConv = a; for (var j = a, o = a, i = 0; i < parseInt(g._Mask.length, f) ; i++) if (g._CharsEditMask.indexOf(g._Mask.substring(i, i + 1)) != c) { if (j.length == 0) { g._MaskConv += g._Mask.substring(i, i + 1); j = a; o = g._Mask.substring(i, i + 1) } else if (g._Mask.substring(i, i + 1) == "9") j += "9"; else if (g._Mask.substring(i, i + 1) == h) j += h } else if (g._CharsEditMask.indexOf(g._Mask.substring(i, i + 1)) == c && g._Mask.substring(i, i + 1) != g._DelimitStartDup && g._Mask.substring(i, i + 1) != g._DelimitEndDup) { if (j.length == 0) { g._MaskConv += g._Mask.substring(i, i + 1); j = a; o = a } else if (g._charNumbers.indexOf(g._Mask.substring(i, i + 1)) != c) j += g._Mask.substring(i, i + 1) } else if (g._Mask.substring(i, i + 1) == g._DelimitStartDup && j == a) j = h; else if (g._Mask.substring(i, i + 1) == g._DelimitEndDup && j != a) { var q = parseInt(j, f) - 1; if (q > 0) for (var r = 0; r < q; r++) g._MaskConv += o; j = a; o = a } var m = c, l = c, n = b; for (i = 0; i < parseInt(g._MaskConv.length, f) ; i++) if (g._MaskConv.substring(i, i + 1) == g._charEscape && !n) n = d; else if (g._CharsEditMask.indexOf(g._MaskConv.substring(i, i + 1)) != c && !n) { if (m == c) m = i; l = i } else if (n) n = b; if ((g._MaskType == Sys.Extended.UI.MaskedEditType.Time || g._MaskType == Sys.Extended.UI.MaskedEditType.DateTime) && g._AcceptAmPm) { var p = g.get_CultureAMPMPlaceholder().split(g._AMPMPlaceholderSeparator), k = a; if (p.length == 2) { k = g._charEscape + e; for (i = 0; i < parseInt(p[0].length, f) ; i++) k += g._charEscape + e } g._MaskConv = g._MaskConv.substring(0, l + 1) + k + g._MaskConv.substring(l + 1) } else if (g._MaskType == Sys.Extended.UI.MaskedEditType.Number && g._DisplayMoney == Sys.Extended.UI.MaskedEditShowSymbol.Left) { var k = a; for (i = 0; i < parseInt(g.get_CultureCurrencySymbolPlaceholder().length, f) ; i++) if (g._CharsEditMask.indexOf(g.get_CultureCurrencySymbolPlaceholder().substring(i, i + 1)) == c) k += g.get_CultureCurrencySymbolPlaceholder().substring(i, i + 1); else k += g._charEscape + g.get_CultureCurrencySymbolPlaceholder().substring(i, i + 1); k += g._charEscape + e; g._MaskConv = g._MaskConv.substring(0, m) + k + g._MaskConv.substring(m); m += k.length; l += k.length } else if (g._MaskType == Sys.Extended.UI.MaskedEditType.Number && g._DisplayMoney == Sys.Extended.UI.MaskedEditShowSymbol.Right) { var k = g._charEscape + e; for (i = 0; i < parseInt(g.get_CultureCurrencySymbolPlaceholder().length, f) ; i++) if (g._CharsEditMask.indexOf(g.get_CultureCurrencySymbolPlaceholder().substring(i, i + 1)) == c) k += g.get_CultureCurrencySymbolPlaceholder().substring(i, i + 1); else k += g._charEscape + g.get_CultureCurrencySymbolPlaceholder().substring(i, i + 1); g._MaskConv = g._MaskConv.substring(0, l + 1) + k + g._MaskConv.substring(l + 1) } if (g._MaskType == Sys.Extended.UI.MaskedEditType.Number && g._AcceptNegative == Sys.Extended.UI.MaskedEditShowSymbol.Right) g._MaskConv = g._MaskConv.substring(0, l + 1) + g._charEscape + e + g._MaskConv.substring(l + 1); else if (g._MaskType == Sys.Extended.UI.MaskedEditType.Number && g._AcceptNegative == Sys.Extended.UI.MaskedEditShowSymbol.Left) g._MaskConv = g._MaskConv.substring(0, m) + g._charEscape + e + g._MaskConv.substring(m); g._convertMaskNotEscape() }, _convertMaskNotEscape: function () { var c = this; c._LogicMaskConv = a; for (var h = c._MaskConv.replace(/(\/)/g, c.get_CultureDatePlaceholder()), g = b, e = 0; e < parseInt(h.length, f) ; e++) if (h.substring(e, e + 1) == c._charEscape) g = d; else if (!g) c._LogicMaskConv += h.substring(e, e + 1); else { c._LogicMaskConv += c._LogicEscape; g = b } }, get_Mask: function () { var b = this; b._MaskConv == a && b._Mask != a && b._convertMask(); return b._MaskConv }, set_Mask: function (a) { this._Mask = a; this.raisePropertyChanged("Mask") }, get_Filtered: function () { return this._Filtered }, set_Filtered: function (a) { this._Filtered = a; this.raisePropertyChanged("Filtered") }, get_InputDirection: function () { return this._InputDirection }, set_InputDirection: function (a) { this._InputDirection = a; this.raisePropertyChanged("InputDirection") }, get_PromptCharacter: function () { return this._PromptChar }, set_PromptCharacter: function (a) { this._PromptChar = a; this.raisePropertyChanged("PromptChar") }, get_OnFocusCssClass: function () { return this._OnFocusCssClass }, set_OnFocusCssClass: function (a) { this._OnFocusCssClass = a; this.raisePropertyChanged("OnFocusCssClass") }, get_OnInvalidCssClass: function () { return this._OnInvalidCssClass }, set_OnInvalidCssClass: function (a) { this._OnInvalidCssClass = a; this.raisePropertyChanged("OnInvalidCssClass") }, get_CultureName: function () { return this._CultureName }, set_CultureName: function (a) { this._CultureName = a; this.raisePropertyChanged("Culture") }, get_CultureDatePlaceholder: function () { return this._CultureDatePlaceholder }, set_CultureDatePlaceholder: function (a) { this._CultureDatePlaceholder = a; this.raisePropertyChanged("CultureDatePlaceholder") }, get_CultureTimePlaceholder: function () { return this._CultureTimePlaceholder }, set_CultureTimePlaceholder: function (a) { this._CultureTimePlaceholder = a; this.raisePropertyChanged("CultureTimePlaceholder") }, get_CultureDecimalPlaceholder: function () { return this._CultureDecimalPlaceholder }, set_CultureDecimalPlaceholder: function (a) { this._CultureDecimalPlaceholder = a; this.raisePropertyChanged("CultureDecimalPlaceholder") }, get_CultureThousandsPlaceholder: function () { return this._CultureThousandsPlaceholder }, set_CultureThousandsPlaceholder: function (a) { this._CultureThousandsPlaceholder = a; this.raisePropertyChanged("CultureThousandsPlaceholder") }, get_CultureDateFormat: function () { var a = this._CultureDateFormat; switch (this.get_UserDateFormat()) { case Sys.Extended.UI.MaskedEditUserDateFormat.DayMonthYear: a = w; break; case Sys.Extended.UI.MaskedEditUserDateFormat.DayYearMonth: a = x; break; case Sys.Extended.UI.MaskedEditUserDateFormat.MonthDayYear: a = t; break; case Sys.Extended.UI.MaskedEditUserDateFormat.MonthYearDay: a = y; break; case Sys.Extended.UI.MaskedEditUserDateFormat.YearDayMonth: a = A; break; case Sys.Extended.UI.MaskedEditUserDateFormat.YearMonthDay: a = z } return a }, set_CultureDateFormat: function (a) { this._CultureDateFormat = a; this.raisePropertyChanged("CultureDateFormat") }, get_CultureCurrencySymbolPlaceholder: function () { return this._CultureCurrencySymbolPlaceholder }, set_CultureCurrencySymbolPlaceholder: function (a) { this._CultureCurrencySymbolPlaceholder = a; this.raisePropertyChanged("CultureCurrencySymbolPlaceholder") }, get_CultureAMPMPlaceholder: function () { var c = this, b = c._CultureAMPMPlaceholder; if (b.split(c._AMPMPlaceholderSeparator).length != 2 || b == c._AMPMPlaceholderSeparator) b = a; if (c.get_UserTimeFormat() == Sys.Extended.UI.MaskedEditUserTimeFormat.TwentyFourHour) b = a; return b }, set_CultureAMPMPlaceholder: function (a) { this._CultureAMPMPlaceholder = a; this.raisePropertyChanged("CultureAMPMPlaceholder") }, get_CultureFirstLettersAMPM: function () { if (this.get_CultureAMPMPlaceholder() != a) { var b = this.get_CultureAMPMPlaceholder().split(this._AMPMPlaceholderSeparator); return b[0].substring(0, 1) + b[1].substring(0, 1) } return a }, get_CultureFirstLetterAM: function () { if (this.get_CultureAMPMPlaceholder() != a) { var b = this.get_CultureAMPMPlaceholder().split(this._AMPMPlaceholderSeparator); return b[0].substring(0, 1) } return a }, get_CultureFirstLetterPM: function () { if (this.get_CultureAMPMPlaceholder() != a) { var b = this.get_CultureAMPMPlaceholder().split(this._AMPMPlaceholderSeparator); return b[1].substring(0, 1) } return a }, get_ClearMaskOnLostFocus: function () { return this._ClearMaskOnLostfocus }, set_ClearMaskOnLostFocus: function (a) { this._ClearMaskOnLostfocus = a; this.raisePropertyChanged("ClearMaskOnLostfocus") }, get_MessageValidatorTip: function () { return this._MessageValidatorTip }, set_MessageValidatorTip: function (a) { this._MessageValidatorTip = a; this.raisePropertyChanged("MessageValidatorTip") }, get_AcceptAMPM: function () { return this._AcceptAmPm }, set_AcceptAMPM: function (a) { this._AcceptAmPm = a; this.raisePropertyChanged("AcceptAmPm") }, get_AcceptNegative: function () { return this._AcceptNegative }, set_AcceptNegative: function (a) { this._AcceptNegative = a; this.raisePropertyChanged("AcceptNegative") }, get_DisplayMoney: function () { return this._DisplayMoney }, set_DisplayMoney: function (a) { this._DisplayMoney = a; this.raisePropertyChanged("DisplayMoney") }, get_OnFocusCssNegative: function () { return this._OnFocusCssNegative }, set_OnFocusCssNegative: function (a) { this._OnFocusCssNegative = a; this.raisePropertyChanged("OnFocusCssNegative") }, get_OnBlurCssNegative: function () { return this._OnBlurCssNegative }, set_OnBlurCssNegative: function (a) { this._OnBlurCssNegative = a; this.raisePropertyChanged("OnBlurCssNegative") }, get_Century: function () { return this._Century }, set_Century: function (a) { this._Century = a; this.raisePropertyChanged("Century") }, get_AutoComplete: function () { return this._AutoComplete }, set_AutoComplete: function (a) { this._AutoComplete = a; this.raisePropertyChanged("AutoComplete") }, get_AutoCompleteValue: function () { return this._AutoCompleteValue }, set_AutoCompleteValue: function (a) { this._AutoCompleteValue = a; this.raisePropertyChanged("AutoCompleteValue") }, get_MaskType: function () { return this._MaskType }, set_MaskType: function (a) { this._MaskType = a; this.raisePropertyChanged("MaskType") }, get_ClearTextOnInvalid: function () { return this._ClearTextOnInvalid }, set_ClearTextOnInvalid: function (a) { if (this._ClearTextOnInvalid !== a) { this._ClearTextOnInvalid = a; this.raisePropertyChanged("ClearTextOnInvalid") } }, get_ClipboardText: function () { return this._ClipboardText }, set_ClipboardText: function (a) { this._ClipboardText = a; this.raisePropertyChanged("ClipboardText") }, get_ClipboardEnabled: function () { return this._AllowCopyPaste }, set_ClipboardEnabled: function (a) { this._AllowCopyPaste = a; this.raisePropertyChanged("ClipboardEnabled") }, get_ErrorTooltipEnabled: function () { return this._ShowMessageErrorFloat }, set_ErrorTooltipEnabled: function (a) { this._ShowMessageErrorFloat = a; this.raisePropertyChanged("ErrorTooltipEnabled") }, get_ErrorTooltipCssClass: function () { return this._CssMessageErrorFloat }, set_ErrorTooltipCssClass: function (a) { this._CssMessageErrorFloat = a; this.raisePropertyChanged("ErrorTooltipCssClass") }, get_UserDateFormat: function () { return this._UserDateFormat }, set_UserDateFormat: function (a) { this._UserDateFormat = a; this.raisePropertyChanged("UserDateFormat") }, get_UserTimeFormat: function () { return this._UserTimeFormat }, set_UserTimeFormat: function (a) { this._UserTimeFormat = a; this.raisePropertyChanged("UserTimeFormat") } }; Sys.Extended.UI.MaskedEditBehavior.registerClass("Sys.Extended.UI.MaskedEditBehavior", Sys.Extended.UI.DynamicPopulateBehaviorBase); Sys.registerComponent(Sys.Extended.UI.MaskedEditBehavior, { name: "maskedEdit" }); Sys.Extended.UI.MaskedEditType = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.MaskedEditInputDirections = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.MaskedEditShowSymbol = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.MaskedEditUserDateFormat = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.MaskedEditUserTimeFormat = function () { throw Error.invalidOperation(); }; Sys.Extended.UI.MaskedEditType.prototype = { None: 0, Date: 1, Number: 2, Time: 3, DateTime: 4 }; Sys.Extended.UI.MaskedEditInputDirections.prototype = { LeftToRight: 0, RightToLeft: 1 }; Sys.Extended.UI.MaskedEditShowSymbol.prototype = { None: 0, Left: 1, Right: 2 }; Sys.Extended.UI.MaskedEditUserDateFormat.prototype = { None: 0, DayMonthYear: 1, DayYearMonth: 2, MonthDayYear: 3, MonthYearDay: 4, YearDayMonth: 5, YearMonthDay: 6 }; Sys.Extended.UI.MaskedEditUserTimeFormat.prototype = { None: 0, TwentyFourHour: 1 }; Sys.Extended.UI.MaskedEditType.registerEnum("Sys.Extended.UI.MaskedEditType"); Sys.Extended.UI.MaskedEditInputDirections.registerEnum("Sys.Extended.UI.MaskedEditInputDirections"); Sys.Extended.UI.MaskedEditShowSymbol.registerEnum("Sys.Extended.UI.MaskedEditShowSymbol"); Sys.Extended.UI.MaskedEditUserDateFormat.registerEnum("Sys.Extended.UI.MaskedEditUserDateFormat"); Sys.Extended.UI.MaskedEditUserTimeFormat.registerEnum("Sys.Extended.UI.MaskedEditUserTimeFormat") } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["Globalization", "ExtendedBase", "ExtendedTimer", "ExtendedCommon"], a); else a() })();
//END MaskedEdit.MaskedEditBehavior.js
//START AutoComplete.AutoCompleteBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedAutoComplete"; function a() { var o = "itemOut", n = "itemOver", m = "itemSelected", l = "hiding", k = "shown", j = "showing", i = "populated", h = "populating", z = "showOnlyCurrentWordInCompletionListItem", y = "completionListElementID", x = "enableCaching", w = "servicePath", v = "serviceMethod", u = "minimumPrefixLength", t = "completionSetCount", s = "completionList", r = "completionInterval", g = "black", f = "white", e = "hidden", q = "mouseover", p = "mousedown", d = "blur", c = true, b = false, a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.AutoCompleteBehavior = function (e) { var d = this; Sys.Extended.UI.AutoCompleteBehavior.initializeBase(d, [e]); d._servicePath = a; d._serviceMethod = a; d._contextKey = a; d._useContextKey = b; d._minimumPrefixLength = 3; d._completionSetCount = 10; d._completionInterval = 1e3; d._completionListElementID = a; d._completionListElement = a; d._textColor = "windowtext"; d._textBackground = "window"; d._popupBehavior = a; d._popupBehaviorHiddenHandler = a; d._onShowJson = a; d._onHideJson = a; d._timer = a; d._cache = a; d._currentPrefix = a; d._selectIndex = -1; d._focusHandler = a; d._blurHandler = a; d._bodyClickHandler = a; d._completionListBlurHandler = a; d._keyDownHandler = a; d._mouseDownHandler = a; d._mouseUpHandler = a; d._mouseOverHandler = a; d._tickHandler = a; d._enableCaching = c; d._flyoutHasFocus = b; d._textBoxHasFocus = b; d._completionListCssClass = a; d._completionListItemCssClass = a; d._highlightedItemCssClass = a; d._delimiterCharacters = a; d._firstRowSelected = b; d._showOnlyCurrentWordInCompletionListItem = b; d._webRequest = a }; Sys.Extended.UI.AutoCompleteBehavior.prototype = { initialize: function () { var b = this; Sys.Extended.UI.AutoCompleteBehavior.callBaseMethod(b, "initialize"); $common.prepareHiddenElementForATDeviceUpdate(); b._popupBehaviorHiddenHandler = Function.createDelegate(b, b._popupHidden); b._tickHandler = Function.createDelegate(b, b._onTimerTick); b._focusHandler = Function.createDelegate(b, b._onGotFocus); b._blurHandler = Function.createDelegate(b, b._onLostFocus); b._keyDownHandler = Function.createDelegate(b, b._onKeyDown); b._mouseDownHandler = Function.createDelegate(b, b._onListMouseDown); b._mouseUpHandler = Function.createDelegate(b, b._onListMouseUp); b._mouseOverHandler = Function.createDelegate(b, b._onListMouseOver); b._completionListBlurHandler = Function.createDelegate(b, b._onCompletionListBlur); b._bodyClickHandler = Function.createDelegate(b, b._onCompletionListBlur); b._timer = new Sys.Timer; b.initializeTimer(b._timer); var c = b.get_element(); b.initializeTextBox(c); if (b._completionListElementID !== a) b._completionListElement = $get(b._completionListElementID); if (b._completionListElement == a) { b._completionListElement = document.createElement("ul"); b._completionListElement.id = b.get_id() + "_completionListElem"; if (Sys.Browser.agent === Sys.Browser.Safari) document.body.appendChild(b._completionListElement); else c.parentNode.insertBefore(b._completionListElement, c.nextSibling) } b.initializeCompletionList(b._completionListElement); b._popupBehavior = $create(Sys.Extended.UI.PopupBehavior, { id: b.get_id() + "PopupBehavior", parentElement: c, positioningMode: Sys.Extended.UI.PositioningMode.BottomLeft }, a, a, b._completionListElement); b._popupBehavior.add_hidden(b._popupBehaviorHiddenHandler); b._onShowJson && b._popupBehavior.set_onShow(b._onShowJson); b._onHideJson && b._popupBehavior.set_onHide(b._onHideJson) }, dispose: function () { var b = this; b._onShowJson = a; b._onHideJson = a; if (b._popupBehavior) { b._popupBehaviorHiddenHandler && b._popupBehavior.remove_hidden(b._popupBehaviorHiddenHandler); b._popupBehavior.dispose(); b._popupBehavior = a } if (b._timer) { b._timer.dispose(); b._timer = a } var c = b.get_element(); if (c) { $removeHandler(c, "focus", b._focusHandler); $removeHandler(c, d, b._blurHandler); $removeHandler(c, "keydown", b._keyDownHandler); $removeHandler(b._completionListElement, d, b._completionListBlurHandler); $removeHandler(b._completionListElement, p, b._mouseDownHandler); $removeHandler(b._completionListElement, "mouseup", b._mouseUpHandler); $removeHandler(b._completionListElement, q, b._mouseOverHandler) } if (b._bodyClickHandler) { $removeHandler(document.body, "click", b._bodyClickHandler); b._bodyClickHandler = a } b._popupBehaviorHiddenHandler = a; b._tickHandler = a; b._focusHandler = a; b._blurHandler = a; b._keyDownHandler = a; b._completionListBlurHandler = a; b._mouseDownHandler = a; b._mouseUpHandler = a; b._mouseOverHandler = a; Sys.Extended.UI.AutoCompleteBehavior.callBaseMethod(b, "dispose") }, initializeTimer: function (a) { a.set_interval(this._completionInterval); a.add_tick(this._tickHandler) }, initializeTextBox: function (a) { a.autocomplete = "off"; $addHandler(a, "focus", this._focusHandler); $addHandler(a, d, this._blurHandler); $addHandler(a, "keydown", this._keyDownHandler) }, initializeCompletionList: function (c) { var b = this; if (b._completionListCssClass) Sys.UI.DomElement.addCssClass(c, b._completionListCssClass); else { var a = c.style; a.textAlign = "left"; a.visibility = e; a.cursor = "default"; a.listStyle = "none"; a.padding = "0px"; a.margin = "0px! important"; if (Sys.Browser.agent === Sys.Browser.Safari) { a.border = "solid 1px gray"; a.backgroundColor = f; a.color = g } else { a.border = "solid 1px buttonshadow"; a.backgroundColor = b._textBackground; a.color = b._textColor } } $addHandler(c, p, b._mouseDownHandler); $addHandler(c, "mouseup", b._mouseUpHandler); $addHandler(c, q, b._mouseOverHandler); $addHandler(c, d, b._completionListBlurHandler); $addHandler(document.body, "click", b._bodyClickHandler) }, _currentCompletionWord: function () { var b = this, f = b.get_element(), c = f.value, d = c; if (b.get_isMultiWord()) { var a = b._getCurrentWordStartIndex(), e = b._getCurrentWordEndIndex(a); if (e <= a) d = c.substring(a); else d = c.substring(a, e) } return d }, _getCursorIndex: function () { return this.get_element().selectionStart }, _getCurrentWordStartIndex: function () { var a = this; for (var g = a.get_element(), f = g.value.substring(0, a._getCursorIndex()), b = 0, c = -1, d = 0; d < a._delimiterCharacters.length; ++d) { var e = f.lastIndexOf(a._delimiterCharacters.charAt(d)); if (e > c) c = e } b = c; if (b >= a._getCursorIndex()) b = 0; return b < 0 ? 0 : b + 1 }, _getCurrentWordEndIndex: function (d) { for (var e = this.get_element(), f = e.value.substring(d), a = 0, c = 0; c < this._delimiterCharacters.length; ++c) { var b = f.indexOf(this._delimiterCharacters.charAt(c)); if (b > 0 && (b < a || a == 0)) a = b } return a <= 0 ? e.value.length : a + d }, get_isMultiWord: function () { return this._delimiterCharacters != a && this._delimiterCharacters != "" }, _getTextWithInsertedWord: function (d) { var b = this, h = d, j = 0, i = b.get_element(), c = i.value; if (b.get_isMultiWord()) { var a = b._getCurrentWordStartIndex(), e = b._getCurrentWordEndIndex(a), f = "", g = ""; if (a > 0) f = c.substring(0, a); if (e > a) g = c.substring(e); h = f + d + g } return h }, _hideCompletionList: function () { var a = new Sys.CancelEventArgs; this.raiseHiding(a); if (a.get_cancel()) return; this.hidePopup() }, showPopup: function () { this._popupBehavior.show(); this.raiseShown(Sys.EventArgs.Empty) }, hidePopup: function () { if (this._popupBehavior) this._popupBehavior.hide(); else this._popupHidden() }, _popupHidden: function () { var a = this; a._completionListElement.innerHTML = ""; a._selectIndex = -1; a._flyoutHasFocus = b; a.raiseHidden(Sys.EventArgs.Empty) }, _highlightItem: function (d) { var a = this; for (var h = a._completionListElement.childNodes, e = 0; e < h.length; e++) { var b = h[e]; if (b._highlighted) { if (a._completionListItemCssClass) { Sys.UI.DomElement.removeCssClass(b, a._highlightedItemCssClass); Sys.UI.DomElement.addCssClass(b, a._completionListItemCssClass) } else if (Sys.Browser.agent === Sys.Browser.Safari) { b.style.backgroundColor = f; b.style.color = g } else { b.style.backgroundColor = a._textBackground; b.style.color = a._textColor } a.raiseItemOut(new Sys.Extended.UI.AutoCompleteItemEventArgs(b, b.firstChild.nodeValue, b._value)) } } if (a._highlightedItemCssClass) { Sys.UI.DomElement.removeCssClass(d, a._completionListItemCssClass); Sys.UI.DomElement.addCssClass(d, a._highlightedItemCssClass) } else if (Sys.Browser.agent === Sys.Browser.Safari) d.style.backgroundColor = "lemonchiffon"; else { d.style.backgroundColor = "highlight"; d.style.color = "highlighttext" } d._highlighted = c; a.raiseItemOver(new Sys.Extended.UI.AutoCompleteItemEventArgs(d, d.firstChild.nodeValue, d._value)) }, _onCompletionListBlur: function () { this._hideCompletionList() }, _onListMouseDown: function (d) { var a = this; if (d.target !== a._completionListElement) { a._setText(d.target); a._flyoutHasFocus = b } else a._flyoutHasFocus = c }, _onListMouseUp: function () { try { this.get_element().focus() } catch (b) { } }, _onListMouseOver: function (e) { var a = this, c = e.target; if (c !== a._completionListElement) for (var d = a._completionListElement.childNodes, b = 0; b < d.length; ++b) if (c === d[b]) { a._highlightItem(c); a._selectIndex = b; break } }, _onGotFocus: function () { var a = this; a._textBoxHasFocus = c; a._flyoutHasFocus && a._hideCompletionList(); a._minimumPrefixLength == 0 && !a.get_element().value && a._timer.set_enabled(c) }, _onKeyDown: function (d) { var a = this; a._textBoxHasFocus = c; a._timer.set_enabled(b); var e = d.keyCode ? d.keyCode : d.rawEvent.keyCode; if (e === Sys.UI.Key.esc) { a._hideCompletionList(); d.preventDefault() } else if (e === Sys.UI.Key.up) { if (a._selectIndex > 0) { a._selectIndex--; a._handleScroll(a._completionListElement.childNodes[a._selectIndex], a._selectIndex); a._highlightItem(a._completionListElement.childNodes[a._selectIndex]); d.stopPropagation(); d.preventDefault() } } else if (e === Sys.UI.Key.down) { if (a._selectIndex < a._completionListElement.childNodes.length - 1) { a._selectIndex++; a._handleScroll(a._completionListElement.childNodes[a._selectIndex], a._selectIndex); a._highlightItem(a._completionListElement.childNodes[a._selectIndex]); d.stopPropagation(); d.preventDefault() } } else if (e === Sys.UI.Key.enter) if (a._selectIndex !== -1) { a._setText(a._completionListElement.childNodes[a._selectIndex]); d.preventDefault() } else a.hidePopup(); else if (e === Sys.UI.Key.tab) a._selectIndex !== -1 && a._setText(a._completionListElement.childNodes[a._selectIndex]); else a._timer.set_enabled(c) }, _handleScroll: function (e, c) { var a = this._completionListElement, b = $common.getBounds(e), d = this._completionListElement.childNodes.length; if (b.height * c - (a.clientHeight + a.scrollTop) >= 0) a.scrollTop += b.height * c - (a.clientHeight + a.scrollTop) + b.height; if (b.height * (d - (c + 1)) - (a.scrollHeight - a.scrollTop) >= 0) a.scrollTop -= b.height * (d - (c + 1)) - (a.scrollHeight - a.scrollTop) + b.height; if (a.scrollTop % b.height !== 0) if (b.height * (c + 1) - (a.clientHeight + a.scrollTop) >= 0) a.scrollTop -= a.scrollTop % b.height; else a.scrollTop += b.height - a.scrollTop % b.height }, _handleFlyoutFocus: function () { var b = this; if (!b._textBoxHasFocus) if (!b._flyoutHasFocus) { if (b._webRequest) { b._webRequest.get_executor().abort(); b._webRequest = a } b._hideCompletionList() } }, _onLostFocus: function () { var a = this; a._textBoxHasFocus = b; a._timer.set_enabled(b); window.setTimeout(Function.createDelegate(a, a._handleFlyoutFocus), 500) }, _onMethodComplete: function (d, b) { this._webRequest = a; this._update(b, d, c) }, _onMethodFailed: function () { this._webRequest = a }, _onTimerTick: function (g, e) { var c = this; c._timer.set_enabled(b); if (c._servicePath && c._serviceMethod) { var d = c._currentCompletionWord(); if (d.trim().length < c._minimumPrefixLength) { c._currentPrefix = a; c._update("", a, b); return } if (c._currentPrefix !== d || d == "" && c._minimumPrefixLength == 0) { c._currentPrefix = d; if (d != "" && c._cache && c._cache[d]) { c._update(d, c._cache[d], b); return } var e = new Sys.CancelEventArgs; c.raisePopulating(e); if (e.get_cancel()) return; var f = { prefixText: c._currentPrefix, count: c._completionSetCount }; if (c._useContextKey) f.contextKey = c._contextKey; if (c._webRequest) { c._webRequest.get_executor().abort(); c._webRequest = a } c._webRequest = Sys.Net.WebServiceProxy.invoke(c.get_servicePath(), c.get_serviceMethod(), b, f, Function.createDelegate(c, c._onMethodComplete), Function.createDelegate(c, c._onMethodFailed), d); $common.updateFormToRefreshATDeviceBuffer() } } }, _setText: function (d) { var c = this, g = d && d.firstChild ? d.firstChild.nodeValue : a; c._timer.set_enabled(b); var f = c.get_element(), e = f.control, h = c._showOnlyCurrentWordInCompletionListItem ? c._getTextWithInsertedWord(g) : g; if (e && e.set_text) e.set_text(h); else f.value = h; $common.tryFireEvent(f, "change"); c.raiseItemSelected(new Sys.Extended.UI.AutoCompleteItemEventArgs(d, g, d ? d._value : a)); c._currentPrefix = c._currentCompletionWord(); c._hideCompletionList() }, _update: function (m, d, p) { var b = this; if (p && b.get_enableCaching()) { if (!b._cache) b._cache = {}; b._cache[m] = d } if (!b._textBoxHasFocus || m != b._currentCompletionWord()) { b._hideCompletionList(); return } if (d && d.length) { b._completionListElement.innerHTML = ""; b._selectIndex = -1; for (var j = a, h = a, k = a, i = 0; i < d.length; i++) { var c = a; if (b._completionListElementID) c = document.createElement("div"); else c = document.createElement("li"); if (j == a) j = c; try { var l = Sys.Serialization.JavaScriptSerializer.deserialize("(" + d[i] + ")"); if (l && l.First) { h = l.First; k = l.Second } else { h = d[i]; k = h } } catch (r) { h = d[i]; k = d[i] } var q = b._showOnlyCurrentWordInCompletionListItem ? h : b._getTextWithInsertedWord(h); c.appendChild(document.createTextNode(q)); c._value = k; c.__item = ""; if (b._completionListItemCssClass) Sys.UI.DomElement.addCssClass(c, b._completionListItemCssClass); else { var e = c.style; e.padding = "0px"; e.textAlign = "left"; e.textOverflow = "ellipsis"; if (Sys.Browser.agent === Sys.Browser.Safari) { e.backgroundColor = f; e.color = g } else { e.backgroundColor = b._textBackground; e.color = b._textColor } } b._completionListElement.appendChild(c) } var o = $common.getBounds(b.get_element()); b._completionListElement.style.width = Math.max(1, o.width - 2) + "px"; b._completionListElement.scrollTop = 0; b.raisePopulated(Sys.EventArgs.Empty); var n = new Sys.CancelEventArgs; b.raiseShowing(n); if (!n.get_cancel()) { b.showPopup(); if (b._firstRowSelected && j != a) { b._highlightItem(j); b._selectIndex = 0 } } } else b._hideCompletionList() }, get_onShow: function () { return this._popupBehavior ? this._popupBehavior.get_onShow() : this._onShowJson }, set_onShow: function (b) { var a = this; if (a._popupBehavior) a._popupBehavior.set_onShow(b); else a._onShowJson = b; a.raisePropertyChanged("onShow") }, get_onShowBehavior: function () { return this._popupBehavior ? this._popupBehavior.get_onShowBehavior() : a }, onShow: function () { this._popupBehavior && this._popupBehavior.onShow() }, get_onHide: function () { return this._popupBehavior ? this._popupBehavior.get_onHide() : this._onHideJson }, set_onHide: function (b) { var a = this; if (a._popupBehavior) a._popupBehavior.set_onHide(b); else a._onHideJson = b; a.raisePropertyChanged("onHide") }, get_onHideBehavior: function () { return this._popupBehavior ? this._popupBehavior.get_onHideBehavior() : a }, onHide: function () { this._popupBehavior && this._popupBehavior.onHide() }, get_completionInterval: function () { return this._completionInterval }, set_completionInterval: function (a) { if (this._completionInterval != a) { this._completionInterval = a; this.raisePropertyChanged(r) } }, get_completionList: function () { return this._completionListElement }, set_completionList: function (a) { if (this._completionListElement != a) { this._completionListElement = a; this.raisePropertyChanged(s) } }, get_completionSetCount: function () { return this._completionSetCount }, set_completionSetCount: function (a) { if (this._completionSetCount != a) { this._completionSetCount = a; this.raisePropertyChanged(t) } }, get_minimumPrefixLength: function () { return this._minimumPrefixLength }, set_minimumPrefixLength: function (a) { if (this._minimumPrefixLength != a) { this._minimumPrefixLength = a; this.raisePropertyChanged(u) } }, get_serviceMethod: function () { return this._serviceMethod }, set_serviceMethod: function (a) { if (this._serviceMethod != a) { this._serviceMethod = a; this.raisePropertyChanged(v) } }, get_servicePath: function () { return this._servicePath }, set_servicePath: function (a) { if (this._servicePath != a) { this._servicePath = a; this.raisePropertyChanged(w) } }, get_contextKey: function () { return this._contextKey }, set_contextKey: function (b) { var a = this; if (a._contextKey != b) { a._contextKey = b; a.set_useContextKey(c); a.raisePropertyChanged("contextKey") } }, get_useContextKey: function () { return this._useContextKey }, set_useContextKey: function (a) { if (this._useContextKey != a) { this._useContextKey = a; this.raisePropertyChanged("useContextKey") } }, get_enableCaching: function () { return this._enableCaching }, set_enableCaching: function (a) { if (this._enableCaching != a) { this._enableCaching = a; this.raisePropertyChanged(x) } }, get_completionListElementID: function () { return this._completionListElementID }, set_completionListElementID: function (a) { if (this._completionListElementID != a) { this._completionListElementID = a; this.raisePropertyChanged(y) } }, get_completionListCssClass: function () { return this._completionListCssClass }, set_completionListCssClass: function (a) { if (this._completionListCssClass != a) { this._completionListCssClass = a; this.raisePropertyChanged("completionListCssClass") } }, get_completionListItemCssClass: function () { return this._completionListItemCssClass }, set_completionListItemCssClass: function (a) { if (this._completionListItemCssClass != a) { this._completionListItemCssClass = a; this.raisePropertyChanged("completionListItemCssClass") } }, get_highlightedItemCssClass: function () { return this._highlightedItemCssClass }, set_highlightedItemCssClass: function (a) { if (this._highlightedItemCssClass != a) { this._highlightedItemCssClass = a; this.raisePropertyChanged("highlightedItemCssClass") } }, get_delimiterCharacters: function () { return this._delimiterCharacters }, set_delimiterCharacters: function (a) { if (this._delimiterCharacters != a) { this._delimiterCharacters = a; this.raisePropertyChanged("delimiterCharacters") } }, get_firstRowSelected: function () { return this._firstRowSelected }, set_firstRowSelected: function (a) { if (this._firstRowSelected != a) { this._firstRowSelected = a; this.raisePropertyChanged("firstRowSelected") } }, get_showOnlyCurrentWordInCompletionListItem: function () { return this._showOnlyCurrentWordInCompletionListItem }, set_showOnlyCurrentWordInCompletionListItem: function (a) { if (this._showOnlyCurrentWordInCompletionListItem != a) { this._showOnlyCurrentWordInCompletionListItem = a; this.raisePropertyChanged(z) } }, add_populating: function (a) { this.get_events().addHandler(h, a) }, remove_populating: function (a) { this.get_events().removeHandler(h, a) }, raisePopulating: function (b) { var a = this.get_events().getHandler(h); a && a(this, b) }, add_populated: function (a) { this.get_events().addHandler(i, a) }, remove_populated: function (a) { this.get_events().removeHandler(i, a) }, raisePopulated: function (b) { var a = this.get_events().getHandler(i); a && a(this, b) }, add_showing: function (a) { this.get_events().addHandler(j, a) }, remove_showing: function (a) { this.get_events().removeHandler(j, a) }, raiseShowing: function (b) { var a = this.get_events().getHandler(j); a && a(this, b) }, add_shown: function (a) { this.get_events().addHandler(k, a) }, remove_shown: function (a) { this.get_events().removeHandler(k, a) }, raiseShown: function (b) { var a = this.get_events().getHandler(k); a && a(this, b) }, add_hiding: function (a) { this.get_events().addHandler(l, a) }, remove_hiding: function (a) { this.get_events().removeHandler(l, a) }, raiseHiding: function (b) { var a = this.get_events().getHandler(l); a && a(this, b) }, add_hidden: function (a) { this.get_events().addHandler(e, a) }, remove_hidden: function (a) { this.get_events().removeHandler(e, a) }, raiseHidden: function (b) { var a = this.get_events().getHandler(e); a && a(this, b) }, add_itemSelected: function (a) { this.get_events().addHandler(m, a) }, remove_itemSelected: function (a) { this.get_events().removeHandler(m, a) }, raiseItemSelected: function (b) { var a = this.get_events().getHandler(m); a && a(this, b) }, add_itemOver: function (a) { this.get_events().addHandler(n, a) }, remove_itemOver: function (a) { this.get_events().removeHandler(n, a) }, raiseItemOver: function (b) { var a = this.get_events().getHandler(n); a && a(this, b) }, add_itemOut: function (a) { this.get_events().addHandler(o, a) }, remove_itemOut: function (a) { this.get_events().removeHandler(o, a) }, raiseItemOut: function (b) { var a = this.get_events().getHandler(o); a && a(this, b) } }; Sys.Extended.UI.AutoCompleteBehavior.registerClass("Sys.Extended.UI.AutoCompleteBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.AutoCompleteBehavior, { name: "autoComplete" }); Sys.Extended.UI.AutoCompleteBehavior.descriptor = { properties: [{ name: r, type: Number }, { name: s, isDomElement: c }, { name: y, type: String }, { name: t, type: Number }, { name: u, type: Number }, { name: v, type: String }, { name: w, type: String }, { name: x, type: Boolean }, { name: z, type: Boolean }] }; Sys.Extended.UI.AutoCompleteItemEventArgs = function (d, e, c) { var b = this; Sys.Extended.UI.AutoCompleteItemEventArgs.initializeBase(b); b._item = d; b._text = e; b._value = c !== undefined ? c : a }; Sys.Extended.UI.AutoCompleteItemEventArgs.prototype = { get_item: function () { return this._item }, set_item: function (a) { this._item = a }, get_text: function () { return this._text }, set_text: function (a) { this._text = a }, get_value: function () { return this._value }, set_value: function (a) { this._value = a } }; Sys.Extended.UI.AutoCompleteItemEventArgs.registerClass("Sys.Extended.UI.AutoCompleteItemEventArgs", Sys.EventArgs) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedTimer", "ExtendedAnimationBehavior", "ExtendedPopup"], a); else a() })();
//END AutoComplete.AutoCompleteBehavior.js
//START Tabs.Tabs.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedTabs"; function a() { var o = "ajax__tab_hover", n = "ajax__tab_active", j = "ajax__tab_disabled", k = "owner", q = "headerTab", i = "populated", h = "populating", g = "click", r = "Sys.Extended.UI.TabContainer", m = "initialize", l = "scrollBars", p = "activeTabIndex", e = "value", f = "activeTabChanged", b = false, a = null, c = -1, d = true; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.TabStripPlacement = function () { }; Sys.Extended.UI.TabStripPlacement.prototype = { Top: 0, Bottom: 1, TopRight: 2, BottomRight: 3 }; Sys.Extended.UI.TabStripPlacement.registerEnum("Sys.Extended.UI.TabStripPlacement", d); Sys.Extended.UI.UseVerticalStripPlacement = function () { }; Sys.Extended.UI.OnDemand = function () { }; Sys.Extended.UI.OnDemandMode = function () { }; Sys.Extended.UI.OnDemandMode.prototype = { None: 0, Always: 1, Once: 2 }; Sys.Extended.UI.OnDemandMode.registerEnum("Sys.Extended.UI.OnDemandMode", d); Sys.Extended.UI.TabContainer = function (e) { var d = this; Sys.Extended.UI.TabContainer.initializeBase(d, [e]); d._cachedActiveTabIndex = c; d._activeTabIndex = c; d._scrollBars = Sys.Extended.UI.ScrollBars.None; d._tabs = a; d._header = a; d._body = a; d._loaded = b; d._autoPostBackId = a; d._useVerticalStripPlacement = b; d._onDemand = b; d._pageRequestManager = a; d._tabStripPlacement = Sys.Extended.UI.TabStripPlacement.Top; d._app_onload$delegate = Function.createDelegate(d, d._app_onload) }; Sys.Extended.UI.TabContainer.prototype = { add_activeTabChanged: function (a) { this.get_events().addHandler(f, a) }, remove_activeTabChanged: function (a) { this.get_events().removeHandler(f, a) }, raiseActiveTabChanged: function () { var a = this, b = a.get_events().getHandler(f); b && b(a, Sys.EventArgs.Empty); a._autoPostBackId && __doPostBack(a._autoPostBackId, "activeTabChanged:" + a.get_activeTabIndex()) }, get_activeTabIndex: function () { return this._cachedActiveTabIndex > c ? this._cachedActiveTabIndex : this._activeTabIndex }, set_activeTabIndex: function (i) { var f = this, g = i; if (!f.get_isInitialized()) f._cachedActiveTabIndex = g; else { if (g < c) throw Error.argumentOutOfRange(e); if (g >= f.get_tabs().length) g = f.get_tabs().length - 1; if (g != f._activeTabIndex) { if (f._activeTabIndex != c) { var k = f.get_tabs()[f._activeTabIndex]; k._set_active(b) } var j = f._activeTabIndex != g; f._activeTabIndex = g; f._activeTabIndex != c && f.get_tabs()[f._activeTabIndex]._set_active(d); if (f._loaded && j) { if (f._onDemand) { var h = f.get_tabs()[f._activeTabIndex]; if (h._onDemandMode != Sys.Extended.UI.OnDemandMode.None) if (h._onDemandMode == Sys.Extended.UI.OnDemandMode.Once && h._wasLoadedOnce == b || h._onDemandMode == Sys.Extended.UI.OnDemandMode.Always) { f._pageRequestManager.beginAsyncPostBack([h._updatePanelID], a, a, b, a); h.set_wasLoadedOnce(d) } } f.raiseActiveTabChanged() } f.raisePropertyChanged(p) } } }, get_tabs: function () { if (this._tabs == a) this._tabs = []; return this._tabs }, get_activeTab: function () { return this._activeTabIndex > c ? this.get_tabs()[this._activeTabIndex] : a }, set_activeTab: function (b) { var a = Array.indexOf(this.get_tabs(), b); if (a == c) throw Error.argument(e, Sys.Extended.UI.Resources.Tabs_ActiveTabArgumentOutOfRange); this.set_activeTabIndex(a) }, get_autoPostBackId: function () { return this._autoPostBackId }, set_autoPostBackId: function (a) { this._autoPostBackId = a }, get_scrollBars: function () { return this._scrollBars }, set_scrollBars: function (b) { var a = this; if (a._scrollBars != b) { a._scrollBars = b; a._invalidate(); a.raisePropertyChanged(l) } }, get_tabStripPlacement: function () { return this._tabStripPlacement }, set_tabStripPlacement: function (b) { var a = this; if (a._tabStripPlacement != b) { a._tabStripPlacement = b; a._invalidate(); a.raisePropertyChanged("tabStripPlacement") } }, get_useVerticalStripPlacement: function () { return this._useVerticalStripPlacement }, set_useVerticalStripPlacement: function (b) { var a = this; if (a._useVerticalStripPlacement != b) { a._useVerticalStripPlacement = b; a._invalidate(); a.raisePropertyChanged("useVerticalStripPlacement") } }, get_onDemand: function () { return this._onDemand }, set_onDemand: function (b) { var a = this; if (a._onDemand != b) { a._onDemand = b; a._invalidate(); a.raisePropertyChanged("onDemand") } }, initialize: function () { var a = this; Sys.Extended.UI.TabContainer.callBaseMethod(a, m); var b = a.get_element(); a._header = $get(a.get_id() + "_header"); a._body = $get(a.get_id() + "_body"); $common.addCssClasses(b, ["ajax__tab_container", "ajax__tab_default"]); a._invalidate(); if (a._onDemand) a._pageRequestManager = Sys.WebForms.PageRequestManager.getInstance(); Sys.Application.add_load(a._app_onload$delegate) }, dispose: function () { $clearHandlers(this.get_element()); Sys.Application.remove_load(this._app_onload$delegate); Sys.Extended.UI.TabContainer.callBaseMethod(this, "dispose") }, getFirstTab: function (d) { for (var c = this.get_tabs(), b = 0; b < c.length; b++) if (d || c[b].get_enabled()) return c[b]; return a }, getLastTab: function (d) { for (var c = this.get_tabs(), b = c.length - 1; b >= 0; b--) if (d || c[b].get_enabled()) return c[b]; return a }, getNextTab: function (e) { for (var b = this.get_tabs(), g = this.get_activeTabIndex(), c = 1; c < b.length; c++) { var f = (g + c) % b.length, d = b[f]; if (e || d.get_enabled()) return d } return a }, getPreviousTab: function (e) { for (var b = this.get_tabs(), g = this.get_activeTabIndex(), c = 1; c < b.length; c++) { var f = (b.length + (g - c)) % b.length, d = b[f]; if (e || d.get_enabled()) return d } return a }, getNearestTab: function (e) { var b = this, d = b.getPreviousTab(e), c = b.getNextTab(e); return d && d.get_tabIndex() < b._activeTabIndex ? d : c && c.get_tabIndex() > b._activeTabIndex ? c : a }, saveClientState: function () { for (var b = this.get_tabs(), d = [], c = [], a = 0; a < b.length; a++) { Array.add(d, b[a].get_enabled()); Array.add(c, b[a].get_wasLoadedOnce()) } var e = { ActiveTabIndex: this._activeTabIndex, TabEnabledState: d, TabWasLoadedOnceState: c }; return Sys.Serialization.JavaScriptSerializer.serialize(e) }, _invalidate: function () { var g = "ajax__scroll_none", f = "ajax__scroll_auto", e = "ajax__scroll_both", d = "ajax__scroll_vert", c = "ajax__scroll_horiz", a = this; if (a.get_isInitialized()) { $common.removeCssClasses(a._body, [c, d, e, f, g]); switch (a._scrollBars) { case Sys.Extended.UI.ScrollBars.Horizontal: Sys.UI.DomElement.addCssClass(a._body, c); break; case Sys.Extended.UI.ScrollBars.Vertical: Sys.UI.DomElement.addCssClass(a._body, d); break; case Sys.Extended.UI.ScrollBars.Both: Sys.UI.DomElement.addCssClass(a._body, e); break; case Sys.Extended.UI.ScrollBars.Auto: Sys.UI.DomElement.addCssClass(a._body, f); break; case Sys.Extended.UI.ScrollBars.None: Sys.UI.DomElement.addCssClass(a._body, g) } if (a._useVerticalStripPlacement) { var b = $common.getBounds(a._header), h = $common.getBounds(a._body), j = h.height - b.height - 1 + "px"; $get(a.get_id() + "_headerSpannerHeight").style.height = j; if (Sys.Browser.agent == Sys.Browser.InternetExplorer && Sys.Browser.version < 7) if (a._tabStripPlacement == Sys.Extended.UI.TabStripPlacement.Top || a._tabStripPlacement == Sys.Extended.UI.TabStripPlacement.Bottom) { var i = { x: b.x + b.width, y: b.y, width: h.width, height: h.height }; $common.setBounds(a._body, i) } else { var i = { x: h.x + h.width, y: b.y, width: b.width, height: b.height }; $common.setBounds(a._header, i); $common.setBounds(a._body, h) } } } }, _app_onload: function () { var a = this; if (a._cachedActiveTabIndex != c) { a.set_activeTabIndex(a._cachedActiveTabIndex); a._cachedActiveTabIndex = c; var b = a.get_tabs()[a._activeTabIndex]; if (b) { b.set_wasLoadedOnce(d); b._setFocus(b) } } a._loaded = d } }; Sys.Extended.UI.TabContainer.registerClass(r, Sys.Extended.UI.ControlBase); Sys.registerComponent(Sys.Extended.UI.TabContainer, { name: "tabContainer", parameters: [{ name: p, type: "Number" }] }); Sys.Extended.UI.TabPanel = function (f) { var e = this; Sys.Extended.UI.TabPanel.initializeBase(e, [f]); e._active = b; e._tab = a; e._headerOuter = a; e._headerInner = a; e._header = a; e._owner = a; e._ownerID = a; e._enabled = d; e._tabIndex = c; e._dynamicContextKey = a; e._dynamicServicePath = a; e._dynamicServiceMethod = a; e._dynamicPopulateBehavior = a; e._scrollBars = Sys.Extended.UI.ScrollBars.None; e._onDemandMode = Sys.Extended.UI.OnDemandMode.Always; e._wasLoadedOnce = b; e._updatePanelID = ""; e.isAttachedDisabledEvents = b; e.isAttachedEnabledEvents = b; e._header_onclick$delegate = Function.createDelegate(e, e._header_onclick); e._header_onmouseover$delegate = Function.createDelegate(e, e._header_onmouseover); e._header_onmouseout$delegate = Function.createDelegate(e, e._header_onmouseout); e._header_onmousedown$delegate = Function.createDelegate(e, e._header_onmousedown); e._dynamicPopulate_onpopulated$delegate = Function.createDelegate(e, e._dynamicPopulate_onpopulated); e._oncancel$delegate = Function.createDelegate(e, e._oncancel); e._onkeydown$delegate = Function.createDelegate(e, e._onkeydown); e._disabled_onclick$delegate = Function.createDelegate(e, e._disabled_onclick) }; Sys.Extended.UI.TabPanel.prototype = { add_click: function (a) { this.get_events().addHandler(g, a) }, remove_click: function (a) { this.get_events().removeHandler(g, a) }, raiseClick: function () { var a = this.get_events().getHandler(g); a && a(this, Sys.EventArgs.Empty) }, add_populating: function (a) { this.get_events().addHandler(h, a) }, remove_populating: function (a) { this.get_events().removeHandler(h, a) }, raisePopulating: function () { var a = this.get_events().getHandler(h); a && a(this, Sys.EventArgs.Empty) }, add_populated: function (a) { this.get_events().addHandler(i, a) }, remove_populated: function (a) { this.get_events().removeHandler(i, a) }, raisePopulated: function () { var a = this.get_events().getHandler(i); a && a(this, Sys.EventArgs.Empty) }, get_headerText: function () { return this.get_isInitialized() ? this._header.innerHTML : "" }, set_headerText: function (c) { var a = "headerText", b = this; if (!b.get_isInitialized()) throw Error.invalidOperation(String.format(Sys.Extended.UI.Resources.Tabs_PropertySetBeforeInitialization, a)); if (b.get_headerText() != c) { b._header.innerHTML = c; b.raisePropertyChanged(a) } }, get_headerTab: function () { return this._header }, set_headerTab: function (a) { var b = this; if (typeof a === "string") { a = Sys.get(a); if (!a) throw new Error.argumentNull(e); } if (b._header != a) { if (b.get_isInitialized()) throw Error.invalidOperation(String.format(Sys.Extended.UI.Resources.Tabs_PropertySetAfterInitialization, q)); b._header = a; b.raisePropertyChanged(e) } }, get_enabled: function () { return this._enabled }, set_enabled: function (b) { var a = this; if (b != a._enabled) { a._enabled = b; a.get_isInitialized() && a._makeEnabled(a._enabled); a.raisePropertyChanged("enabled") } }, get_owner: function () { return this._owner }, set_owner: function (a) { var b = this; if (a instanceof Sys.ComponentSet) a = a.get(0); if (b._owner != a) { if (b.get_isInitialized()) throw Error.invalidOperation(String.format(Sys.Extended.UI.Resources.Tabs_PropertySetAfterInitialization, k)); b._owner = a; b.raisePropertyChanged(k) } }, get_ownerID: function () { return this._ownerID }, set_ownerID: function (a) { this._ownerID = a }, get_scrollBars: function () { return this._scrollBars }, set_scrollBars: function (a) { if (this._scrollBars != a) { this._scrollBars = a; this.raisePropertyChanged(l) } }, get_onDemandMode: function () { return this._onDemandMode }, set_onDemandMode: function (a) { if (this._onDemandMode != a) { this._onDemandMode = a; this.raisePropertyChanged("onDemandMode") } }, get_tabIndex: function () { return this._tabIndex }, get_dynamicContextKey: function () { return this._dynamicContextKey }, set_dynamicContextKey: function (a) { if (this._dynamicContextKey != a) { this._dynamicContextKey = a; this.raisePropertyChanged("dynamicContextKey") } }, get_dynamicServicePath: function () { return this._dynamicServicePath }, set_dynamicServicePath: function (a) { if (this._dynamicServicePath != a) { this._dynamicServicePath = a; this.raisePropertyChanged("dynamicServicePath") } }, get_dynamicServiceMethod: function () { return this._dynamicServiceMethod }, set_dynamicServiceMethod: function (a) { if (this._dynamicServiceMethod != a) { this._dynamicServiceMethod = a; this.raisePropertyChanged("dynamicServiceMethod") } }, _get_active: function () { return this._active }, _set_active: function (a) { this._active = a; if (a) this._activate(); else this._deactivate() }, get_updatePanelID: function () { return this._updatePanelID }, set_updatePanelID: function (a) { if (this._updatePanelID != a) { this._updatePanelID = a; this.raisePropertyChanged("updatePanelID") } }, get_wasLoadedOnce: function () { return this._wasLoadedOnce }, set_wasLoadedOnce: function (a) { if (a != this._wasLoadedOnce) { this._wasLoadedOnce = a; this.raisePropertyChanged("wasLoadedOnce") } }, initialize: function () { var c = "span", b = this, d = b.get_owner(); if (!d) { d = $find(b.get_ownerID()); if (d) { d.initialize(); b.set_owner(d) } } Sys.Extended.UI.TabPanel.callBaseMethod(b, m); if (!d) throw Error.invalidOperation(Sys.Extended.UI.Resources.Tabs_OwnerExpected); b._tabIndex = d.get_tabs().length; Array.add(d.get_tabs(), b); var f = b.get_id() + "_tab"; b._tab = document.getElementById(f); var e = b._tab != a; if (!e) { b._headerOuterWrapper = document.createElement(c); b._headerInnerWrapper = document.createElement(c); b._tab = document.createElement(c); b._tab.id = f; b._header.parentNode.replaceChild(b._tab, b._header); b._tab.appendChild(b._headerOuterWrapper); b._headerOuterWrapper.appendChild(b._headerInnerWrapper); b._headerInnerWrapper.appendChild(b._header) } $addHandlers(b._header, { mousedown: b._header_onmousedown$delegate, dragstart: b._oncancel$delegate, selectstart: b._oncancel$delegate, select: b._oncancel$delegate }); if (b._enabled) b._addHandlersOnEnabled(); else Sys.UI.DomElement.addCssClass(b._tab, j); if (!e) { Sys.UI.DomElement.addCssClass(b._headerOuterWrapper, "ajax__tab_outer"); Sys.UI.DomElement.addCssClass(b._headerInnerWrapper, "ajax__tab_inner"); Sys.UI.DomElement.addCssClass(b._header, "ajax__tab_tab"); Sys.UI.DomElement.addCssClass(b.get_element(), "ajax__tab_panel") } }, dispose: function () { var b = this; if (b._dynamicPopulateBehavior) { b._dynamicPopulateBehavior.dispose(); b._dynamicPopulateBehavior = a } $common.removeHandlers(b._header, { mousedown: b._header_onmousedown$delegate, dragstart: b._oncancel$delegate, selectstart: b._oncancel$delegate, select: b._oncancel$delegate }); if (b._enabled) b._isAttachedEnabledEvents && b._removeHandlersOnEnabled(); else b._isAttachedDisabledEvents && $common.removeHandlers(b._header, { click: b._disabled_onclick }); Sys.Extended.UI.TabPanel.callBaseMethod(b, "dispose") }, _addHandlersOnEnabled: function () { var a = this; $addHandlers(a._header, { click: a._header_onclick$delegate, mouseover: a._header_onmouseover$delegate, mouseout: a._header_onmouseout$delegate, keydown: a._onkeydown$delegate }) }, _removeHandlersOnEnabled: function () { var a = this; $common.removeHandlers(a._header, { click: a._header_onclick$delegate, mouseover: a._header_onmouseover$delegate, mouseout: a._header_onmouseout$delegate, keydown: a._onkeydown$delegate }) }, populate: function (c) { var b = this; if (b._dynamicPopulateBehavior && b._dynamicPopulateBehavior.get_element() != b.get_element()) { b._dynamicPopulateBehavior.dispose(); b._dynamicPopulateBehavior = a } if (!b._dynamicPopulateBehavior && b._dynamicServiceMethod) b._dynamicPopulateBehavior = $create(Sys.Extended.UI.DynamicPopulateBehavior, { ContextKey: b._dynamicContextKey, ServicePath: b._dynamicServicePath, ServiceMethod: b._dynamicServiceMethod }, { populated: b._dynamicPopulate_onpopulated$delegate }, a, b.get_element()); if (b._dynamicPopulateBehavior) { b.raisePopulating(); b._dynamicPopulateBehavior.populate(c ? c : b._dynamicContextKey) } }, _activate: function () { var a = this; if (a._enabled) { var e = a.get_element(); $common.setVisible(e, d); Sys.UI.DomElement.addCssClass(a._tab, n); a.populate() } else if (a._get_active()) { var c = a._owner.getNearestTab(b); !!c && a._owner.set_activeTab(c) } a._owner.get_element().style.visibility = "visible" }, _deactivate: function () { var a = this.get_element(); $common.setVisible(a, b); Sys.UI.DomElement.removeCssClass(this._tab, n) }, _show: function () { this._tab.style.display = "" }, _hide: function () { var a = this; a._tab.style.display = "none"; if (a._get_active()) { var c = a._owner.getNearestTab(b); !!c && a._owner.set_activeTab(c) } a._deactivate() }, _makeEnabled: function (f) { var a = this, c = "__tab_" + a.get_element().id; if (f) { if (a.isAttachedDisabledEvents) { $common.removeHandlers(a._header, { click: a._disabled_onclick }); a._isAttachedDisabledEvents = b } a._addHandlersOnEnabled(); a._isAttachedEnabledEvents = d; Sys.UI.DomElement.removeCssClass($get(c), j) } else { if (a._isAttachedEnabledEvents) { a._removeHandlersOnEnabled(); a._isAttachedEnabledEvents = b } $addHandlers(a._header, { click: a._disabled_onclick }); a.isAttachedDisabledEvents = d; if (a._get_active()) { var e = a._owner.getNearestTab(b); !!e && a._owner.set_activeTab(e) } a._deactivate(); Sys.UI.DomElement.addCssClass($get(c), j) } }, _setFocus: function (a) { $get("__tab_" + a.get_element().id).focus() }, _header_onclick: function (b) { var a = this; b.preventDefault(); a.raiseClick(); a.get_owner().set_activeTab(a); a._setFocus(a) }, _header_onmouseover: function () { Sys.UI.DomElement.addCssClass(this._tab, o) }, _header_onmouseout: function () { Sys.UI.DomElement.removeCssClass(this._tab, o) }, _header_onmousedown: function (a) { a.preventDefault() }, _oncancel: function (a) { a.stopPropagation(); a.preventDefault() }, _onkeydown: function (d) { var a = this, e = "which" in d ? d.which : d.keyCode; if (e == "39" && !a._owner._useVerticalStripPlacement || e == "40" && a._owner._useVerticalStripPlacement) { d.preventDefault(); var c = a._owner.getNextTab(b); if (c) { a._owner.set_activeTab(c); a._setFocus(c) } } else if (e == "37" && !a._owner._useVerticalStripPlacement || e == "38" && a._owner._useVerticalStripPlacement) { d.preventDefault(); var c = a._owner.getPreviousTab(b); if (c) { a._owner.set_activeTab(c); a._setFocus(c) } } else if (e == "35") { d.preventDefault(); var c = a._owner.getLastTab(b); if (c) { a._owner.set_activeTab(c); a._setFocus(c) } } else if (e == "36") { d.preventDefault(); var c = a._owner.getFirstTab(b); if (c) { a._owner.set_activeTab(c); a._setFocus(c) } } }, _dynamicPopulate_onpopulated: function () { this.raisePopulated() }, _disabled_onclick: function (a) { a.preventDefault() } }; Sys.Extended.UI.TabPanel.registerClass("Sys.Extended.UI.TabPanel", Sys.UI.Control); Sys.registerComponent(Sys.Extended.UI.TabPanel, { name: "tabPanel", parameters: [{ name: k, type: r }, { name: q, type: "String" }] }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedDynamicPopulate"], a); else a() })();
//END Tabs.Tabs.js
//START ColorPicker.ColorPickerBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "ExtendedColorPicker"; function a() { var h = "hidden", g = "hiding", f = "shown", e = "showing", d = "colorSelectionChanged", b = false, c = true, a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.ColorPickerBehavior = function (e) { var d = this; Sys.Extended.UI.ColorPickerBehavior.initializeBase(d, [e]); d._textbox = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(e); d._button = a; d._sample = a; d._cssClass = "ajax__colorPicker"; d._popupPosition = Sys.Extended.UI.PositioningMode.BottomLeft; d._selectedColor = a; d._enabled = c; d._selectedColorChanging = b; d._popupMouseDown = b; d._isOpen = b; d._blur = new Sys.Extended.UI.DeferredOperation(1, d, d._doBlur); d._popupBehavior = a; d._container = a; d._popupDiv = a; d._colorsTable = a; d._colorsBody = a; d._button$delegates = { click: Function.createDelegate(d, d._button_onclick), keypress: Function.createDelegate(d, d._button_onkeypress), blur: Function.createDelegate(d, d._button_onblur) }; d._element$delegates = { change: Function.createDelegate(d, d._element_onchange), keypress: Function.createDelegate(d, d._element_onkeypress), click: Function.createDelegate(d, d._element_onclick), focus: Function.createDelegate(d, d._element_onfocus), blur: Function.createDelegate(d, d._element_onblur) }; d._popup$delegates = { mousedown: Function.createDelegate(d, d._popup_onmousedown), mouseup: Function.createDelegate(d, d._popup_onmouseup), drag: Function.createDelegate(d, d._popup_onevent), dragstart: Function.createDelegate(d, d._popup_onevent), select: Function.createDelegate(d, d._popup_onevent) }; d._cell$delegates = { mouseover: Function.createDelegate(d, d._cell_onmouseover), mouseout: Function.createDelegate(d, d._cell_onmouseout), click: Function.createDelegate(d, d._cell_onclick) } }; Sys.Extended.UI.ColorPickerBehavior.prototype = { initialize: function () { var a = this; Sys.Extended.UI.ColorPickerBehavior.callBaseMethod(a, "initialize"); if (!Sys.Extended.UI.ColorPickerBehavior._colorRegex) Sys.Extended.UI.ColorPickerBehavior._colorRegex = new RegExp("^[A-Fa-f0-9]{6}$"); var c = a.get_element(); $addHandlers(c, a._element$delegates); a._button && $addHandlers(a._button, a._button$delegates); var b = a.get_selectedColor(); b && a.set_selectedColor(b); a._restoreSample() }, dispose: function () { var b = this; b._sample = a; if (b._button) { $clearHandlers(b._button); b._button = a } if (b._popupBehavior) { b._popupBehavior.dispose(); b._popupBehavior = a } if (b._container) { b._container.parentNode && b._container.parentNode.removeChild(b._container); b._container = a } if (b._popupDiv) { $clearHandlers(b._popupDiv); b._popupDiv = a } if (b._colorsBody) { for (var c = 0; c < b._colorsBody.rows.length; c++) for (var f = b._colorsBody.rows[c], d = 0; d < f.cells.length; d++) $clearHandlers(f.cells[d].firstChild); b._colorsBody = a } b._colorsTable = a; var e = b.get_element(); e && $clearHandlers(e); Sys.Extended.UI.ColorPickerBehavior.callBaseMethod(b, "dispose") }, get_button: function () { return this._button }, set_button: function (b) { var a = this; if (a._button !== b) { a._button && a.get_isInitialized() && $common.removeHandlers(a._button, a._button$delegates); a._button = b; a._button && a.get_isInitialized() && $addHandlers(a._button, a._button$delegates); a.raisePropertyChanged("button") } }, get_sample: function () { return this._sample }, set_sample: function (a) { if (this._sample !== a) { this._sample = a; this.raisePropertyChanged("sample") } }, get_selectedColor: function () { var b = this; if (b._selectedColor === a) { var c = b._textbox.get_Value(); if (b._validate(c)) b._selectedColor = c } return b._selectedColor }, set_selectedColor: function (d) { var a = this; if (a._selectedColor !== d && a._validate(d)) { a._selectedColor = d; a._selectedColorChanging = c; d !== a._textbox.get_Value() && a._textbox.set_Value(d); a._showSample(d); a._selectedColorChanging = b; a.raisePropertyChanged("selectedColor") } }, get_enabled: function () { return this._enabled }, set_enabled: function (a) { if (this._enabled !== a) { this._enabled = a; this.raisePropertyChanged("enabled") } }, get_popupPosition: function () { return this._popupPosition }, set_popupPosition: function (a) { if (this._popupPosition !== a) { this._popupPosition = a; this.raisePropertyChanged("popupPosition") } }, add_colorSelectionChanged: function (a) { this.get_events().addHandler(d, a) }, remove_colorSelectionChanged: function (a) { this.get_events().removeHandler(d, a) }, raiseColorSelectionChanged: function () { var a = this.get_events().getHandler(d); a && a(this, Sys.EventArgs.Empty) }, add_showing: function (a) { this.get_events().addHandler(e, a) }, remove_showing: function (a) { this.get_events().removeHandler(e, a) }, raiseShowing: function (b) { var a = this.get_events().getHandler(e); a && a(this, b) }, add_shown: function (a) { this.get_events().addHandler(f, a) }, remove_shown: function (a) { this.get_events().removeHandler(f, a) }, raiseShown: function () { var a = this.get_events().getHandler(f); a && a(this, Sys.EventArgs.Empty) }, add_hiding: function (a) { this.get_events().addHandler(g, a) }, remove_hiding: function (a) { this.get_events().removeHandler(g, a) }, raiseHiding: function (b) { var a = this.get_events().getHandler(g); a && a(this, b) }, add_hidden: function (a) { this.get_events().addHandler(h, a) }, remove_hidden: function (a) { this.get_events().removeHandler(h, a) }, raiseHidden: function () { var a = this.get_events().getHandler(h); a && a(this, Sys.EventArgs.Empty) }, show: function () { var a = this; a._ensureColorPicker(); if (!a._isOpen) { var b = new Sys.CancelEventArgs; a.raiseShowing(b); if (b.get_cancel()) return; a._isOpen = c; a._popupBehavior.show(); a.raiseShown() } }, hide: function () { var a = this; if (a._isOpen) { var c = new Sys.CancelEventArgs; a.raiseHiding(c); if (c.get_cancel()) return; a._container && a._popupBehavior.hide(); a._isOpen = b; a.raiseHidden(); a._popupMouseDown = b } }, _focus: function () { if (this._button) this._button.focus(); else this.get_element().focus() }, _doBlur: function (d) { var a = this; if (!d && Sys.Browser.agent === Sys.Browser.Opera) a._blur.post(c); else { !a._popupMouseDown && a.hide(); a._popupMouseDown = b } }, _buildColorPicker: function () { var a = this, d = a.get_element(), c = a.get_id(); a._container = $common.createElementFromTemplate({ nodeName: "div", properties: { id: c + "_container" }, cssClasses: [a._cssClass] }, d.parentNode); a._popupDiv = $common.createElementFromTemplate({ nodeName: "div", events: a._popup$delegates, properties: { id: c + "_popupDiv" }, cssClasses: ["ajax__colorPicker_container"], visible: b }, a._container) }, _buildColors: function () { var a = this, f = a.get_id(); a._colorsTable = $common.createElementFromTemplate({ nodeName: "table", properties: { id: f + "_colorsTable", cellPadding: 0, cellSpacing: 1, border: 0, style: { margin: "auto" } } }, a._popupDiv); a._colorsBody = $common.createElementFromTemplate({ nodeName: "tbody", properties: { id: f + "_colorsBody" } }, a._colorsTable); for (var c = ["00", "99", "33", "66", "FF", "CC"], b, e, h = c.length, i = 0; i < h; i++) for (var j = $common.createElementFromTemplate({ nodeName: "tr" }, a._colorsBody), d = 0; d < h; d++) { if (d === 3) j = $common.createElementFromTemplate({ nodeName: "tr" }, a._colorsBody); for (var g = 0; g < h; g++) { b = c[i] + c[d] + c[g]; e = "#" + b; var k = $common.createElementFromTemplate({ nodeName: "td" }, j), l = $common.createElementFromTemplate({ nodeName: "div", properties: { id: f + "_color_" + b, color: b, title: e, style: { backgroundColor: e }, innerHTML: "&nbsp;" }, events: a._cell$delegates }, k) } } }, _ensureColorPicker: function () { var a = this; if (!a._container) { var b = a.get_element(); a._buildColorPicker(); a._buildColors(); a._popupBehavior = new $create(Sys.Extended.UI.PopupBehavior, { parentElement: b }, {}, {}, a._popupDiv); a._popupBehavior.set_positioningMode(a._popupPosition) } }, _showSample: function (b) { if (this._sample) { var a = ""; if (b) a = "#" + b; this._sample.style.backgroundColor = a } }, _restoreSample: function () { this._showSample(this._selectedColor) }, _validate: function (a) { return a && Sys.Extended.UI.ColorPickerBehavior._colorRegex.test(a) }, _element_onfocus: function () { var a = this; if (!a._enabled) return; if (!a._button) { a.show(); a._popupMouseDown = b } }, _element_onblur: function () { if (!this._enabled) return; !this._button && this._doBlur() }, _element_onchange: function () { var a = this; if (!a._selectedColorChanging) { var b = a._textbox.get_Value(); if (a._validate(b) || b === "") { a._selectedColor = b; a._restoreSample() } } }, _element_onkeypress: function (a) { if (!this._enabled) return; if (!this._button && a.charCode === Sys.UI.Key.esc) { a.stopPropagation(); a.preventDefault(); this.hide() } }, _element_onclick: function () { var a = this; if (!a._enabled) return; if (!a._button) { a.show(); a._popupMouseDown = b } }, _popup_onevent: function (a) { a.stopPropagation(); a.preventDefault() }, _popup_onmousedown: function () { this._popupMouseDown = c }, _popup_onmouseup: function () { var a = this; Sys.Browser.agent === Sys.Browser.Opera && a._blur.get_isPending() && a._blur.cancel(); a._popupMouseDown = b; a._focus() }, _cell_onmouseover: function (a) { a.stopPropagation(); var b = a.target; this._showSample(b.color) }, _cell_onmouseout: function (a) { a.stopPropagation(); this._restoreSample() }, _cell_onclick: function (b) { var a = this; b.stopPropagation(); b.preventDefault(); if (!a._enabled) return; var d = b.target; a.set_selectedColor(d.color); a._blur.post(c); a.raiseColorSelectionChanged() }, _button_onclick: function (c) { var a = this; c.preventDefault(); c.stopPropagation(); if (!a._enabled) return; if (!a._isOpen) a.show(); else a.hide(); a._focus(); a._popupMouseDown = b }, _button_onblur: function () { var a = this; if (!a._enabled) return; !a._popupMouseDown && a.hide(); a._popupMouseDown = b }, _button_onkeypress: function (a) { if (!this._enabled) return; if (a.charCode === Sys.UI.Key.esc) { a.stopPropagation(); a.preventDefault(); this.hide() } this._popupMouseDown = b } }; Sys.Extended.UI.ColorPickerBehavior.registerClass("Sys.Extended.UI.ColorPickerBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.ColorPickerBehavior, { name: "colorPicker" }) } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedBase", "ExtendedCommon", "ExtendedThreading", "ExtendedPopup"], a); else a() })();
//END ColorPicker.ColorPickerBehavior.js
//START HtmlEditorExtender.HtmlEditorExtenderBehavior.js
// (c) 2010 CodePlex Foundation
(function () { var b = "HtmlEditorExtenderBehavior"; function a() { var z = "ToolbarButtons", q = "change", y = "BackColor", t = "block", w = "ForeColor", m = "blur", j = "click", f = "on", d = "", s = "select", e = "px", l = "button", k = "input", v = "_ExtenderSourceView", p = "ajax__html_editor_extender_texteditor", c = true, n = "both", o = "auto", u = "_ExtenderContentEditable", h = "unselectable", g = "div", r = "content", b = false, a = null; Type.registerNamespace("Sys.Extended.UI"); Sys.Extended.UI.HtmlEditorExtenderBehavior = function (j) { var f = "ajax__html_editor_extender_button", d = this; Sys.Extended.UI.HtmlEditorExtenderBehavior.initializeBase(d, [j]); d._textbox = Sys.Extended.UI.TextBoxWrapper.get_Wrapper(j); var i = d.get_id(); d._backColor = a; d._foreColor = a; d._commandName = a; d._savedRange = a; d._isInFocus = a; d._oldContents = a; d._newContents = a; d._isDirty = b; d._viewMode = r; d._displaySourceTab = b; d._ButtonWidth = 23; d._ButtonHeight = 21; d._containerTemplate = { nodeName: g, properties: { id: i + "_ExtenderContainer" }, cssClasses: [h, "ajax__html_editor_extender_container"] }; d._editableTemplate = { nodeName: g, properties: { id: i + u, style: { overflow: o, clear: n }, contentEditable: c }, cssClasses: [p] }; d._sourceViewTemplate = { nodeName: g, properties: { id: i + v, style: { height: "90%", overflow: o, clear: n }, contentEditable: c }, cssClasses: [p] }; d._buttonTemplate = { nodeName: k, properties: { type: l, style: { width: d._ButtonWidth + e, height: d._ButtonHeight + e } }, cssClasses: [f] }; d._buttonContentTemplate = { nodeName: k, properties: { type: l, style: { width: d._ButtonWidth + e, height: d._ButtonHeight + e } }, cssClasses: ["ajax__html_editor_extender_button ajax__html_editor_extender_content"] }; d._buttonSourceTemplate = { nodeName: k, properties: { type: l, style: { width: d._ButtonWidth + e, height: d._ButtonHeight + e } }, cssClasses: ["ajax__html_editor_extender_button ajax__html_editor_extender_source"] }; d._textboxTemplate = { nodeName: k, properties: { type: "text" } }; d._dropDownTemplate = { nodeName: s, properties: { style: { width: d._ButtonWidth + e, height: d._ButtonHeight + e } }, cssClasses: [f] }; d._topButtonContainerTemplate = { nodeName: g, properties: { id: i + "_ExtenderButtonContainer" }, cssClasses: ["ajax__html_editor_extender_buttoncontainer"] }; d._topButtonContainerTemplate2 = { nodeName: g, properties: { id: i + "_ExtenderButtonContainer2", style: { clear: n } }, cssClasses: ["ajax__html_editor_extender_buttoncontainer2"] }; d._container = a; d._toolbarButtons = a; d._editableDiv = a; d._sourceViewDiv = a; d._topButtonContainer = a; d._topButtonContainer2 = a; d._buttons = []; d._btnClickHandler = a; d._requested_buttons = []; d._colorPicker = a; d._txtBoxForColor = a; d._contentViewButton = a; d._sourceViewButton = a; d._popupDiv = a; d._btnDone = a; d._btnCancel = a; d._isFocusInEditableDiv; d._textBoxOnBlurDelegate = a; d._editableDivOnBlurDelegate = a; d._editableDivOnFocusDelegate = a; d._btnClickDelegate = a; d._contentViewClickDelegate = a; d._sourceViewClickDelegate = a; d._sourceViewDivOnBlurDelegate = a; d._imageCancelClickDelegate = a; if (typeof WebForm_OnSubmit == "function" && !Sys.Extended.UI.HtmlEditorExtenderBehavior._originalWebForm_OnSubmit) { Sys.Extended.UI.HtmlEditorExtenderBehavior._originalWebForm_OnSubmit = WebForm_OnSubmit; WebForm_OnSubmit = Sys.Extended.UI.HtmlEditorExtenderBehavior.WebForm_OnSubmit } }; Sys.Extended.UI.HtmlEditorExtenderBehavior.prototype = { initialize: function () { var h = "_popupDiv", e = this; Sys.Extended.UI.HtmlEditorExtenderBehavior.callBaseMethod(e, "initialize"); A[A.length] = e; e._button_list = []; e._createContainer(); e._createTopButtonContainer(); e._createButton(); e._createEditableDiv(); if (e.get_displaySourceTab()) { e._createSourceViewDiv(); e._createTopButtonContainer2() } var i = e._textbox._element.parentNode; while (i != a && i.nodeName != "FORM") i = i.parentNode; if (i == a) throw "Missing Form tag"; var g = e.get_id(); e._popupDiv = $get(g + h); if (e._popupDiv == a) { if (g.indexOf("_") != -1) g = g.substring(g.lastIndexOf("_") + 1); else g = d; e._popupDiv = $get(g + h) } if (e._popupDiv != a) { e._popupBehavior = $create(Sys.Extended.UI.PopupBehavior, { id: g + "_ImagePopupBehavior", parentElement: e.get_element(), unselectable: f }, a, a, e._popupDiv); e._btnCancel = $get(g + "_btnCancel"); e._imageCancelClickDelegate = Function.createDelegate(e, e._btnCancel_click); $addHandler(e._btnCancel, j, e._imageCancelClickDelegate, c); e._elementVisible(e._popupDiv, b) } e._textBoxOnBlurDelegate = Function.createDelegate(e, e._textBox_onblur); e._editableDivOnBlurDelegate = Function.createDelegate(e, e._editableDiv_onblur); e._editableDivOnFocusDelegate = Function.createDelegate(e, e._editableDiv_onfocus); e._btnClickDelegate = Function.createDelegate(e, e._executeCommand); if (e.get_displaySourceTab()) { e._contentViewClickDelegate = Function.createDelegate(e, e._contentView_click); e._sourceViewClickDelegate = Function.createDelegate(e, e._sourceView_click); e._sourceViewDivOnBlurDelegate = Function.createDelegate(e, e._sourceViewDiv_onblur) } $addHandler(e._textbox._element, m, e._textBoxOnBlurDelegate, c); $addHandler(e._editableDiv, m, e._editableDivOnBlurDelegate, c); $addHandler(e._editableDiv, "focus", e._editableDivOnFocusDelegate, c); $addHandler(e._topButtonContainer, j, e._btnClickDelegate, c); if (e.get_displaySourceTab()) { $addHandler(e._contentViewButton, j, e._contentViewClickDelegate, c); $addHandler(e._sourceViewButton, j, e._sourceViewClickDelegate, c); $addHandler(e._sourceViewDiv, m, e._sourceViewDivOnBlurDelegate, c) } }, _dispose: function () { var b = this; $removeHandler(b._textbox._element, m, b._textBoxOnBlurDelegate); $removeHandler(b._editableDiv, m, b._editableDivOnBlurDelegate); $removeHandler(b._editableDiv, "focus", b._editableDivOnFocusDelegate); $removeHandler(b._topButtonContainer, j, b._btnClickDelegate); if (b.get_displaySourceTab()) { $removeHandler(b._contentViewButton, j, b._contentViewClickDelegate); $removeHandler(b._sourceViewButton, j, b._sourceViewClickDelegate); $removeHandler(b._sourceViewDiv, m, b._sourceViewDivOnBlurDelegate) } b._popupDiv != a && $removeHandler(b._btnCancel, j, b._imageCancelClickDelegate); Sys.Extended.UI.HtmlEditorExtenderBehavior.callBaseMethod(b, "dispose") }, _createContainer: function () { var a = this, e = a.get_element(); a._container = $common.createElementFromTemplate(a._containerTemplate, e.parentNode); a._elementVisible(a._textbox._element, c); var d = $common.getBounds(a._textbox._element); $common.setSize(a._container, { width: d.width, height: d.height }); a._elementVisible(a._textbox._element, b); $common.wrapElement(a._textbox._element, a._container, a._container) }, _createTopButtonContainer: function () { this._topButtonContainer = $common.createElementFromTemplate(this._topButtonContainerTemplate, this._container) }, _createButton: function () { var p = "ajax__html_editor_extender_button ajax__html_editor_extender_", o = "21px", j = "transparent", r = "solid 1px #c2c2c2", n = "Arial", m = "11px", d = "left", e = "span", c = this, v = Sys.Browser.agent == Sys.Browser.InternetExplorer; for (i = 0; i < c._toolbarButtons.length; i++) { var g; if (c._toolbarButtons[i].CommandName == "HorizontalSeparator") g = $common.createElementFromTemplate({ nodeName: e, cssClasses: ["ajax__html_editor_extender_separator"] }, c._topButtonContainer); else if (c._toolbarButtons[i].CommandName == "FontName") { g = $common.createElementFromTemplate({ nodeName: "nobr", properties: { style: { "float": d, cssFloat: d, fontSize: m } }, cssClasses: ["fontnameclass"], children: [{ nodeName: e, properties: { textContent: "Font ", innerText: "Font ", style: { paddingLeft: "5px", fontWeight: "bold" } } }] }, c._topButtonContainer); _select = $common.createElementFromTemplate({ nodeName: s, properties: { style: { fontSize: "9px", fontFamily: n, height: "20px", width: "90px" } }, events: { change: function () { var a = this.options[this.selectedIndex].value; setTimeout(function () { document.execCommand("fontname", b, a) }, 200) } } }, g); var u = [{ Text: n, Value: "arial,helvetica,sans-serif" }, { Text: "Courier New", Value: "courier new,courier,monospace" }, { Text: "Georgia", Value: "georgia,times new roman,times,serif" }, { Text: "Tahoma", Value: "tahoma,arial,helvetica,sans-serif" }, { Text: "Times New Roman", Value: "times new roman,times,serif" }, { Text: "Verdana", Value: "verdana,arial,helvetica,sans-serif" }, { Text: "Impact", Value: "impact" }, { Text: "WingDings", Value: "wingdings" }]; for (x in u) { var q = document.createElement("option"); q.text = u[x].Text; q.value = u[x].Value; try { _select.add(q, a) } catch (A) { _select.add(q) } } _select.setAttribute("id", c._id + c._toolbarButtons[i].CommandName); _select.setAttribute("name", c._toolbarButtons[i].CommandName); _select.setAttribute("title", c._toolbarButtons[i].Tooltip); _select.setAttribute(h, f) } else if (c._toolbarButtons[i].CommandName == "FontSize") { g = $common.createElementFromTemplate({ nodeName: "nobr", properties: { style: { "float": d, cssFloat: d, fontSize: m } }, cssClasses: ["fontsizeclass"], children: [{ nodeName: e, properties: { textContent: "Size ", innerText: "Size ", style: { paddingLeft: "5px", fontWeight: "bold" } } }] }, c._topButtonContainer); _select = $common.createElementFromTemplate({ nodeName: s, properties: { style: { fontSize: m, fontFamily: n, height: "20px", width: v ? "30px" : "50px" } }, events: { change: function () { var a = this.options[this.selectedIndex].value; setTimeout(function () { document.execCommand("fontsize", b, a) }, 200) } } }, g); var u = [{ Text: "1", Value: "1" }, { Text: "2", Value: "2" }, { Text: "3", Value: "3" }, { Text: "4", Value: "4" }, { Text: "5", Value: "5" }, { Text: "6", Value: "6" }, { Text: "7", Value: "7" }]; for (x in u) { var q = document.createElement("option"); q.text = u[x].Text; q.value = u[x].Value; try { _select.add(q, a) } catch (A) { _select.add(q) } } _select.setAttribute("id", c._id + c._toolbarButtons[i].CommandName); _select.setAttribute("name", c._toolbarButtons[i].CommandName); _select.setAttribute("title", c._toolbarButtons[i].Tooltip); _select.setAttribute(h, f) } else if (c._toolbarButtons[i].CommandName == w) { g = $common.createElementFromTemplate({ nodeName: e, properties: { style: { backgroundColor: "#ff0000", border: r, display: t, "float": d, cssFloat: d } }, cssClasses: ["forecolorclass"] }, c._topButtonContainer); g.setAttribute(h, f); c._foreColor = $common.createElementFromTemplate({ nodeName: k, properties: { type: l, id: c._id + c._toolbarButtons[i].CommandName, name: c._toolbarButtons[i].CommandName, title: c._toolbarButtons[i].Tooltip, style: { backgroundColor: j, width: o, height: "19px", color: j } }, cssClasses: [p + c._toolbarButtons[i].CommandName] }, g); c._foreColor.setAttribute(h, f) } else if (c._toolbarButtons[i].CommandName == y) { g = $common.createElementFromTemplate({ nodeName: e, properties: { style: { backgroundColor: "#ff0000", border: r, display: t, "float": d, cssFloat: d } }, cssClasses: ["backcolorclass"] }, c._topButtonContainer); g.setAttribute(h, f); c._backColor = $common.createElementFromTemplate({ nodeName: k, properties: { type: l, id: c._id + c._toolbarButtons[i].CommandName, name: c._toolbarButtons[i].CommandName, title: c._toolbarButtons[i].Tooltip, style: { backgroundColor: j, width: o, height: "19px", color: j } }, cssClasses: [p + c._toolbarButtons[i].CommandName] }, g); c._backColor.setAttribute(h, f) } else { var z = { Copy: 1, Cut: 1, Paste: 1 }; if (!(Sys.Browser.agent != Sys.Browser.InternetExplorer && z[c._toolbarButtons[i].CommandName])) { g = $common.createElementFromTemplate({ nodeName: k, properties: { type: l, id: c._id + c._toolbarButtons[i].CommandName, name: c._toolbarButtons[i].CommandName, title: c._toolbarButtons[i].Tooltip, style: { width: "23px", height: o } }, cssClasses: [p + c._toolbarButtons[i].CommandName] }, c._topButtonContainer); g.setAttribute(h, f) } Array.add(c._buttons, g) } } }, _createEditableDiv: function () { var a = this, f = a.get_id(), d; a._elementVisible(a._container, c); if (a.get_displaySourceTab()) d = a._container.clientHeight - (a._topButtonContainer.clientHeight + 25); else d = a._container.clientHeight - a._topButtonContainer.clientHeight; a._elementVisible(a._container, b); a._editableDiv = $common.createElementFromTemplate({ nodeName: g, properties: { id: f + u, style: { height: d + e, overflow: o, clear: n }, contentEditable: c }, cssClasses: [p] }, a._container); a._editableDiv.innerHTML = a._textbox._element.value; a._oldContents = a._editableDiv.innerHTML; $common.setVisible(a._textbox._element, b) }, _createTopButtonContainer2: function () { var a = this; a._topButtonContainer2 = $common.createElementFromTemplate(a._topButtonContainerTemplate2, a._container); a._contentViewButton = $common.createElementFromTemplate(a._buttonContentTemplate, a._topButtonContainer2); a._sourceViewButton = $common.createElementFromTemplate(a._buttonSourceTemplate, a._topButtonContainer2) }, _createSourceViewDiv: function () { var a = this, f = a.get_id(), d = a._container.clientHeight - 25; a._sourceViewDiv = $common.createElementFromTemplate({ nodeName: g, properties: { id: f + v, style: { height: d + e, overflow: o, clear: n }, contentEditable: c }, cssClasses: [p] }, a._container); $common.setVisible(a._sourceViewDiv, b) }, _editableDiv_onblur: function () { var a = this; a._textbox._element.value = a._encodeHtml(); a._isFocusInEditableDiv = b; if (a._oldContents != a._editableDiv.innerHTML) { a._isDirty = c; a._oldContents = a._editableDiv.innerHTML; a._raiseEvent(q) } }, _editableDiv_onfocus: function () { this._isFocusInEditableDiv = b }, _sourceViewDiv_onblur: function () { var a = this; if (a._oldContents != (a._sourceViewDiv.innerText || a._sourceViewDiv.textContent)) { a._isDirty = c; if (a._sourceViewDiv.textContent != undefined) a._editableDiv.innerHTML = a._sourceViewDiv.textContent; else a._editableDiv.innerHTML = a._sourceViewDiv.innerText; a._oldContents = a._editableDiv.innerHTML; a._raiseEvent(q) } }, _textBox_onblur: function () { this._editableDiv.innerHTML = this._textbox._element.value }, _contentView_click: function () { var a = this; if (a._viewMode != r) { $common.setVisible(a._topButtonContainer, c); $common.setVisible(a._editableDiv, c); if (a._sourceViewDiv.textContent != undefined) a._editableDiv.innerHTML = a._sourceViewDiv.textContent; else a._editableDiv.innerHTML = a._sourceViewDiv.innerText; a._oldContents = a._editableDiv.innerHTML; $common.setVisible(a._sourceViewDiv, b); a._viewMode = r } }, _sourceView_click: function () { var a = this; if (a._viewMode != "source") { $common.setVisible(a._sourceViewDiv, c); if (a._sourceViewDiv.textContent != undefined) a._sourceViewDiv.textContent = a._editableDiv.innerHTML; else a._sourceViewDiv.innerText = a._editableDiv.innerHTML; a._oldContents = a._editableDiv.innerHTML; $common.setVisible(a._editableDiv, b); $common.setVisible(a._topButtonContainer, b); a._viewMode = "source" } }, _btnCancel_click: function () { this._popupBehavior.hide() }, _attributes: { style: "st_yle_", size: "si_ze_", color: "co_lor_", face: "fa_ce_", align: "al_ign_" }, _rgbToHex: function (b) { var a = /rgb\s?\(\s?(\d+)\s?,\s?(\d+)\s?,\s?(\d+)\s?\)/.exec(b); return "#" + (parseInt(a[3], 10) | parseInt(a[2], 10) << 8 | parseInt(a[1], 10) << 16).toString(16) }, _encodeHtml: function () { for (var e = Sys.Browser.agent == Sys.Browser.InternetExplorer, g = this._editableDiv.getElementsByTagName("*"), b, f = 0; b = g[f]; f++) { try { b.className = d; b.removeAttribute("class") } catch (j) { } try { b.id = d; b.removeAttribute("id") } catch (j) { } try { b.removeAttribute("width") } catch (j) { } e } var a = this._editableDiv.innerHTML; if (e) { var h = /\<[^\>]+\>/g; a = a.replace(h, function (a) { var c = d, b = d; if (a.toLowerCase().substring(0, 2) != "<a") { c = /\=\'([^\'])*\'/g; b = /\=([^\"][^\s\/\>]*)/g; return a.replace(c, '="$1"').replace(b, '="$1"') } else return a }) } var i = this._rgbToHex, c = function () { a = a.replace(/(\<[^\>]+)(rgb\s?\(\d{1,3}\s?\,\s?\d{1,3}\s?\,\s?\d{1,3}\s?\))([^\>]*\>)/gi, function (e, b, a, c) { return (b || d) + (a && i(a) || d) + (c || d) }) }; c(); c(); a = a.replace(/\sclass\=\"\"/gi, d).replace(/\sid\=\"\"/gi, d); a = a.replace(/\<(\/?)strong\>/gi, "<$1b>").replace(/\<(\/?)em\>/gi, "<$1i>"); a = a.replace(/&/ig, "&amp;").replace(/\xA0/ig, "&nbsp;"); a = a.replace(/</ig, "&lt;").replace(/>/ig, "&gt;").replace(/\'/ig, "&apos;").replace(/\"/ig, "&quot;"); return a }, _editableDiv_submit: function () { var c = 3, b = a; setTimeout(function () { this._editableDiv != a && this._editableDiv.focus() }, 0); if (Sys.Browser.agent != Sys.Browser.Firefox) if (document.selection) { b = document.selection.createRange(); b.moveStart("character", c); b.select() } else { b = window.getSelection(); b.collapse(this._editableDiv.firstChild, c) } this._textbox._element.value = this._encodeHtml() }, _executeCommand: function (h) { var j = "createLink", e = this; if (h.target.name == undefined) return; var q = Sys.Browser.agent == Sys.Browser.Firefox, m = Function.createDelegate(e, e._colorPicker_onchange); q && document.execCommand("styleWithCSS", b, b); var t = { JustifyRight: 1, JustifyLeft: 1, JustifyCenter: 1, JustifyFull: 1, Indent: 1, Outdent: 1 }; if (t[h.target.name]) try { document.execCommand(h.target.name, b, a) } catch (v) { if (v && v.result == 2147500037) { var r = window.getSelection().getRangeAt(0), k = document.createElement(g), n = b; k.style.height = "1px;"; if (r.startContainer.contentEditable == "true") { window.getSelection().collapseToEnd(); n = c } var i = window.getSelection().getRangeAt(0).startContainer; while (i && i.contentEditable != "true") i = i.parentNode; if (!i) throw "Selected node is not editable!"; i.insertBefore(k, i.childNodes[0]); document.execCommand(h.target.name, b, a); k.parentNode.removeChild(k); n && window.getSelection().addRange(r) } else window.console && window.console.log && window.console.log(v) } else if (h.target.name == j) { var s = prompt("Please insert  URL", d); s && document.execCommand(j, b, s) } else if (h.target.name == w) { e._commandName = h.target.name; e.saveSelection(); if (!e._foreColorPicker) { e._foreColorPicker = $create(Sys.Extended.UI.ColorPickerBehavior, { unselectable: f }, {}, {}, e._foreColor); e._foreColorPicker.set_sample(e._foreColor.parentNode); e._foreColorPicker.add_colorSelectionChanged(m) } e._foreColorPicker.show() } else if (h.target.name == y) { e._commandName = h.target.name; e.saveSelection(); if (!e._backColorPicker) { e._backColorPicker = $create(Sys.Extended.UI.ColorPickerBehavior, { unselectable: f }, {}, {}, e._backColor); e._backColorPicker.set_sample(e._backColor.parentNode); e._backColorPicker.add_colorSelectionChanged(m) } e._backColorPicker.show() } else if (h.target.name == "UnSelect") if (q) { e._editableDiv.focus(); var u = window.getSelection(); u.collapse(e._editableDiv.firstChild, 0) } else document.execCommand(h.target.name, b, a); else if (h.target.name == "InsertImage") { !e._isFocusInEditableDiv && e._editableDiv.focus(); e.saveSelection(); for (var o = Sys.Application.getComponents(), l = 0; l < o.length; l++) { var p = o[l]; if (Sys.Extended.UI.HtmlEditorExtenderBehavior.isInstanceOfType(p)) if (p._popupBehavior._visible) return } e._elementVisible(e._popupDiv, c); e._popupBehavior.show(); $common.setStyle(e._popupDiv, { position: "fixed", top: d, left: d, opacity: "1" }) } else document.execCommand(h.target.name, b, a) }, _colorPicker_onchange: function (d) { var a = "stylewithcss"; this.restoreSelection(); if (/backcolor/i.test(this._commandName)) { var e = Sys.Browser.agent == Sys.Browser.Firefox; if (e) { document.execCommand(a, b, c); document.execCommand("hilitecolor", b, "#" + d._selectedColor); document.execCommand(a, b, b) } else document.execCommand("backcolor", b, "#" + d._selectedColor) } else document.execCommand(this._commandName, b, "#" + d._selectedColor) }, saveSelection: function () { if (window.getSelection) this._savedRange = window.getSelection().getRangeAt(0); else if (document.selection) this._savedRange = document.selection.createRange() }, restoreSelection: function () { var b = this; b._isInFocus = c; if (b._savedRange != a) if (window.getSelection) { var d = window.getSelection(); d.rangeCount > 0 && d.removeAllRanges(); d.addRange(b._savedRange) } else if (document.createRange) window.getSelection().addRange(b._savedRange); else document.selection && b._savedRange.select() }, _elementVisible: function (a, f) { var e = "visibleChanged", d = "displayChanged"; if (a.tagName == "FORM") return; if (f) { if (a.style.display == "none") { a.style.display = t; a.setAttribute(d, c) } if (a.style.visibility == "hidden") { a.style.visibility = "visible"; a.setAttribute(e, c) } this._elementVisible(a.parentNode, c) } else { if (a.getAttribute(d)) { a.style.display = "none"; a.removeAttribute(d) } a.getAttribute(e) && a.removeAttribute(e); this._elementVisible(a.parentNode, b) } }, _raiseEvent: function (c, a) { var b = this.get_events().getHandler(c); if (b) { if (!a) a = Sys.EventArgs.Empty; b(this, a) } }, get_ButtonWidth: function () { return this._ButtonWidth }, set_ButtonWidth: function (a) { if (this._ButtonWidth != a) { this._ButtonWidth = a; this.raisePropertyChanged("ButtonWidth") } }, get_ButtonHeight: function () { return this._ButtonHeight }, set_ButtonHeight: function (a) { if (this._ButtonHeight != a) { this._ButtonHeight = a; this.raisePropertyChanged("ButtonHeight") } }, get_ToolbarButtons: function () { return this._toolbarButtons }, set_ToolbarButtons: function (a) { if (this._toolbarButtons != a) { this._toolbarButtons = a; this.raisePropertyChanged(z) } }, get_displaySourceTab: function () { return this._displaySourceTab }, set_displaySourceTab: function (a) { if (this._displaySourceTab != a) { this._displaySourceTab = a; this.raisePropertyChanged("DisplaySourceTab") } }, add_change: function (a) { this.get_events().addHandler(q, a) }, remove_change: function (a) { this.get_events().removeHandler(q, a) }, get_isDirty: function () { return this._isDirty } }; Sys.Extended.UI.HtmlEditorExtenderBehavior.registerClass("Sys.Extended.UI.HtmlEditorExtenderBehavior", Sys.Extended.UI.BehaviorBase); Sys.registerComponent(Sys.Extended.UI.HtmlEditorExtenderBehavior, { name: "HtmlEditorExtender", parameters: [{ name: z, type: "HtmlEditorExtenderButton[]" }] }); var A = []; Sys.Extended.UI.HtmlEditorExtenderBehavior.WebForm_OnSubmit = function () { var d = Sys.Extended.UI.HtmlEditorExtenderBehavior._originalWebForm_OnSubmit(); if (d) for (var b = Sys.Application.getComponents(), a = 0; a < b.length; a++) { var c = b[a]; Sys.Extended.UI.HtmlEditorExtenderBehavior.isInstanceOfType(c) && c._editableDiv_submit() } return d }, Sys.Extended.UI.HtmlEditorExtenderBehavior.IsDirty = function () { for (var d = Sys.Application.getComponents(), a = 0; a < d.length; a++) { var e = d[a]; if (Sys.Extended.UI.HtmlEditorExtenderBehavior.isInstanceOfType(e)) if (e._isDirty) return c } return b }, ajaxClientUploadComplete = function (b, i) { for (var c = a, h = Sys.Application.getComponents(), f = 0; f < h.length; f++) { var d = h[f]; if (Sys.Extended.UI.HtmlEditorExtenderBehavior.isInstanceOfType(d)) if (d._popupBehavior._visible) { c = d; f = d.length } } var g = i.get_postedUrl().replace("&amp;", "&"); if (c != a) { c.restoreSelection(); if (document.selection && document.selection.createRange) try { c._savedRange.pasteHTML("<img src='" + g + "' />") } catch (j) { var e = document.createElement("img"); e.src = g; c._savedRange.insertNode(e) } else { var e = document.createElement("img"); e.src = g; c._savedRange.insertNode(e) } if (b._filesInQueue.length == b._currentQueueIndex + 1) { while (b._filesInQueue.length >= 1) { b._filesInQueue[0].removeNodeFrom(b._queueContainer); Array.removeAt(b._filesInQueue, 0) } b._showFilesCount(); b._reset(); c._popupBehavior.hide() } } } } if (window.Sys && Sys.loader) Sys.loader.registerScript(b, ["ExtendedBase", "ExtendedCommon"], a); else a() })();
//END HtmlEditorExtender.HtmlEditorExtenderBehavior.js
if (typeof (Sys) !== 'undefined') Sys.Application.notifyScriptLoaded();
//(function () { var fn = function () { $get("ctl00_sm_HiddenField").value += ';;AjaxControlToolkit, Version=4.1.7.429, Culture=neutral, PublicKeyToken=28f01b0e84b6d53e:en-US:88c49a6a-0d1d-47b4-940b-08a788536015:de1feab2:f9cec9bc:ab09e3fe:f2c8e708:87104b7c:a67c2700:8613aea7:3202a5a2:720a52bf:589eaa30:be6fb298:1a2a8638:698129cf:59fb9c6f:fcf0e993:fb9b4c57:ccb96cf9:987bb99b:a4b66312:7a92f56c:a0b0f951'; Sys.Application.remove_load(fn); }; Sys.Application.add_load(fn); })();
